<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>Universes.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-centered alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.11.0+0.11.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">From</span> Coq <span class="kn">Require Import</span> MSetList MSetFacts MSetProperties MSetDecide.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">From</span> MetaCoq.Template <span class="kn">Require Import</span> utils BasicAst config.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">From</span> Equations <span class="kn">Require Import</span> Equations.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> ssreflect.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local Open Scope</span> nat_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local Open Scope</span> string_scope2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">absurd</span> :=
  <span class="kr">match goal with</span>
  | [H : <span class="kt">False</span> |- _] =&gt; <span class="nb">elim</span> H
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Hint Extern</span> <span class="mi">10</span> =&gt; <span class="nb">absurd</span> : core.</span></span></span></pre><div class="doc">
<a name="lab1"></a><h1 class="section">Valuations</h1>
</div><pre class="alectryon-io"><!-- Generator: Alectryon --></pre><div class="doc">
A valuation is a universe level (nat) given for each
    universe variable (Level.t).
    It is &gt;= for polymorphic universes and &gt; 0 for monomorphic universes. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Record</span> <span class="nf">valuation</span> :=
  { valuation_mono : string -&gt; positive ;
    valuation_poly : nat -&gt; nat }.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">universes</span> := 
  | UProp 
  | USProp
  | UType (i : nat).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> EqDec <span class="kr">for</span> universes.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Class</span> <span class="nf">Evaluable</span> (<span class="nv">A</span> : <span class="kt">Type</span>) := val : valuation -&gt; A -&gt; nat.</span></span></span></pre><div class="doc">
This inductive classifies which eliminations are allowed for inductive types
  in various sorts. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">allowed_eliminations</span> : <span class="kt">Set</span> :=
| IntoSProp
| IntoPropSProp
| IntoSetPropSProp
| IntoAny.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> EqDec <span class="kr">for</span> allowed_eliminations.</span></span></span></pre><div class="doc">
Levels are Set or Level or Var 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Level</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">t_</span> : <span class="kt">Set</span> :=
  | lSet
  | Level (_ : string)
  | Var (_ : nat) <span class="c">(* these are debruijn indices *)</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> EqDec <span class="kr">for</span> t_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := t_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_set</span> (<span class="nv">x</span> : t) :=
    <span class="kr">match</span> x <span class="kr">with</span>
    | lSet =&gt; true
    | _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_var</span> (<span class="nv">l</span> : t) :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | Var _ =&gt; true
    | _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">Evaluable</span> : Evaluable t
    := <span class="kr">fun</span> <span class="nv">v</span> <span class="nv">l</span> =&gt; <span class="kr">match</span> l <span class="kr">with</span>
               | lSet =&gt;  (<span class="mi">0</span>%nat)
               | Level s =&gt; (Pos.to_nat (v.(valuation_mono) s))
               | Var x =&gt; (v.(valuation_poly) x)
               <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compare</span> (<span class="nv">l1</span> <span class="nv">l2</span> : t) : comparison :=
    <span class="kr">match</span> l1, l2 <span class="kr">with</span>
    | lSet, lSet =&gt; Eq
    | lSet, _ =&gt; Lt
    | _, lSet =&gt; Gt
    | Level s1, Level s2 =&gt; string_compare s1 s2
    | Level _, _ =&gt; Lt
    | _, Level _ =&gt; Gt
    | Var n, Var m =&gt; Nat.<span class="nb">compare</span> n m
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq</span> : t -&gt; t -&gt; <span class="kt">Prop</span> := eq.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_equiv</span> : Equivalence eq := _.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk0"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_dec</span> (<span class="nv">l1</span> <span class="nv">l2</span> : t) : {l1 = l2}+{l1 &lt;&gt; l2}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l1 = l2} + {l1 &lt;&gt; l2}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l1 = l2} + {l1 &lt;&gt; l2}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2"><span class="highlight"><span class="bp">decide equality</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{s = s0} + {s &lt;&gt; s0}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk3"><hr></label><div class="goal-conclusion"><span class="highlight">{n = n0} + {n &lt;&gt; n0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk4"><span class="highlight"><span class="nb">apply</span> string_dec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{n = n0} + {n &lt;&gt; n0}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> Peano_dec.eq_nat_dec.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">lt_</span> : t -&gt; t -&gt; <span class="kt">Prop</span> :=
  | ltSetLevel s : lt_ lSet (Level s)
  | ltSetVar n : lt_ lSet (Var n)
  | ltLevelLevel s s&#39; : string_lt s s&#39; -&gt; lt_ (Level s) (Level s&#39;)
  | ltLevelVar s n : lt_ (Level s) (Var n)
  | ltVarVar n n&#39; : Nat.lt n n&#39; -&gt; lt_ (Var n) (Var n&#39;).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt</span> := lt_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk5"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt_strorder</span> : StrictOrder lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk7"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk9"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka"><span class="highlight"><span class="nb">intros</span> [| |] X; <span class="nb">inversion</span> X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Level s) (Level s)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s0, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string_lt s s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s0 = s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s&#39; = s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Var n) (Var n)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0, n'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Nat.lt n n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n0 = n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39; = n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkb"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc"><span class="highlight"><span class="nb">eapply</span> string_lt_irreflexive; tea.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Var n) (Var n)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0, n'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Nat.lt n n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n0 = n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39; = n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> Nat.lt_irrefl; tea.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke"><span class="highlight"><span class="nb">intros</span> [| |] [| |] [| |] X1 X2;
        <span class="nb">inversion</span> X1; <span class="nb">inversion</span> X2; <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0, s1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Level s) (Level s0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Level s0) (Level s1)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string_lt s s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s2 = s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s&#39; = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3, s'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string_lt s0 s1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s3 = s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s&#39;0 = s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">string_lt s s1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0, n1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Var n) (Var n0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Var n0) (Var n1)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n2, n'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Nat.lt n n0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n2 = n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39; = n0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n3, n'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Nat.lt n0 n1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n3 = n0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39;0 = n1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkf"><hr></label><div class="goal-conclusion"><span class="highlight">Nat.lt n n1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk10"><span class="highlight"><span class="nb">eapply</span> transitive_string_lt; tea.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0, n1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Var n) (Var n0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Var n0) (Var n1)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n2, n'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Nat.lt n n0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n2 = n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39; = n0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n3, n'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Nat.lt n0 n1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n3 = n0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39;0 = n1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Nat.lt n n1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">etransitivity</span>; tea.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk11"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt_compat</span> : Proper (eq ==&gt; eq ==&gt; iff) lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk12"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk13"><span class="highlight"><span class="nb">intros</span> x y e z t e&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq x y</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq z t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt x z &lt;-&gt; lt y t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk14"><span class="highlight"><span class="nb">unfold</span> eq <span class="kr">in</span> *; <span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">y, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt y t &lt;-&gt; lt y t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk15"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compare_spec</span> :
    <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : t, CompareSpec (x = y) (lt x y) (lt y x) (<span class="nb">compare</span> x y).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : t,
CompareSpec (x = y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk16"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : t,
CompareSpec (x = y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk17"><span class="highlight"><span class="nb">intros</span> [] []; <span class="kp">repeat</span> <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (Level s = Level s0)
  (lt (Level s) (Level s0)) (lt (Level s0) (Level s))
  (<span class="nb">compare</span> (Level s) (Level s0))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk18"><hr></label><div class="goal-conclusion"><span class="highlight">CompareSpec (Var n = Var n0) (lt (Var n) (Var n0))
  (lt (Var n0) (Var n)) (<span class="nb">compare</span> (Var n) (Var n0))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk19"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (Level s = Level s0)
  (lt (Level s) (Level s0)) (lt (Level s0) (Level s))
  (<span class="nb">compare</span> (Level s) (Level s0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a"><span class="highlight"><span class="nb">eapply</span> CompareSpec_Proper.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Level s = Level s0 &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1b"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Level s) (Level s0) &lt;-&gt; <span class="nl">?y0</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1c"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Level s0) (Level s) &lt;-&gt; <span class="nl">?y1</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nb">compare</span> (Level s) (Level s0) = <span class="nl">?y2</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1e"><hr></label><div class="goal-conclusion"><span class="highlight">CompareSpec <span class="nl">?y</span> <span class="nl">?y0</span> <span class="nl">?y1</span> <span class="nl">?y2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f"><span class="highlight"><span class="mi">5</span>: <span class="nb">eapply</span> CompareSpec_string.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Level s = Level s0 &lt;-&gt; <span class="nl">?Goal4</span> = <span class="nl">?Goal5</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk20"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Level s) (Level s0) &lt;-&gt; string_lt <span class="nl">?Goal4</span> <span class="nl">?Goal5</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk21"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Level s0) (Level s) &lt;-&gt; string_lt <span class="nl">?Goal5</span> <span class="nl">?Goal4</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk22" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk22"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nb">compare</span> (Level s) (Level s0) =
string_compare <span class="nl">?Goal4</span> <span class="nl">?Goal5</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk23"><span class="highlight"><span class="mi">4</span>: <span class="bp">reflexivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Level s = Level s0 &lt;-&gt; s = s0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk24" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk24"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Level s) (Level s0) &lt;-&gt; string_lt s s0</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk25"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Level s0) (Level s) &lt;-&gt; string_lt s0 s</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk26"><span class="highlight"><span class="kp">all</span>: <span class="nb">split</span>; [<span class="bp">now</span> <span class="nb">inversion</span> <span class="mi">1</span>|].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = s0 -&gt; Level s = Level s0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk27"><hr></label><div class="goal-conclusion"><span class="highlight">string_lt s s0 -&gt; lt (Level s) (Level s0)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk28" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk28"><hr></label><div class="goal-conclusion"><span class="highlight">string_lt s0 s -&gt; lt (Level s0) (Level s)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk29"><span class="highlight"><span class="bp">now</span> <span class="nb">intros</span> -&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">string_lt s s0 -&gt; lt (Level s) (Level s0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2a"><hr></label><div class="goal-conclusion"><span class="highlight">string_lt s0 s -&gt; lt (Level s0) (Level s)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">all</span>: <span class="nb">intro</span>; <span class="bp">now</span> <span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (Var n = Var n0) (lt (Var n) (Var n0))
  (lt (Var n0) (Var n)) (<span class="nb">compare</span> (Var n) (Var n0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c"><span class="highlight"><span class="nb">eapply</span> CompareSpec_Proper.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Var n = Var n0 &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2d"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Var n) (Var n0) &lt;-&gt; <span class="nl">?y0</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2e"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Var n0) (Var n) &lt;-&gt; <span class="nl">?y1</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nb">compare</span> (Var n) (Var n0) = <span class="nl">?y2</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk30" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk30"><hr></label><div class="goal-conclusion"><span class="highlight">CompareSpec <span class="nl">?y</span> <span class="nl">?y0</span> <span class="nl">?y1</span> <span class="nl">?y2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk31"><span class="highlight"><span class="mi">5</span>: <span class="nb">eapply</span> Nat.compare_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Var n = Var n0 &lt;-&gt; <span class="nl">?Goal3</span> = <span class="nl">?Goal4</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk32" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk32"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Var n) (Var n0) &lt;-&gt; <span class="nl">?Goal3</span> &lt; <span class="nl">?Goal4</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk33"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Var n0) (Var n) &lt;-&gt; <span class="nl">?Goal4</span> &lt; <span class="nl">?Goal3</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk34"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nb">compare</span> (Var n) (Var n0) = (<span class="nl">?Goal3</span> ?= <span class="nl">?Goal4</span>)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk35"><span class="highlight"><span class="mi">4</span>: <span class="bp">reflexivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Var n = Var n0 &lt;-&gt; n = n0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk36" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk36"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Var n) (Var n0) &lt;-&gt; n &lt; n0</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk37" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk37"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Var n0) (Var n) &lt;-&gt; n0 &lt; n</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk38"><span class="highlight"><span class="kp">all</span>: <span class="nb">split</span>; [<span class="bp">now</span> <span class="nb">inversion</span> <span class="mi">1</span>|].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n = n0 -&gt; Var n = Var n0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk39"><hr></label><div class="goal-conclusion"><span class="highlight">n &lt; n0 -&gt; lt (Var n) (Var n0)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk3a"><hr></label><div class="goal-conclusion"><span class="highlight">n0 &lt; n -&gt; lt (Var n0) (Var n)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b"><span class="highlight"><span class="bp">now</span> <span class="nb">intros</span> -&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt; n0 -&gt; lt (Var n) (Var n0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk3c"><hr></label><div class="goal-conclusion"><span class="highlight">n0 &lt; n -&gt; lt (Var n0) (Var n)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">all</span>: <span class="nb">intro</span>; <span class="bp">now</span> <span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Bonus *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eqb</span> (<span class="nv">l1</span> <span class="nv">l2</span> : Level.t) : bool
    := <span class="kr">match</span> <span class="nb">compare</span> l1 l2 <span class="kr">with</span> Eq =&gt; true | _ =&gt; false <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3d"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eqb_refl</span> : Reflexive eqb.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (<span class="kr">fun</span> <span class="nv">l1</span> <span class="nv">l2</span> : t =&gt; eqb l1 l2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (<span class="kr">fun</span> <span class="nv">l1</span> <span class="nv">l2</span> : t =&gt; eqb l1 l2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3f"><span class="highlight"><span class="nb">intros</span> []; <span class="nb">unfold</span> eqb; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  <span class="kr">match</span> string_compare s s <span class="kr">with</span>
  | Eq =&gt; true
  | _ =&gt; false
  <span class="kr">end</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk40" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk40"><hr></label><div class="goal-conclusion"><span class="highlight">is_true
  <span class="kr">match</span> n ?= n <span class="kr">with</span>
  | Eq =&gt; true
  | _ =&gt; false
  <span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk41"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  <span class="kr">match</span> string_compare s s <span class="kr">with</span>
  | Eq =&gt; true
  | _ =&gt; false
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk42"><span class="highlight"><span class="nb">rewrite</span> (ssreflect.iffRL (string_compare_eq s s)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s = s</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk43" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk43"><hr></label><div class="goal-conclusion"><span class="highlight">is_true true</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">all</span>: <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk44"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  <span class="kr">match</span> n ?= n <span class="kr">with</span>
  | Eq =&gt; true
  | _ =&gt; false
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk45"><span class="highlight"><span class="nb">rewrite</span> Nat.compare_refl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true true</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk46"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_spec</span> <span class="nv">l</span> <span class="nv">l&#39;</span> : reflect (eq l l&#39;) (eqb l l&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (eq l l&#39;) (eqb l l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk47"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (eq l l&#39;) (eqb l l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk48"><span class="highlight"><span class="nb">destruct</span> l, l&#39;; <span class="nb">cbn</span>; <span class="kp">try</span> <span class="nb">constructor</span>; <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (eq (Level s) (Level s0))
  (eqb (Level s) (Level s0))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk49" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk49"><hr></label><div class="goal-conclusion"><span class="highlight">reflect (eq (Var n) (Var n0)) (eqb (Var n) (Var n0))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk4a"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (eq (Level s) (Level s0))
  (eqb (Level s) (Level s0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk4b"><span class="highlight"><span class="nb">apply</span> iff_reflect.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq (Level s) (Level s0) &lt;-&gt;
eqb (Level s) (Level s0) = true</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk4c"><span class="highlight"><span class="nb">unfold</span> eqb; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq (Level s) (Level s0) &lt;-&gt;
<span class="kr">match</span> string_compare s s0 <span class="kr">with</span>
| Eq =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk4d"><span class="highlight"><span class="nb">destruct</span> (CompareSpec_string s s0); <span class="nb">split</span>; <span class="nb">intro</span> HH;
        <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">discriminate</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string_lt s s0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq (Level s) (Level s0)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">string_lt s0 s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq (Level s) (Level s0)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk4e"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">all</span>: <span class="nb">inversion</span> HH; <span class="nb">subst</span>; <span class="bp">now</span> <span class="nb">apply</span> string_lt_irreflexive <span class="kr">in</span> H.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk4f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (eq (Var n) (Var n0)) (eqb (Var n) (Var n0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk50"><span class="highlight"><span class="nb">apply</span> iff_reflect.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq (Var n) (Var n0) &lt;-&gt; eqb (Var n) (Var n0) = true</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk51"><span class="highlight"><span class="nb">unfold</span> eqb; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq (Var n) (Var n0) &lt;-&gt;
<span class="kr">match</span> n ?= n0 <span class="kr">with</span>
| Eq =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk52"><span class="highlight"><span class="nb">destruct</span> (Nat.compare_spec n n0); <span class="nb">split</span>; <span class="nb">intro</span> HH;
        <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="kp">try</span> <span class="bp">discriminate</span>; <span class="kp">try</span> <span class="bp">congruence</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; n0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq (Var n) (Var n0)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk53" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n0 &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq (Var n) (Var n0)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk53"><hr></label><div class="goal-conclusion"><span class="highlight">false = true</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">all</span>: <span class="nb">inversion</span> HH; <span class="nb">subst</span>; <span class="bp">now</span> <span class="nb">apply</span> Nat.lt_irrefl <span class="kr">in</span> H.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_leibniz</span> (<span class="nv">x</span> <span class="nv">y</span> : t) : eq x y -&gt; x = y := id.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Level</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">LevelSet</span> := MSetList.MakeWithLeibniz Level.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">LevelSetFact</span> := WFactsOn Level LevelSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">LevelSetProp</span> := WPropertiesOn Level LevelSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">LevelSetDecide</span> := WDecide (LevelSet).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">LS</span> := LevelSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">lsets</span> := LevelSetDecide.fsetdec.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">LevelSet_pair</span> <span class="nv">x</span> <span class="nv">y</span>
  := LevelSet.add y (LevelSet.singleton x).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk54"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">LevelSet_pair_In</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> :
  LevelSet.In x (LevelSet_pair y z) -&gt; x = y \/ x = z.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x (LevelSet_pair y z) -&gt; x = y \/ x = z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk55"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x (LevelSet_pair y z) -&gt; x = y \/ x = z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk56"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.In x (LevelSet_pair y z)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = y \/ x = z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk57"><span class="highlight"><span class="nb">apply</span> LevelSetFact.add_iff <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">z = x \/ LevelSet.In x (LevelSet.singleton y)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = y \/ x = z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk58"><span class="highlight"><span class="nb">destruct</span> H; [<span class="nb">intuition</span>|].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.In x (LevelSet.singleton y)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = y \/ x = z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> LevelSetFact.singleton_1 <span class="kr">in</span> H; <span class="nb">intuition</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk59"><span class="highlight"><span class="kn">Definition</span> <span class="nf">LevelSet_mem_union</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : LevelSet.t) <span class="nv">x</span> :
  LevelSet.mem x (LevelSet.union s s&#39;) &lt;-&gt; LevelSet.mem x s \/ LevelSet.mem x s&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.mem x (LevelSet.union s s&#39;) &lt;-&gt;
LevelSet.mem x s \/ LevelSet.mem x s&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk5a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.mem x (LevelSet.union s s&#39;) &lt;-&gt;
LevelSet.mem x s \/ LevelSet.mem x s&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk5b"><span class="highlight"><span class="nb">rewrite</span> LevelSetFact.union_b.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.mem x s || LevelSet.mem x s&#39; &lt;-&gt;
LevelSet.mem x s \/ LevelSet.mem x s&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> orb_true_iff.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk5c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">LevelSet_In_fold_right_add</span> <span class="nv">x</span> <span class="nv">l</span> :
  In x l &lt;-&gt; LevelSet.In x (fold_right LevelSet.add LevelSet.empty l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x l &lt;-&gt;
LevelSet.In x
  (fold_right LevelSet.add LevelSet.empty l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk5d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x l &lt;-&gt;
LevelSet.In x
  (fold_right LevelSet.add LevelSet.empty l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk5e"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x l -&gt;
LevelSet.In x
  (fold_right LevelSet.add LevelSet.empty l)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk5f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk5f"><hr></label><div class="goal-conclusion"><span class="highlight">LevelSet.In x
  (fold_right LevelSet.add LevelSet.empty l) -&gt; In x l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk60"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In x l -&gt;
LevelSet.In x
  (fold_right LevelSet.add LevelSet.empty l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk61"><span class="highlight"><span class="nb">induction</span> l; <span class="nb">simpl</span> =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x l -&gt; LevelSet.In x (fold_right LevelSet.add LevelSet.empty l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a = x \/ In x l -&gt;
LevelSet.In x
  (LevelSet.add a
     (fold_right LevelSet.add LevelSet.empty l))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk62"><span class="highlight"><span class="nb">intros</span> [&lt;-|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In a l -&gt; LevelSet.In a (fold_right LevelSet.add LevelSet.empty l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In a
  (LevelSet.add a
     (fold_right LevelSet.add LevelSet.empty l))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk63" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x l -&gt; LevelSet.In x (fold_right LevelSet.add LevelSet.empty l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk63"><hr></label><div class="goal-conclusion"><span class="highlight">LevelSet.In x
  (LevelSet.add a
     (fold_right LevelSet.add LevelSet.empty l))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk64"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In a l -&gt; LevelSet.In a (fold_right LevelSet.add LevelSet.empty l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In a
  (LevelSet.add a
     (fold_right LevelSet.add LevelSet.empty l))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> LevelSet.add_spec; <span class="nb">left</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk65"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x l -&gt; LevelSet.In x (fold_right LevelSet.add LevelSet.empty l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x
  (LevelSet.add a
     (fold_right LevelSet.add LevelSet.empty l))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> LevelSet.add_spec; <span class="nb">right</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk66"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x
  (fold_right LevelSet.add LevelSet.empty l) -&gt; In x l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk67"><span class="highlight"><span class="nb">induction</span> l; <span class="nb">simpl</span> =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x LevelSet.empty -&gt; <span class="kt">False</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk68" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.In x (fold_right LevelSet.add LevelSet.empty l) -&gt; In x l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk68"><hr></label><div class="goal-conclusion"><span class="highlight">LevelSet.In x
  (LevelSet.add a
     (fold_right LevelSet.add LevelSet.empty l)) -&gt;
a = x \/ In x l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk69"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x LevelSet.empty -&gt; <span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> LevelSetFact.empty_iff.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk6a"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.In x (fold_right LevelSet.add LevelSet.empty l) -&gt; In x l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x
  (LevelSet.add a
     (fold_right LevelSet.add LevelSet.empty l)) -&gt;
a = x \/ In x l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk6b"><span class="highlight"><span class="nb">rewrite</span> LevelSet.add_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list LevelSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.In x (fold_right LevelSet.add LevelSet.empty l) -&gt; In x l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = a \/
LevelSet.In x
  (fold_right LevelSet.add LevelSet.empty l) -&gt;
a = x \/ In x l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk6c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">LevelSet_union_empty</span> <span class="nv">s</span> : LevelSet.union LevelSet.empty s = s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.union LevelSet.empty s = s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk6d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.union LevelSet.empty s = s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk6e"><span class="highlight"><span class="nb">apply</span> LevelSet.eq_leibniz.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.eq (LevelSet.union LevelSet.empty s) s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk6f"><span class="highlight"><span class="nb">change</span> LevelSet.eq <span class="kr">with</span> LevelSet.Equal.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.Equal (LevelSet.union LevelSet.empty s) s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk70"><span class="highlight"><span class="nb">intros</span> x; <span class="nb">rewrite</span> LevelSet.union_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">LevelSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">LevelSet.In x LevelSet.empty \/ LevelSet.In x s &lt;-&gt;
LevelSet.In x s</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">lsets.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* prop level is Prop or SProp *)</span>
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">PropLevel</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">t</span> := lSProp | lProp.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> EqDec <span class="kr">for</span> t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  <span class="c">(* Global Instance PropLevel_Evaluable : Evaluable t :=</span>
<span class="c">    fun v l =&gt; match l with</span>
<span class="c">              lSProp =&gt; -1</span>
<span class="c">            | lProp =&gt; -1</span>
<span class="c">            end. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compare</span> (<span class="nv">l1</span> <span class="nv">l2</span> : t) : comparison :=
    <span class="kr">match</span> l1, l2 <span class="kr">with</span>
    | lSProp, lSProp  =&gt; Eq
    | lProp, lProp  =&gt; Eq
    | lProp, lSProp =&gt; Gt
    | lSProp, lProp =&gt; Lt
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">lt_</span> : t -&gt; t -&gt; <span class="kt">Prop</span> :=
    ltSPropProp : lt_ lSProp lProp.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt</span> := lt_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk71"><span class="highlight"><span class="kn">Instance</span> <span class="nf">lt_strorder</span> : StrictOrder lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk72"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk74"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk75"><span class="highlight"><span class="nb">intros</span> n X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt n n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> n;<span class="nb">inversion</span> X.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk76"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk77"><span class="highlight"><span class="nb">intros</span> n1 n2 n3 X1 X2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n1, n2, n3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt n1 n2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt n2 n3</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt n1 n3</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> n1,n2,n3;<span class="nb">auto</span>; <span class="kp">try</span> <span class="nb">inversion</span> X1;<span class="kp">try</span> <span class="nb">inversion</span> X2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">PropLevel</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">UnivExpr</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  <span class="c">(* npe = no prop expression *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := (Level.t * nat)%type.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">Evaluable</span> : Evaluable t
    := <span class="kr">fun</span> <span class="nv">v</span> <span class="nv">l</span> =&gt; (snd l + val v (fst l)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">succ</span> (<span class="nv">l</span> : t) := (fst l, S (snd l)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">get_level</span> (<span class="nv">e</span> : t) : Level.t := fst e.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">get_noprop</span> (<span class="nv">e</span> : UnivExpr.t) := Some (fst e).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_level</span> (<span class="nv">e</span> : t) : bool :=
    <span class="kr">match</span> e <span class="kr">with</span>
    | (_, <span class="mi">0</span>%nat) =&gt; true
    | _  =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">make</span> (<span class="nv">l</span> : Level.t) : t := (l, <span class="mi">0</span>%nat).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">set</span> : t := (Level.lSet, <span class="mi">0</span>%nat).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">type1</span> : t := (Level.lSet, <span class="mi">1</span>%nat).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Used for (un)quoting. *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">from_kernel_repr</span> (<span class="nv">e</span> : Level.t * bool) : t
    := (e.<span class="mi">1</span>, <span class="kr">if</span> e.<span class="mi">2</span> <span class="kr">then</span> <span class="mi">1</span>%nat <span class="kr">else</span> <span class="mi">0</span>%nat).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">to_kernel_repr</span> (<span class="nv">e</span> : t) : Level.t * bool
    := <span class="kr">match</span> e <span class="kr">with</span>
       | (l, b) =&gt; (l, <span class="kr">match</span> b <span class="kr">with</span> <span class="mi">0</span>%nat =&gt; false | _ =&gt; true <span class="kr">end</span>)
       <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq</span> : t -&gt; t -&gt; <span class="kt">Prop</span> := eq.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_equiv</span> : Equivalence eq := _.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">lt_</span> : t -&gt; t -&gt; <span class="kt">Prop</span> :=
  | ltUnivExpr1 l n n&#39; : (n &lt; n&#39;)%nat -&gt; lt_ (l, n) (l, n&#39;)
  | ltUnivExpr2 l l&#39; b b&#39; : Level.lt l l&#39; -&gt; lt_ (l, b) (l&#39;, b&#39;).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt</span> := lt_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk78"><span class="highlight"><span class="kn">Instance</span> <span class="nf">lt_strorder</span> : StrictOrder lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk79"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk7a"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk7b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk7c"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk7d"><span class="highlight"><span class="nb">intros</span> x X; <span class="nb">inversion</span> X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(l, n) = x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39; = n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk7e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, b'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(l, b) = x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l&#39; = l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b&#39; = b</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk7e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk7f"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (l, n) (l, n)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, b'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(l, b) = x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l&#39; = l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b&#39; = b</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk80"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk81"><span class="highlight"><span class="bp">lia</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, b'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(l, b) = x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l&#39; = l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">b&#39; = b</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk82"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (l, b) (l, b)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> Level.lt_strorder; <span class="bp">eassumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk83"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk84"><span class="highlight"><span class="nb">intros</span> x y z X1 X2; invs X1; invs X2; <span class="nb">constructor</span>; tea.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, n', n'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; n&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n&#39; &lt; n&#39;0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt; n&#39;0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk85" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l l&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l&#39; l&#39;0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk85"><hr></label><div class="goal-conclusion"><span class="highlight">Level.lt l l&#39;0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk86"><span class="highlight"><span class="nb">etransitivity</span>; tea.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l l&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l&#39; l&#39;0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Level.lt l l&#39;0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">etransitivity</span>; tea.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk87"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt_compat</span> : Proper (Logic.eq ==&gt; Logic.eq ==&gt; iff) lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (Logic.eq ==&gt; Logic.eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> x x&#39; H1 y y&#39; H2; <span class="bp">now</span> <span class="nb">rewrite</span> H1 H2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compare</span> (<span class="nv">x</span> <span class="nv">y</span> : t) : comparison :=
    <span class="kr">match</span> x, y <span class="kr">with</span>
    | (l1, b1), (l2, b2) =&gt;
      <span class="kr">match</span> Level.<span class="nb">compare</span> l1 l2 <span class="kr">with</span>
      | Eq =&gt; Nat.<span class="nb">compare</span> b1 b2
      | x =&gt; x
      <span class="kr">end</span>
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk88"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compare_spec</span> :
    <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : t, CompareSpec (x = y) (lt x y) (lt y x) (<span class="nb">compare</span> x y).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : t,
CompareSpec (x = y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk89"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : t,
CompareSpec (x = y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk8a"><span class="highlight"><span class="nb">intros</span> [? ?] [? ?]; <span class="nb">cbn</span>; <span class="kp">repeat</span> <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec ((t0, n) = (t1, n0)) (lt (t0, n) (t1, n0))
  (lt (t1, n0) (t0, n))
  <span class="kr">match</span> Level.<span class="nb">compare</span> t0 t1 <span class="kr">with</span>
  | Eq =&gt; n ?= n0
  | Lt =&gt; Lt
  | Gt =&gt; Gt
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk8b"><span class="highlight"><span class="nb">destruct</span> (Level.compare_spec t0 t1); <span class="kp">repeat</span> <span class="nb">constructor</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0 = t1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec ((t0, n) = (t1, n0)) (lt (t0, n) (t1, n0))
  (lt (t1, n0) (t0, n)) (n ?= n0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk8c"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec ((t1, n) = (t1, n0)) (lt (t1, n) (t1, n0))
  (lt (t1, n0) (t1, n)) (n ?= n0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk8d"><span class="highlight"><span class="nb">destruct</span> (Nat.compare_spec n n0); <span class="kp">repeat</span> <span class="nb">constructor</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n = n0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(t1, n) = (t1, n0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk8e"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_dec</span> (<span class="nv">l1</span> <span class="nv">l2</span> : t) : {l1 = l2} + {l1 &lt;&gt; l2}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l1 = l2} + {l1 &lt;&gt; l2}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk8f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l1 = l2} + {l1 &lt;&gt; l2}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">repeat</span> <span class="bp">decide equality</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_leibniz</span> (<span class="nv">x</span> <span class="nv">y</span> : t) : eq x y -&gt; x = y := id.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk90"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_make</span> <span class="nv">v</span> <span class="nv">l</span>
    : val v (UnivExpr.make l) = val v l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (make l) = val v l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk91"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (make l) = val v l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> l <span class="nb">eqn</span>:H; cbnr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk92"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_make_npl</span> <span class="nv">v</span> (<span class="nv">l</span> : Level.t)
    : val v (UnivExpr.make l) = val v l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (make l) = val v l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk93"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (make l) = val v l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> l; cbnr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">UnivExpr</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">UnivExprSet</span> := MSetList.MakeWithLeibniz UnivExpr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">UnivExprSetFact</span> := WFactsOn UnivExpr UnivExprSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">UnivExprSetProp</span> := WPropertiesOn UnivExpr UnivExprSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* We have decidable equality w.r.t leibniz equality for sets of levels.</span>
<span class="c">  This means universes also have a decidable equality. *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk94"><span class="highlight"><span class="kn">Instance</span> <span class="nf">univexprset_eq_dec</span> : Classes.EqDec UnivExprSet.t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec UnivExprSet.t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk95"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec UnivExprSet.t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk96"><span class="highlight"><span class="nb">intros</span> p p&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk97"><span class="highlight"><span class="nb">destruct</span> (UnivExprSet.eq_dec p p&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk98" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.eq p p&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk98"><hr></label><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk99"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">left</span>; <span class="nb">eapply</span> UnivExprSet.eq_leibniz <span class="kr">in</span> e.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk9a"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk9b"><span class="highlight"><span class="nb">right</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p &lt;&gt; p&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk9c"><span class="highlight"><span class="nb">intros</span> -&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.eq p&#39; p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk9d"><span class="highlight"><span class="nb">apply</span> n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.eq p&#39; p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.eq p&#39; p&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Universe</span>.</span></span></span></pre><div class="doc">
A universe is a list of universe expressions which is:
<ul class="doclist">
<li> sorted

</li>
<li> without duplicate

</li>
<li> non empty 
</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Record</span> <span class="nf">t0</span> := { t_set : UnivExprSet.t ;
                 t_ne  : UnivExprSet.is_empty t_set = false }.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> <span class="kr">for</span> t0.</span></span></span></pre><div class="doc">
This needs a propositional UIP proof to show that <span class="inlinecode"><span class="id" title="var">is_empty</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">false</span></span> is a set 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kt">Set</span> Equations With UIP.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk9e"><span class="highlight"><span class="kn">Instance</span> <span class="nf">t0_eqdec</span> : EqDec t0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec t0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk9f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec t0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">eqdec_proof.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">t_</span> :=
    lProp | lSProp | lType (_ : t0).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> <span class="kr">for</span> t_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka0"><span class="highlight"><span class="kn">Instance</span> <span class="nf">t_eqdec</span> : EqDec t_.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec t_</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec t_</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">eqdec_proof.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := t_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Coercion</span> <span class="nf">t_set</span> : t0 &gt;-&gt; UnivExprSet.t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eqb</span> (<span class="nv">u1</span> <span class="nv">u2</span> : t) : bool :=
    <span class="kr">match</span> u1, u2 <span class="kr">with</span>
    | lSProp, lSProp =&gt; true
    | lProp, lProp =&gt; true
    | lType e1, lType e2 =&gt; UnivExprSet.equal e1.(t_set) e2.(t_set)
    | _,_ =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">make&#39;</span> (<span class="nv">e</span> : UnivExpr.t) : t0
    := {| t_set := UnivExprSet.singleton e;
          t_ne := eq_refl |}.</span></span></span></pre><div class="doc">
Create a universe representing the given level. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">make</span> (<span class="nv">l</span> : Level.t) : t :=
    lType (make&#39; (UnivExpr.make l)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">of_expr</span> <span class="nv">e</span> := (lType (make&#39; e)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka2"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">not_Empty_is_empty</span> <span class="nv">s</span> :
    ~ UnivExprSet.Empty s -&gt; UnivExprSet.is_empty s = false.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ UnivExprSet.Empty s -&gt;
UnivExprSet.is_empty s = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~ UnivExprSet.Empty s -&gt;
UnivExprSet.is_empty s = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka4"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.Empty s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty s = false</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka5"><span class="highlight"><span class="nb">apply</span> not_true_is_false.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.Empty s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty s &lt;&gt; true</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka6"><span class="highlight"><span class="nb">intro</span> H&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.Empty s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty s = true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka7"><span class="highlight"><span class="nb">apply</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ UnivExprSet.Empty s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty s = true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Empty s</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> UnivExprSetFact.is_empty_2 <span class="kr">in</span> H&#39;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">add</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">u</span> : t0) : t0
    := {| t_set := UnivExprSet.add e u |}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka8"><span class="highlight"><span class="kn">Next Obligation</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty (UnivExprSet.add e u) = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chka9"><span class="highlight"><span class="nb">apply</span> not_Empty_is_empty; <span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.add e u)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkaa"><span class="highlight"><span class="nb">eapply</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.add e u)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In <span class="nl">?a</span> (UnivExprSet.add e u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkab"><span class="highlight"><span class="nb">eapply</span> UnivExprSet.add_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.add e u)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nl">?a</span> = e \/ UnivExprSet.In <span class="nl">?a</span> u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">left</span>; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">add_to_exprs</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">u</span> : t) : t :=
    <span class="kr">match</span> u <span class="kr">with</span>
    | lSProp |lProp =&gt; u
    | lType l =&gt; lType (add e l)
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkac"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_spec</span> <span class="nv">e</span> <span class="nv">u</span> <span class="nv">e&#39;</span> :
    UnivExprSet.In e&#39; (add e u) &lt;-&gt; e&#39; = e \/ UnivExprSet.In e&#39; u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (add e u) &lt;-&gt;
e&#39; = e \/ UnivExprSet.In e&#39; u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkad"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (add e u) &lt;-&gt;
e&#39; = e \/ UnivExprSet.In e&#39; u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> UnivExprSet.add_spec.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">add_list</span> : list UnivExpr.t -&gt; t0 -&gt; t0
    := List.fold_left (<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">e</span> =&gt; add e u).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkae"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">add_list_spec</span> <span class="nv">l</span> <span class="nv">u</span> <span class="nv">e</span> :
    UnivExprSet.In e (add_list l u) &lt;-&gt; In e l \/ UnivExprSet.In e u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (add_list l u) &lt;-&gt;
In e l \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkaf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (add_list l u) &lt;-&gt;
In e l \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb0"><span class="highlight"><span class="nb">unfold</span> add_list.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (fold_left
     (<span class="kr">fun</span> (<span class="nv">u0</span> : t0) (<span class="nv">e0</span> : UnivExpr.t) =&gt; add e0 u0) l
     u) &lt;-&gt; In e l \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb1"><span class="highlight"><span class="nb">rewrite</span> &lt;- fold_left_rev_right.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (fold_right add u (List.rev l)) &lt;-&gt;
In e l \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb2"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (fold_right add u (List.rev l)) &lt;-&gt;
<span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkb3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkb3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; In e l \/ UnivExprSet.In e u</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb4"><span class="highlight"><span class="mi">2</span>:{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; In e l \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb5"><span class="highlight"><span class="nb">eapply</span> or_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nl">?Goal0</span> &lt;-&gt; In e l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb6"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nl">?Goal0</span> &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkb7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkb7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; In e l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">                       </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb8"><span class="highlight"><span class="mi">2</span>: <span class="nb">apply</span> @InA_In_eq <span class="kr">with</span> (A:=UnivExpr.t).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nl">?Goal0</span> &lt;-&gt; InA eq e l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">                       </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> InA_rev.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkb9"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (fold_right add u (List.rev l)) &lt;-&gt;
InA eq e (List.rev l) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkba"><span class="highlight"><span class="nb">induction</span> (List.rev l); <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt;
InA eq e [] \/ UnivExprSet.In e u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkbb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkbb"><hr></label><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0)) &lt;-&gt;
InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkbc"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt;
InA eq e [] \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkbd"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u -&gt;
InA eq e [] \/ UnivExprSet.In e u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkbe"><hr></label><div class="goal-conclusion"><span class="highlight">InA eq e [] \/ UnivExprSet.In e u -&gt;
UnivExprSet.In e u</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkbf"><span class="highlight"><span class="nb">intuition</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e [] \/ UnivExprSet.In e u -&gt;
UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc0"><span class="highlight"><span class="nb">intros</span> [H|H]; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">invs H.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc1"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0)) &lt;-&gt;
InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc2"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0)) -&gt;
InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkc3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkc3"><hr></label><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u -&gt;
UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc4"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0)) -&gt;
InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc5"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc6"><span class="highlight"><span class="nb">apply</span> add_spec <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = a \/ UnivExprSet.In e (fold_right add u l0)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc7"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">as</span> [H|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkc8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkc8"><hr></label><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkc9"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkca"><span class="highlight"><span class="nb">left</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkcb"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkcc"><span class="highlight"><span class="nb">apply</span> IHl0 <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkcd"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">as</span> [H|H]; [<span class="nb">left</span>|<span class="bp">now</span> <span class="nb">right</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span> <span class="mi">2</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkce"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (a :: l0) \/ UnivExprSet.In e u -&gt;
UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkcf"><span class="highlight"><span class="nb">intros</span> [H|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e (a :: l0)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkd0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkd0"><hr></label><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd1"><span class="highlight">inv H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkd2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkd2"><hr></label><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chkd3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkd3"><hr></label><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd4"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> add_spec; <span class="bp">now</span> <span class="nb">left</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd5"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd6"><span class="highlight"><span class="nb">apply</span> add_spec; <span class="nb">right</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (fold_right add u l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd7"><span class="highlight"><span class="nb">apply</span> IHl0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InA eq e l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e l0 \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">left</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd8"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (UnivExprSet.add a (fold_right add u l0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkd9"><span class="highlight"><span class="nb">apply</span> add_spec; <span class="nb">right</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (fold_right add u l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkda"><span class="highlight"><span class="nb">apply</span> IHl0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e (fold_right add u l0) &lt;-&gt;
InA eq e l0 \/ UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e l0 \/ UnivExprSet.In e u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">right</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">add_list_to_exprs</span> (<span class="nv">es</span> : list UnivExpr.t) (<span class="nv">u</span> : t) : t :=
    <span class="kr">match</span> u <span class="kr">with</span>
    | lSProp |lProp =&gt; u
    | lType l =&gt; lType (add_list es l)
    <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Test if the universe is a lub of levels or contains +n's. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_levels</span> (<span class="nv">u</span> : t) : bool :=
      <span class="kr">match</span> u <span class="kr">with</span>
      | lProp | lSProp =&gt; true
      | lType l =&gt;  UnivExprSet.for_all UnivExpr.is_level l
      <span class="kr">end</span>.</span></span></span></pre><div class="doc">
Test if the universe is a level or an algebraic universe. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_level</span> (<span class="nv">u</span> : t) : bool :=
    <span class="kr">match</span> u <span class="kr">with</span>
    | lProp | lSProp =&gt; true
    | lType l =&gt; (UnivExprSet.cardinal l =? <span class="mi">1</span>)%nat &amp;&amp; is_levels u
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_sprop</span> (<span class="nv">u</span> : t) : bool :=
    <span class="kr">match</span> u <span class="kr">with</span>
      | lSProp =&gt; true
      | _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_prop</span> (<span class="nv">u</span> : t) : bool :=
    <span class="kr">match</span> u <span class="kr">with</span>
      | lProp =&gt; true
      | _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">type0</span> : t := make Level.lSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">type1</span> : t := lType (make&#39; UnivExpr.type1).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">of_levels</span> (<span class="nv">l</span> : PropLevel.t + Level.t) : t :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | inl PropLevel.lSProp =&gt; lSProp
    | inl PropLevel.lProp =&gt; lProp
    | inr l =&gt; lType (make&#39; (l, <span class="mi">0</span>%nat))
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Used for quoting. *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">from_kernel_repr</span> (<span class="nv">e</span> : Level.t * bool) (<span class="nv">es</span> : list (Level.t * bool)) : t
    := lType (add_list (map UnivExpr.from_kernel_repr es)
                (make&#39; (UnivExpr.from_kernel_repr e))).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Definition uex_to_kernel_repr (e : UnivExpr.t) : Level.t * bool := *)</span>
  <span class="c">(*   match e with *)</span>
  <span class="c">(*   | UnivExpr.npe (l, b) =&gt; (NoPropLevel.to_level l, b) *)</span>
  <span class="c">(*   end. *)</span>

  <span class="c">(* Definition to_kernel_repr (u : t) : list (Level.t * bool) *)</span>
  <span class="c">(*   :=  map (UnivExpr.to_kernel_repr) (UnivExprSet.elements u). *)</span>
  <span class="c">(* match u with *)</span>
  <span class="c">(*      | lProp =&gt; [(Level.lProp, false)] *)</span>
  <span class="c">(*      | lSProp =&gt; [(Level.lSProp, false)] *)</span>
  <span class="c">(*      | lType l =&gt; map uex_to_kernel_repr (UnivExprSet.elements l) *)</span>
  <span class="c">(*      end. *)</span></span></span></pre><div class="doc">
The non empty / sorted / without dup list of univ expressions, the
      components of the pair are the head and the tail of the (non empty) list 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">exprs</span> (<span class="nv">u</span> : t0) : UnivExpr.t * list UnivExpr.t
    := <span class="kr">match</span> UnivExprSet.elements u <span class="kr">with</span>
       | [] =&gt; False_rect _ _
       | e :: l =&gt; (e, l)
       <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkdb"><span class="highlight"><span class="kn">Next Obligation</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq_anonymous</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkdc"><span class="highlight"><span class="nb">destruct</span> u <span class="kr">as</span> [u1 u2]; <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq_anonymous</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkdd"><span class="highlight"><span class="nb">revert</span> u2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq_anonymous</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty u1 = false -&gt; <span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkde"><span class="highlight"><span class="nb">apply</span> eq_true_false_abs.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq_anonymous</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty u1 = true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkdf"><span class="highlight"><span class="nb">unfold</span> UnivExprSet.is_empty, UnivExprSet.Raw.is_empty,
    UnivExprSet.elements, UnivExprSet.Raw.elements <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq_anonymous</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.this u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> UnivExprSet.this u1 <span class="kr">then</span> true <span class="kr">else</span> false) = true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- Heq_anonymous; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">exprs_make&#39;</span> <span class="nv">e</span> : <span class="kn">Universe</span>.exprs (<span class="kn">Universe</span>.make&#39; e) = (e, []).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exprs (make&#39; e) = (e, [])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">exprs (make&#39; e) = (e, [])</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Lemma exprs_make l : Universe.exprs (Universe.make l) = (UnivExpr.make l, []). *)</span>
  <span class="c">(* Proof. reflexivity. Defined. *)</span>


</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke2"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">exprs_spec</span> <span class="nv">u</span> :
    <span class="kr">let</span> &#39;(e, u&#39;) := <span class="kn">Universe</span>.exprs u <span class="kr">in</span>
    e :: u&#39; = UnivExprSet.elements u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e, u&#39;) := exprs u <span class="kr">in</span>
 e :: u&#39; = UnivExprSet.elements u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e, u&#39;) := exprs u <span class="kr">in</span>
 e :: u&#39; = UnivExprSet.elements u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke4"><span class="highlight"><span class="nb">destruct</span> u <span class="kr">as</span> [u1 u2].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e, u&#39;) := exprs {| t_set := u1; t_ne := u2 |} <span class="kr">in</span>
 e :: u&#39; =
 UnivExprSet.elements {| t_set := u1; t_ne := u2 |}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke5"><span class="highlight"><span class="nb">pose</span> (l := UnivExprSet.elements u1).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">UnivExprSet.elements u1</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e, u&#39;) := exprs {| t_set := u1; t_ne := u2 |} <span class="kr">in</span>
 e :: u&#39; =
 UnivExprSet.elements {| t_set := u1; t_ne := u2 |}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke6"><span class="highlight"><span class="nb">change</span> (<span class="kr">let</span> &#39;(e, u&#39;) :=
                <span class="kr">match</span> l <span class="kr">return</span> l = UnivExprSet.elements u1 -&gt; _ <span class="kr">with</span>
                | [] =&gt; <span class="kr">fun</span> <span class="nv">Heq_anonymous</span> : [] = _ u1 =&gt;
                    False_rect (UnivExpr.t √ó list UnivExpr.t)
                               (exprs_obligation_1
                                  {| <span class="kn">Universe</span>.t_set := u1; <span class="kn">Universe</span>.t_ne := u2 |}
                                  Heq_anonymous)
                | e :: l0 =&gt; <span class="kr">fun</span> <span class="nv">_</span> : e :: l0 = _ u1 =&gt; (e, l0)
                <span class="kr">end</span> eq_refl <span class="kr">in</span> e :: u&#39; = UnivExprSet.elements  u1).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">UnivExprSet.elements u1</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e, u&#39;) :=
 <span class="kr">match</span>
   l <span class="kr">as</span> l0
   <span class="kr">return</span>
     (l0 = UnivExprSet.elements u1 -&gt;
      UnivExpr.t √ó list UnivExpr.t)
 <span class="kr">with</span>
 | [] =&gt;
     <span class="kr">fun</span> <span class="nv">Heq_anonymous</span> : [] = UnivExprSet.elements u1
     =&gt; !
 | e :: l0 =&gt;
     <span class="kr">fun</span> <span class="nv">_</span> : e :: l0 = UnivExprSet.elements u1 =&gt;
     (e, l0)
 <span class="kr">end</span> eq_refl <span class="kr">in</span> e :: u&#39; = UnivExprSet.elements u1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke7"><span class="highlight"><span class="nb">set</span> (e := eq_refl).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">UnivExprSet.elements u1</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">eq_refl</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e0, u&#39;) :=
 <span class="kr">match</span>
   l <span class="kr">as</span> l0
   <span class="kr">return</span>
     (l0 = UnivExprSet.elements u1 -&gt;
      UnivExpr.t √ó list UnivExpr.t)
 <span class="kr">with</span>
 | [] =&gt;
     <span class="kr">fun</span> <span class="nv">Heq_anonymous</span> : [] = UnivExprSet.elements u1
     =&gt; !
 | e0 :: l0 =&gt;
     <span class="kr">fun</span> <span class="nv">_</span> : e0 :: l0 = UnivExprSet.elements u1 =&gt;
     (e0, l0)
 <span class="kr">end</span> e <span class="kr">in</span> e0 :: u&#39; = UnivExprSet.elements u1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke8"><span class="highlight"><span class="nb">clearbody</span> e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">UnivExprSet.elements u1</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e0, u&#39;) :=
 <span class="kr">match</span>
   l <span class="kr">as</span> l0
   <span class="kr">return</span>
     (l0 = UnivExprSet.elements u1 -&gt;
      UnivExpr.t √ó list UnivExpr.t)
 <span class="kr">with</span>
 | [] =&gt;
     <span class="kr">fun</span> <span class="nv">Heq_anonymous</span> : [] = UnivExprSet.elements u1
     =&gt; !
 | e0 :: l0 =&gt;
     <span class="kr">fun</span> <span class="nv">_</span> : e0 :: l0 = UnivExprSet.elements u1 =&gt;
     (e0, l0)
 <span class="kr">end</span> e <span class="kr">in</span> e0 :: u&#39; = UnivExprSet.elements u1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chke9"><span class="highlight"><span class="nb">change</span> (l = UnivExprSet.elements u1) <span class="kr">in</span> e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">UnivExprSet.elements u1</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e0, u&#39;) :=
 <span class="kr">match</span>
   l <span class="kr">as</span> l0
   <span class="kr">return</span>
     (l0 = UnivExprSet.elements u1 -&gt;
      UnivExpr.t √ó list UnivExpr.t)
 <span class="kr">with</span>
 | [] =&gt;
     <span class="kr">fun</span> <span class="nv">Heq_anonymous</span> : [] = UnivExprSet.elements u1
     =&gt; !
 | e0 :: l0 =&gt;
     <span class="kr">fun</span> <span class="nv">_</span> : e0 :: l0 = UnivExprSet.elements u1 =&gt;
     (e0, l0)
 <span class="kr">end</span> e <span class="kr">in</span> e0 :: u&#39; = UnivExprSet.elements u1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkea"><span class="highlight"><span class="nb">destruct</span> l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e0, u&#39;) := ! <span class="kr">in</span> e0 :: u&#39; = UnivExprSet.elements u1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkeb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e0 :: l = UnivExprSet.elements u1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkeb"><hr></label><div class="goal-conclusion"><span class="highlight">e0 :: l = UnivExprSet.elements u1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkec"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span>
&#39;(e0, u&#39;) := ! <span class="kr">in</span> e0 :: u&#39; = UnivExprSet.elements u1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chked"><span class="highlight"><span class="nb">exfalso</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkee"><span class="highlight"><span class="nb">revert</span> u2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty u1 = false -&gt; <span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkef"><span class="highlight"><span class="nb">apply</span> eq_true_false_abs.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty u1 = true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf0"><span class="highlight"><span class="nb">unfold</span> UnivExprSet.is_empty, UnivExprSet.Raw.is_empty,
      UnivExprSet.elements, UnivExprSet.Raw.elements <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[] = UnivExprSet.this u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> UnivExprSet.this u1 <span class="kr">then</span> true <span class="kr">else</span> false) = true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> &lt;- e; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf1"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e0 :: l = UnivExprSet.elements u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e0 :: l = UnivExprSet.elements u1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf2"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">exprs_spec&#39;</span> <span class="nv">u</span> :
    (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> :: (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> = UnivExprSet.elements u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(exprs u).<span class="mi">1</span> :: (exprs u).<span class="mi">2</span> = UnivExprSet.elements u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(exprs u).<span class="mi">1</span> :: (exprs u).<span class="mi">2</span> = UnivExprSet.elements u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf4"><span class="highlight"><span class="nb">pose proof</span> (exprs_spec u).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">let</span>
&#39;(e, u&#39;) := exprs u <span class="kr">in</span>
 e :: u&#39; = UnivExprSet.elements u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(exprs u).<span class="mi">1</span> :: (exprs u).<span class="mi">2</span> = UnivExprSet.elements u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">destruct</span> (<span class="kn">Universe</span>.exprs u).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">In_exprs</span> (<span class="nv">u</span> : t0) (<span class="nv">e</span> : UnivExpr.t) :
    UnivExprSet.In e u
    &lt;-&gt; e = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/ In e (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt;
e = (exprs u).<span class="mi">1</span> \/ In e (exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt;
e = (exprs u).<span class="mi">1</span> \/ In e (exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf7"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkf8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkf8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; e = (exprs u).<span class="mi">1</span> \/ In e (exprs u).<span class="mi">2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkf9"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; UnivExprSet.In e u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chkfa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chkfa"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; e = (exprs u).<span class="mi">1</span> \/ In e (exprs u).<span class="mi">2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkfb"><span class="highlight"><span class="nb">apply</span> UnivExprSet.elements_spec1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (UnivExprSet.elements u) &lt;-&gt;
e = (exprs u).<span class="mi">1</span> \/ In e (exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkfc"><span class="highlight"><span class="nb">pose proof</span> (<span class="kn">Universe</span>.exprs_spec&#39; u) <span class="kr">as</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(exprs u).<span class="mi">1</span> :: (exprs u).<span class="mi">2</span> =
UnivExprSet.elements u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (UnivExprSet.elements u) &lt;-&gt;
e = (exprs u).<span class="mi">1</span> \/ In e (exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkfd"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.exprs u) <span class="kr">as</span> [e&#39; l]; <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; :: l = UnivExprSet.elements u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (UnivExprSet.elements u) &lt;-&gt; e = e&#39; \/ In e l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkfe"><span class="highlight"><span class="nb">rewrite</span> &lt;- H; <span class="nb">clear</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (e&#39; :: l) &lt;-&gt; e = e&#39; \/ In e l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chkff"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e (e&#39; :: l) &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk100" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk100"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; e = e&#39; \/ In e l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk101"><span class="highlight"><span class="nb">apply</span> InA_cons.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = e&#39; \/ InA eq e l &lt;-&gt; e = e&#39; \/ In e l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk102"><span class="highlight"><span class="nb">eapply</span> or_iff_compat_l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InA eq e l &lt;-&gt; In e l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> InA_In_eq.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk103"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">In_exprs_rev</span> (<span class="nv">u</span> : t0) (<span class="nv">e</span> : UnivExpr.t) :
    UnivExprSet.In e u
    &lt;-&gt; e = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/ In e (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt;
e = (exprs u).<span class="mi">1</span> \/ In e (List.rev (exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk104"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt;
e = (exprs u).<span class="mi">1</span> \/ In e (List.rev (exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk105"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk106" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk106"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt; e = (exprs u).<span class="mi">1</span> \/ In e (List.rev (exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk107"><span class="highlight"><span class="nb">eapply</span> In_exprs.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = (exprs u).<span class="mi">1</span> \/ In e (exprs u).<span class="mi">2</span> &lt;-&gt;
e = (exprs u).<span class="mi">1</span> \/ In e (List.rev (exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk108"><span class="highlight"><span class="nb">apply</span> or_iff_compat_l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In e (exprs u).<span class="mi">2</span> &lt;-&gt; In e (List.rev (exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> in_rev.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">map</span> (<span class="nv">f</span> : UnivExpr.t -&gt; UnivExpr.t) (<span class="nv">u</span> : t0) : t0 :=
    <span class="kr">let</span> &#39;(e, l) := exprs u <span class="kr">in</span>
    add_list (List.map f l) (make&#39; (f e)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk109"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">map_spec</span> <span class="nv">f</span> <span class="nv">u</span> <span class="nv">e</span> :
    UnivExprSet.In e (map f u) &lt;-&gt; <span class="kr">exists</span> <span class="nv">e0</span>, UnivExprSet.In e0 u /\ e = (f e0).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (map f u) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
   UnivExprSet.In e0 u /\ e = f e0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk10a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (map f u) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
   UnivExprSet.In e0 u /\ e = f e0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk10b"><span class="highlight"><span class="nb">unfold</span> map.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (<span class="kr">let</span>
   &#39;(e0, l) := exprs u <span class="kr">in</span>
    add_list (List.map f l) (make&#39; (f e0))) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
   UnivExprSet.In e0 u /\ e = f e0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk10c"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
   UnivExprSet.In e0 u /\ e = f e0) &lt;-&gt;
UnivExprSet.In e
  (<span class="kr">let</span>
   &#39;(e0, l) := exprs u <span class="kr">in</span>
    add_list (List.map f l) (make&#39; (f e0)))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk10d"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
   UnivExprSet.In e0 u /\ e = f e0) &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk10e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk10e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt;
UnivExprSet.In e
  (<span class="kr">let</span>
   &#39;(e0, l) := exprs u <span class="kr">in</span>
    add_list (List.map f l) (make&#39; (f e0)))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk10f"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
   UnivExprSet.In e0 u /\ e = f e0) &lt;-&gt; <span class="nl">?y</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk110"><span class="highlight"><span class="nb">eapply</span> iff_ex; <span class="nb">intro</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u /\ e = f x &lt;-&gt; <span class="nl">?Goal0</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk111"><span class="highlight"><span class="nb">eapply</span> and_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u &lt;-&gt; <span class="nl">?C</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> In_exprs.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk112"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = (exprs u).<span class="mi">1</span> \/ In x (exprs u).<span class="mi">2</span>) /\ e = f x) &lt;-&gt;
UnivExprSet.In e
  (<span class="kr">let</span>
   &#39;(e0, l) := exprs u <span class="kr">in</span>
    add_list (List.map f l) (make&#39; (f e0)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk113"><span class="highlight"><span class="nb">destruct</span> (exprs u) <span class="kr">as</span> [e&#39; l]; <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x) &lt;-&gt;
UnivExprSet.In e
  (add_list (List.map f l) (make&#39; (f e&#39;)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk114"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (add_list (List.map f l) (make&#39; (f e&#39;))) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk115"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (add_list (List.map f l) (make&#39; (f e&#39;))) &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk116" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk116"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk117"><span class="highlight"><span class="nb">eapply</span> add_list_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In e (List.map f l) \/ UnivExprSet.In e (make&#39; (f e&#39;)) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk118"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In e (List.map f l) \/ UnivExprSet.In e (make&#39; (f e&#39;)) &lt;-&gt;
<span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk119" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk119"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk11a"><span class="highlight"><span class="nb">eapply</span> or_iff_compat_l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (make&#39; (f e&#39;)) &lt;-&gt; <span class="nl">?Goal0</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk11b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk11b"><hr></label><div class="goal-conclusion"><span class="highlight">In e (List.map f l) \/ <span class="nl">?Goal0</span> &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk11c"><span class="highlight"><span class="nb">apply</span> UnivExprSet.singleton_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In e (List.map f l) \/ e = f e&#39; &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk11d"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In e (List.map f l) \/ e = f e&#39; &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk11e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk11e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk11f"><span class="highlight"><span class="nb">eapply</span> or_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">In e (List.map f l) &lt;-&gt; <span class="nl">?Goal0</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk120" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk120"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?Goal0</span> \/ e = f e&#39; &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk121"><span class="highlight"><span class="nb">apply</span> in_map_iff.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39; &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk122"><span class="highlight"><span class="nb">clear</span> u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39; &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk123"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39; -&gt;
<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e&#39; \/ In x l) /\ e = f x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk124" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk124"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x) -&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39;</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk125"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39; -&gt;
<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e&#39; \/ In x l) /\ e = f x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk126"><span class="highlight"><span class="nb">intros</span> [[e0 []]|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f e0 = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e0 l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e&#39; \/ In x l) /\ e = f x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk127" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f e&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk127"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e&#39; \/ In x l) /\ e = f x</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk128"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f e0 = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e0 l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e&#39; \/ In x l) /\ e = f x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk129"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f e0 = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e0 l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(e0 = e&#39; \/ In e0 l) /\ e = f e0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk12a"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f e0 = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e0 l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e0 = e&#39; \/ In e0 l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk12b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f e0 = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e0 l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk12b"><hr></label><div class="goal-conclusion"><span class="highlight">e = f e0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk12c"><span class="highlight"><span class="nb">right</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f e0 = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e0 l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = f e0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk12d"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e&#39; \/ In x l) /\ e = f x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk12e"><span class="highlight"><span class="kr">exists</span> <span class="nv">e&#39;</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(e&#39; = e&#39; \/ In e&#39; l) /\ e = f e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk12f"><span class="highlight"><span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e&#39; = e&#39; \/ In e&#39; l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">left</span>; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk130"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e&#39; \/ In x l) /\ e = f x) -&gt;
(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk131"><span class="highlight"><span class="nb">intros</span> [xx [[H|H] ?]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">xx = e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f xx</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39;</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk132" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In xx l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f xx</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk132"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39;</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk133"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">xx = e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f xx</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk134"><span class="highlight"><span class="nb">right</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">xx = e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f xx</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = f e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">congruence</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk135"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In xx l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f xx</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l) \/ e = f e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk136"><span class="highlight"><span class="nb">left</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In xx l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f xx</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExpr.t, f x = e /\ In x l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk137"><span class="highlight"><span class="kr">exists</span> <span class="nv">xx</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In xx l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = f xx</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f xx = e /\ In xx l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">split</span>; tas; <span class="bp">congruence</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The universe strictly above FOR TYPING (not cumulativity) 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">super</span> (<span class="nv">l</span> : t) : t :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | lSProp =&gt; type1
    | lProp =&gt; type1
    | lType l =&gt; lType (map UnivExpr.succ l)
    <span class="kr">end</span>.</span></span></span></pre><div class="doc">
The l.u.b. of 2 non-prop universe sets 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">sup0</span> (<span class="nv">u</span> <span class="nv">v</span> : t0) : t0 :=
    {| t_set := UnivExprSet.union u v |}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk138"><span class="highlight"><span class="kn">Next Obligation</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.is_empty (UnivExprSet.union u v) = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk139"><span class="highlight"><span class="nb">apply</span> not_Empty_is_empty; <span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk13a"><span class="highlight"><span class="nb">assert</span> (HH: UnivExprSet.Empty u).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Empty u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk13b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty u</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk13b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk13c"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Empty u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk13d"><span class="highlight"><span class="nb">intros</span> x Hx.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In x u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk13e"><span class="highlight"><span class="nb">apply</span> (H x).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In x u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x (UnivExprSet.union u v)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk13f"><span class="highlight"><span class="nb">eapply</span> UnivExprSet.union_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In x u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u \/ UnivExprSet.In x v</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">left</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk140"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk141"><span class="highlight"><span class="nb">apply</span> UnivExprSetFact.is_empty_1 <span class="kr">in</span> HH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Empty (UnivExprSet.union u v)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u = true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> t_ne <span class="kr">in</span> HH; <span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">sup</span> (<span class="nv">u</span> <span class="nv">v</span> : t) : t :=
    <span class="kr">match</span> u,v <span class="kr">with</span>
    | lSProp, lProp =&gt; lProp
    | lProp, lSProp =&gt; lProp
    | (lSProp | lProp), u&#39; =&gt; u&#39;
    | u&#39;, (lSProp | lProp) =&gt; u&#39;
    | lType l1, lType l2  =&gt; lType (sup0 l1 l2)
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk142"><span class="highlight"><span class="kn">Definition</span> <span class="nf">get_univ_exprs</span> (<span class="nv">u</span> : t) (<span class="nv">H1</span> : is_prop u = false) (<span class="nv">H2</span> : is_sprop u = false) : t0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_prop u = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_sprop u = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u; <span class="kp">try</span> <span class="bp">discriminate</span>;<span class="bp">easy</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span></span></pre><div class="doc">
Type of a product 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">sort_of_product</span> (<span class="nv">domsort</span> <span class="nv">rangsort</span> : t) :=
    <span class="c">(* Prop and SProp impredicativity *)</span>
    <span class="kr">if</span> <span class="kn">Universe</span>.is_prop rangsort || <span class="kn">Universe</span>.is_sprop rangsort <span class="kr">then</span> rangsort
    <span class="kr">else</span> <span class="kn">Universe</span>.sup domsort rangsort.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk143"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_refl</span> <span class="nv">u</span> : eqb u u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (eqb u u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk144"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (eqb u u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk145"><span class="highlight"><span class="nb">destruct</span> u;<span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (eqb (lType t1) (lType t1))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> UnivExprSet.equal_spec.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk146"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">elements_not_empty</span> (<span class="nv">u</span> : Universe.t0) : UnivExprSet.elements u &lt;&gt; [].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.elements u &lt;&gt; []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk147"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.elements u &lt;&gt; []</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk148"><span class="highlight"><span class="nb">destruct</span> u <span class="kr">as</span> [u1 u2]; <span class="nb">cbn</span>; <span class="nb">intro</span> e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements u1 = []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk149"><span class="highlight"><span class="nb">unfold</span> UnivExprSet.is_empty, UnivExprSet.elements,
    UnivExprSet.Raw.elements <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Raw.is_empty (UnivExprSet.this u1) =
false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.this u1 = []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> e <span class="kr">in</span> u2; <span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">get_is_level</span> (<span class="nv">u</span> : t) : option Level.t :=
    <span class="kr">match</span> u <span class="kr">with</span>
    | lSProp =&gt; None
    | lProp =&gt; None
    | lType l =&gt; <span class="kr">match</span> UnivExprSet.elements l <span class="kr">with</span>
                 [(l, <span class="mi">0</span>%nat)] =&gt; Some l
               | _ =&gt; None
               <span class="kr">end</span>
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">Evaluable&#39;</span> : Evaluable t0
    := <span class="kr">fun</span> <span class="nv">v</span> <span class="nv">u</span> =&gt; <span class="kr">let</span> &#39;(e, u) := <span class="kn">Universe</span>.exprs u <span class="kr">in</span>
               List.fold_left (<span class="kr">fun</span> <span class="nv">n</span> <span class="nv">e</span> =&gt; Nat.max (val v e) n) u (val v e).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">univ_val</span> :=
    <span class="kr">fun</span> <span class="nv">v</span> <span class="nv">u</span> =&gt; <span class="kr">match</span> u <span class="kr">with</span>
            | lSProp =&gt; USProp
            | lProp =&gt; UProp
            | lType l =&gt; UType (val v l)
            <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk14a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_make&#39;</span> <span class="nv">v</span> <span class="nv">e</span>
    : val v (make&#39; e) = val v e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (make&#39; e) = val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk14b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (make&#39; e) = val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk14c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_make</span> <span class="nv">v</span> <span class="nv">l</span>
    : univ_val v (make l) = UType (val v l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">univ_val v (make l) = UType (val v l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk14d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">univ_val v (make l) = UType (val v l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> l; cbnr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk14e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_make_npl</span> <span class="nv">v</span> (<span class="nv">l</span> : Level.t)
    : univ_val v (make l) = UType (val v l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">univ_val v (make l) = UType (val v l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk14f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">univ_val v (make l) = UType (val v l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> l; cbnr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk150"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">make_inj</span> <span class="nv">x</span> <span class="nv">y</span> :
    make x = make y -&gt; x = y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">make x = make y -&gt; x = y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk151"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">make x = make y -&gt; x = y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x, y; <span class="kp">try</span> <span class="bp">now</span> <span class="nb">inversion</span> <span class="mi">1</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Universe</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_propositional</span> <span class="nv">u</span> := 
  <span class="kn">Universe</span>.is_prop u || <span class="kn">Universe</span>.is_sprop u.</span></span></span></pre><div class="doc">
This coercion allows to see the universes as a <span class="inlinecode"><span class="id" title="var">UnivExprSet.t</span></span>
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Coercion</span> <span class="nf">Universe</span>.t_set : <span class="kn">Universe</span>.t0 &gt;-&gt; UnivExprSet.t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Declare Scope</span> univ_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Delimit Scope</span> univ_scope <span class="kr">with</span> u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;‚ü¶ u ‚üß_ v&quot;</span> := (<span class="kn">Universe</span>.univ_val v u) (<span class="kn">at level</span> <span class="mi">0</span>, <span class="kn">format</span> <span class="s2">&quot;‚ü¶ u ‚üß_ v&quot;</span>, v <span class="kn">ident</span>) : univ_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">u</span> :=
 <span class="nb">change</span> LevelSet.elt <span class="kr">with</span> Level.t <span class="kr">in</span> *;
 <span class="nb">change</span> UnivExprSet.elt <span class="kr">with</span> UnivExpr.t <span class="kr">in</span> *.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"> <span class="c">(* change ConstraintSet.elt with UnivConstraint.t in *. *)</span>


</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk152"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_fold_right</span> (<span class="nv">u</span> : Universe.t0) <span class="nv">v</span> :
  val v u = fold_right (<span class="kr">fun</span> <span class="nv">e</span> <span class="nv">x</span> =&gt; Nat.max (val v e) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
                       (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
  (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk153"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
  (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk154"><span class="highlight"><span class="nb">unfold</span> val <span class="nb">at</span> <span class="mi">1</span>, <span class="kn">Universe</span>.Evaluable&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">let</span>
 &#39;(e, u0) := <span class="kn">Universe</span>.exprs u <span class="kr">in</span>
  fold_left
    (<span class="kr">fun</span> (<span class="nv">n</span> : nat) (<span class="nv">e0</span> : UnivExpr.t) =&gt;
     Nat.max (val v e0) n) u0 (val v e)) =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
  (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk155"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.exprs u).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fold_left
  (<span class="kr">fun</span> (<span class="nv">n</span> : nat) (<span class="nv">e</span> : UnivExpr.t) =&gt;
   Nat.max (val v e) n) l (val v t) =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e) x) (val v (t, l).<span class="mi">1</span>)
  (List.rev (t, l).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> fold_left_rev_right.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk156"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_In_le</span> (<span class="nv">u</span> : Universe.t0) <span class="nv">v</span> <span class="nv">e</span> :
  UnivExprSet.In e u -&gt; val v e &lt;= val v u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u -&gt; val v e &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk157"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u -&gt; val v e &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk158"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk159"><span class="highlight"><span class="nb">rewrite</span> val_fold_right.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
  (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk15a"><span class="highlight"><span class="nb">apply</span> <span class="kn">Universe</span>.In_exprs_rev <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In e (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
  (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk15b"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.exprs u); <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = t \/ In e (List.rev l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v t) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk15c"><span class="highlight"><span class="nb">clear</span> -H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = t \/ In e (List.rev l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v t) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk15d"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">as</span> [H|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v t) (List.rev l)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk15e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e (List.rev l)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk15e"><hr></label><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v t) (List.rev l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk15f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v t) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk160"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v t &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e) x) (val v t) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">induction</span> (List.rev l); cbnr; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk161"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e (List.rev l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v t) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk162"><span class="highlight"><span class="nb">induction</span> (List.rev l); <span class="nb">cbn</span>; invs H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e l0 -&gt;
val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v t) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
Nat.max (val v e)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v t) l0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk163" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e l0 -&gt;
val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v t) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk163"><hr></label><div class="goal-conclusion"><span class="highlight">val v e &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) 
     (val v t) l0)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk164"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e l0 -&gt;
val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v t) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
Nat.max (val v e)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v t) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">u; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk165"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e l0 -&gt;
val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v t) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v t) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk166"><span class="highlight"><span class="nb">specialize</span> (IHl0 H0).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v t) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v t) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk167"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_In_max</span> (<span class="nv">u</span> : Universe.t0) <span class="nv">v</span> :
  <span class="kr">exists</span> <span class="nv">e</span>, UnivExprSet.In e u /\ val v e = val v u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk168"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk169"><span class="highlight"><span class="nb">eapply</span> iff_ex.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
UnivExprSet.In x u /\ val v x = val v u &lt;-&gt; <span class="nl">?C</span> x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk16a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk16a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">y</span>, <span class="nl">?C</span> y</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk16b"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
UnivExprSet.In x u /\ val v x = val v u &lt;-&gt; <span class="nl">?C</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk16c"><span class="highlight"><span class="nb">intro</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u /\ val v x = val v u &lt;-&gt; <span class="nl">?C</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk16d"><span class="highlight"><span class="nb">eapply</span> and_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u &lt;-&gt; <span class="nl">?C</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> <span class="kn">Universe</span>.In_exprs_rev.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk16e"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
   In x (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)) /\
  val v x = val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk16f"><span class="highlight"><span class="nb">rewrite</span> val_fold_right.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
   In x (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)) /\
  val v x =
  fold_right
    (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
     Nat.max (val v e) x0)
    (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
    (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk170"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.exprs u) <span class="kr">as</span> [e l]; <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ In x (List.rev l)) /\
  val v x =
  fold_right
    (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
     Nat.max (val v e0) x0) (val v e) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk171"><span class="highlight"><span class="nb">clear</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ In x (List.rev l)) /\
  val v x =
  fold_right
    (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
     Nat.max (val v e0) x0) (val v e) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk172"><span class="highlight"><span class="nb">induction</span> (List.rev l); <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ <span class="kt">False</span>) /\ val v x = val v e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk173" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ In x l0) /\
  val v x =
  fold_right
    (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
     Nat.max (val v e0) x0) 
    (val v e) l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk173"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\
  val v x =
  Nat.max (val v a)
    (fold_right
       (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
        Nat.max (val v e0) x0) (val v e) l0)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk174"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ <span class="kt">False</span>) /\ val v x = val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk175"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(e = e \/ <span class="kt">False</span>) /\ val v e = val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk176"><span class="highlight"><span class="nb">split</span>; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = e \/ <span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">left</span>; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk177"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ In x l0) /\
  val v x =
  fold_right
    (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
     Nat.max (val v e0) x0) 
    (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\
  val v x =
  Nat.max (val v a)
    (fold_right
       (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
        Nat.max (val v e0) x0) (val v e) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk178"><span class="highlight"><span class="nb">destruct</span> IHl0 <span class="kr">as</span> [e&#39; [H1 H2]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\
  val v x =
  Nat.max (val v a)
    (fold_right
       (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
        Nat.max (val v e0) x0) (val v e) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk179"><span class="highlight"><span class="nb">destruct</span> (Nat.max_dec (val v a) (fold_right (<span class="kr">fun</span> <span class="nv">e0</span> <span class="nv">x0</span> =&gt; Nat.max (val v e0) x0)
                                               (val v e) l0)) <span class="kr">as</span> [H|H];
      <span class="nb">rewrite</span> H; <span class="nb">clear</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\ val v x = val v a</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk17a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk17a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\
  val v x =
  fold_right
    (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
     Nat.max (val v e0) x0) (val v e) l0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk17b"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\ val v x = val v a</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk17c"><span class="highlight"><span class="kr">exists</span> <span class="nv">a</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(a = e \/ a = a \/ In a l0) /\ val v a = val v a</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk17d"><span class="highlight"><span class="nb">split</span>; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a = e \/ a = a \/ In a l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk17e"><span class="highlight"><span class="nb">right</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a = a \/ In a l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk17f"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\
  val v x =
  fold_right
    (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
     Nat.max (val v e0) x0) (val v e) l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk180"><span class="highlight"><span class="nb">rewrite</span> &lt;- H2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ a = x \/ In x l0) /\ val v x = val v e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk181"><span class="highlight"><span class="kr">exists</span> <span class="nv">e&#39;</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(e&#39; = e \/ a = e&#39; \/ In e&#39; l0) /\ val v e&#39; = val v e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk182"><span class="highlight"><span class="nb">split</span>; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e&#39; = e \/ a = e&#39; \/ In e&#39; l0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk183"><span class="highlight"><span class="nb">destruct</span> H1 <span class="kr">as</span> [H1|H1]; [<span class="bp">now</span> <span class="nb">left</span>|<span class="nb">right</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; =
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a = e&#39; \/ In e&#39; l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span> <span class="mi">2</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk184"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_ge_caract</span> (<span class="nv">u</span> : Universe.t0) <span class="nv">v</span> <span class="nv">k</span> :
  (<span class="kr">forall</span> <span class="nv">e</span>, UnivExprSet.In e u -&gt; val v e &lt;= k) &lt;-&gt; val v u &lt;= k.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) &lt;-&gt; val v u &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk185"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) &lt;-&gt; val v u &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk186"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) -&gt; val v u &lt;= k</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk187" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk187"><hr></label><div class="goal-conclusion"><span class="highlight">val v u &lt;= k -&gt;
<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
UnivExprSet.In e u -&gt; val v e &lt;= k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk188"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) -&gt; val v u &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk189"><span class="highlight"><span class="nb">eapply</span> imp_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) &lt;-&gt; <span class="nl">?C</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk18a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk18a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?C</span> -&gt; val v u &lt;= k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk18b"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) &lt;-&gt; <span class="nl">?C</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk18c"><span class="highlight"><span class="nb">eapply</span> iff_forall; <span class="nb">intro</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(UnivExprSet.In x u -&gt; val v x &lt;= k) &lt;-&gt; <span class="nl">?C</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk18d"><span class="highlight"><span class="nb">eapply</span> imp_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u &lt;-&gt; <span class="nl">?C</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> <span class="kn">Universe</span>.In_exprs_rev.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk18e"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 (<span class="kr">fun</span> <span class="nv">x0</span> : UnivExprSet.elt =&gt;
  x0 = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
  In x0 (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>) -&gt;
  val v x0 &lt;= k) x) -&gt; val v u &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk18f"><span class="highlight"><span class="nb">rewrite</span> val_fold_right.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
 In x (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>) -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
  (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>) &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk190"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.exprs u) <span class="kr">as</span> [e l]; <span class="nb">cbn</span>; <span class="nb">clear</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x (List.rev l) -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) (List.rev l) &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk191"><span class="highlight"><span class="nb">induction</span> (List.rev l); <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ <span class="kt">False</span> -&gt; val v x &lt;= k) -&gt; val v e &lt;= k</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk192" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk192"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k) -&gt;
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0) &lt;= k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk193"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ <span class="kt">False</span> -&gt; val v x &lt;= k) -&gt; val v e &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk194"><span class="highlight"><span class="nb">intros</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ <span class="kt">False</span> -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk195"><span class="highlight"><span class="nb">apply</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ <span class="kt">False</span> -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = e \/ <span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">left</span>; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk196"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k) -&gt;
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0) &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk197"><span class="highlight"><span class="nb">intros</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0) &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk198"><span class="highlight"><span class="nb">destruct</span> (Nat.max_dec (val v a) (fold_right (<span class="kr">fun</span> <span class="nv">e0</span> <span class="nv">x</span> =&gt; Nat.max (val v e0) x)
                                                 (val v e) l0)) <span class="kr">as</span> [H&#39;|H&#39;];
        <span class="nb">rewrite</span> H&#39;; <span class="nb">clear</span> H&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v a &lt;= k</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk199" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk199"><hr></label><div class="goal-conclusion"><span class="highlight">fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk19a"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v a &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk19b"><span class="highlight"><span class="nb">apply</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a = e \/ a = a \/ In a l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk19c"><span class="highlight"><span class="nb">right</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a = a \/ In a l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk19d"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) l0 &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk19e"><span class="highlight"><span class="nb">apply</span> IHl0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = e \/ In x l0 -&gt; val v x &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ a = x \/ In x l0 -&gt; val v x &lt;= k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = e \/ In x l0 -&gt; val v x &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk19f"><span class="highlight"><span class="nb">intros</span> x [H0|H0]; <span class="nb">apply</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x0</span> : UnivExprSet.elt,
 x0 = e \/ In x0 l0 -&gt; val v x0 &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
   Nat.max (val v e0) x0) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : UnivExprSet.elt,
x0 = e \/ a = x0 \/ In x0 l0 -&gt; val v x0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x = e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = e \/ a = x \/ In x l0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1a0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x0</span> : UnivExprSet.elt,
 x0 = e \/ In x0 l0 -&gt; val v x0 &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
   Nat.max (val v e0) x0) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : UnivExprSet.elt,
x0 = e \/ a = x0 \/ In x0 l0 -&gt; val v x0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1a0"><hr></label><div class="goal-conclusion"><span class="highlight">x = e \/ a = x \/ In x l0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a1"><span class="highlight"><span class="bp">now</span> <span class="nb">left</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x0</span> : UnivExprSet.elt,
 x0 = e \/ In x0 l0 -&gt; val v x0 &lt;= k) -&gt;
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x0</span> : nat) =&gt;
   Nat.max (val v e0) x0) 
  (val v e) l0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : UnivExprSet.elt,
x0 = e \/ a = x0 \/ In x0 l0 -&gt; val v x0 &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = e \/ a = x \/ In x l0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">right</span>; <span class="bp">now</span> <span class="nb">constructor</span> <span class="mi">2</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a2"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u &lt;= k -&gt;
<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
UnivExprSet.In e u -&gt; val v e &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a3"><span class="highlight"><span class="nb">intros</span> H e He.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v u &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a4"><span class="highlight"><span class="nb">eapply</span> val_In_le <span class="kr">in</span> He.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v u &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val <span class="nl">?v</span> e &lt;= val <span class="nl">?v</span> u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;= k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">etransitivity</span>; <span class="bp">eassumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_le_caract</span> (<span class="nv">u</span> : Universe.t0) <span class="nv">v</span> <span class="nv">k</span> :
  (<span class="kr">exists</span> <span class="nv">e</span>, UnivExprSet.In e u /\ k &lt;= val v e) &lt;-&gt; k &lt;= val v u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ k &lt;= val v e) &lt;-&gt;
k &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ k &lt;= val v e) &lt;-&gt;
k &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a7"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ k &lt;= val v e) -&gt; k &lt;= val v u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1a8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1a8"><hr></label><div class="goal-conclusion"><span class="highlight">k &lt;= val v u -&gt;
<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ k &lt;= val v e</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1a9"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ k &lt;= val v e) -&gt; k &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1aa"><span class="highlight"><span class="nb">eapply</span> imp_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ k &lt;= val v e) &lt;-&gt; <span class="nl">?C</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1ab"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?C</span> -&gt; k &lt;= val v u</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ac"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ k &lt;= val v e) &lt;-&gt; <span class="nl">?C</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ad"><span class="highlight"><span class="nb">eapply</span> iff_ex; <span class="nb">intro</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u /\ k &lt;= val v x &lt;-&gt; <span class="nl">?Goal1</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ae"><span class="highlight"><span class="nb">eapply</span> and_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In x u &lt;-&gt; <span class="nl">?C</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> <span class="kn">Universe</span>.In_exprs_rev.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1af"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
    In x (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)) /\
   k &lt;= val v x) -&gt; k &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b0"><span class="highlight"><span class="nb">rewrite</span> val_fold_right.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
    In x (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)) /\
   k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e) x) (val v (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span>)
  (List.rev (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b1"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.exprs u) <span class="kr">as</span> [e l]; <span class="nb">cbn</span>; <span class="nb">clear</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x (List.rev l)) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) (val v e) (List.rev l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b2"><span class="highlight"><span class="nb">induction</span> (List.rev l); <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ <span class="kt">False</span>) /\ k &lt;= val v x) -&gt; k &lt;= val v e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1b3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1b3"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ a = x \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b4"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ <span class="kt">False</span>) /\ k &lt;= val v x) -&gt; k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b5"><span class="highlight"><span class="nb">intros</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ <span class="kt">False</span>) /\ k &lt;= val v x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b6"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">as</span> [e&#39; [[H1|H1] H2]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;= val v e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1b7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">False</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1b7"><hr></label><div class="goal-conclusion"><span class="highlight">k &lt;= val v e</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b8"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">subst</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1b9"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">False</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">invs H1.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ba"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ a = x \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1bb"><span class="highlight"><span class="nb">intros</span> [e&#39; [[H1|H1] H2]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1bc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a = e&#39; \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1bc"><hr></label><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) 
     (val v e) l0)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1bd"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1be"><span class="highlight">forward IHl0; [|<span class="bp">lia</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ In x l0) /\ k &lt;= val v x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1bf"><span class="highlight"><span class="kr">exists</span> <span class="nv">e&#39;</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(e&#39; = e \/ In e&#39; l0) /\ k &lt;= val v e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c0"><span class="highlight"><span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">left</span>; <span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c1"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a = e&#39; \/ In e&#39; l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c2"><span class="highlight">invs H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v e&#39;)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1c3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e&#39; l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1c3"><hr></label><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) 
     (val v e) l0)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c4"><span class="highlight">--</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v e&#39;)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">u; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c5"><span class="highlight">--</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e&#39; l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;=
Nat.max (val v a)
  (fold_right
     (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
      Nat.max (val v e0) x) (val v e) l0)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c6"><span class="highlight">forward IHl0; [|<span class="bp">lia</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e&#39; l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
  (x = e \/ In x l0) /\ k &lt;= val v x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c7"><span class="highlight"><span class="kr">exists</span> <span class="nv">e&#39;</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e&#39; l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(e&#39; = e \/ In e&#39; l0) /\ k &lt;= val v e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c8"><span class="highlight"><span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">exists</span> <span class="nv">x</span> : UnivExprSet.elt,
   (x = e \/ In x l0) /\ k &lt;= val v x) -&gt;
k &lt;=
fold_right
  (<span class="kr">fun</span> (<span class="nv">e0</span> : UnivExpr.t) (<span class="nv">x</span> : nat) =&gt;
   Nat.max (val v e0) x) 
  (val v e) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v e&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e&#39; l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e&#39; = e \/ In e&#39; l0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">right</span>; <span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1c9"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;= val v u -&gt;
<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ca"><span class="highlight"><span class="nb">intros</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1cb"><span class="highlight"><span class="nb">destruct</span> (val_In_max u v) <span class="kr">as</span> [e [H1 H2]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e = val v u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 u /\ k &lt;= val v e0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1cc"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt;= val v u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e = val v u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u /\ k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> H2; <span class="nb">split</span>; <span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">


</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1cd"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_caract</span> (<span class="nv">u</span> : Universe.t0) <span class="nv">v</span> <span class="nv">k</span> :
  val v u = k
  &lt;-&gt; (<span class="kr">forall</span> <span class="nv">e</span>, UnivExprSet.In e u -&gt; val v e &lt;= k)
    /\ <span class="kr">exists</span> <span class="nv">e</span>, UnivExprSet.In e u /\ val v e = k.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u = k &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ val v e = k)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ce"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u = k &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ val v e = k)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1cf"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u = k -&gt;
(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ val v e = k)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1d0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1d0"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ val v e = k) -&gt; val v u = k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d1"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u = k -&gt;
(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ val v e = k)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d2"><span class="highlight"><span class="nb">intros</span> &lt;-; <span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
UnivExprSet.In e u -&gt; val v e &lt;= val v u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1d3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1d3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = val v u</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d4"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
UnivExprSet.In e u -&gt; val v e &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> val_In_le.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d5"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> val_In_max.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d6"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e u -&gt; val v e &lt;= k) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e u /\ val v e = k) -&gt; val v u = k</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d7"><span class="highlight"><span class="nb">intros</span> [H1 H2].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
UnivExprSet.In e u -&gt; val v e &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u = k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d8"><span class="highlight"><span class="nb">apply</span> val_ge_caract <span class="kr">in</span> H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v u &lt;= k</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v u = k</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1d9"><span class="highlight"><span class="nb">assert</span> (k &lt;= val v u); [<span class="nb">clear</span> H1|<span class="bp">lia</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;= val v u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1da"><span class="highlight"><span class="nb">apply</span> val_le_caract.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ val v e = k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e u /\ k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1db"><span class="highlight"><span class="nb">destruct</span> H2 <span class="kr">as</span> [e [H2 H2&#39;]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e = k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 u /\ k &lt;= val v e0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1dc"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e = k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u /\ k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1dd"><span class="highlight"><span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e = k</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt;= val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1de"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_add</span> <span class="nv">v</span> <span class="nv">e</span> <span class="nv">s</span>
  : val v (<span class="kn">Universe</span>.add e s) = Nat.max (val v e) (val v s).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (<span class="kn">Universe</span>.add e s) = Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1df"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (<span class="kn">Universe</span>.add e s) = Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e0"><span class="highlight"><span class="nb">apply</span> val_caract.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e0</span> : UnivExprSet.elt,
 UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) -&gt;
 val v e0 &lt;= Nat.max (val v e) (val v s)) /\
(<span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
   UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
   val v e0 = Nat.max (val v e) (val v s))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e1"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">e0</span> : UnivExprSet.elt,
UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) -&gt;
val v e0 &lt;= Nat.max (val v e) (val v s)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1e2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1e2"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
  val v e0 = Nat.max (val v e) (val v s)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e3"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">e0</span> : UnivExprSet.elt,
UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) -&gt;
val v e0 &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e4"><span class="highlight"><span class="nb">intros</span> e&#39; H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; (<span class="kn">Universe</span>.add e s)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e5"><span class="highlight"><span class="nb">apply</span> UnivExprSet.add_spec <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e \/ UnivExprSet.In e&#39; s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e6"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">as</span> [H|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v e) (val v s)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1e7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1e7"><hr></label><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e8"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e&#39; = e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1e9"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">u; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ea"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1eb"><span class="highlight"><span class="nb">eapply</span> val_In_le <span class="kr">with</span> (v:=v) <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; &lt;= val v s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ec"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
  val v e0 = Nat.max (val v e) (val v s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ed"><span class="highlight"><span class="nb">destruct</span> (Nat.max_dec (val v e) (val v s)) <span class="kr">as</span> [H|H]; <span class="nb">rewrite</span> H; <span class="nb">clear</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
  val v e0 = val v e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1ee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1ee"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
  val v e0 = val v s</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ef"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
  val v e0 = val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f0"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (<span class="kn">Universe</span>.add e s) /\
val v e = val v e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f1"><span class="highlight"><span class="nb">split</span>; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e (UnivExprSet.add e s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f2"><span class="highlight"><span class="nb">apply</span> UnivExprSetFact.add_1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f3"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
  val v e0 = val v s</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f4"><span class="highlight"><span class="nb">destruct</span> (val_In_max s v) <span class="kr">as</span> [e&#39; [H1 H2]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0 (<span class="kn">Universe</span>.add e s) /\
  val v e0 = val v s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f5"><span class="highlight"><span class="kr">exists</span> <span class="nv">e&#39;</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (<span class="kn">Universe</span>.add e s) /\
val v e&#39; = val v s</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f6"><span class="highlight"><span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (<span class="kn">Universe</span>.add e s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> UnivExprSetFact.add_2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_sup</span> <span class="nv">v</span> <span class="nv">s1</span> <span class="nv">s2</span> :
  val v (<span class="kn">Universe</span>.sup0 s1 s2) = Nat.max (val v s1) (val v s2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (<span class="kn">Universe</span>.sup0 s1 s2) =
Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (<span class="kn">Universe</span>.sup0 s1 s2) =
Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1f9"><span class="highlight"><span class="nb">eapply</span> val_caract.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e (<span class="kn">Universe</span>.sup0 s1 s2) -&gt;
 val v e &lt;= Nat.max (val v s1) (val v s2)) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e (<span class="kn">Universe</span>.sup0 s1 s2) /\
   val v e = Nat.max (val v s1) (val v s2))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1fa"><span class="highlight"><span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
 UnivExprSet.In e (UnivExprSet.union s1 s2) -&gt;
 val v e &lt;= Nat.max (val v s1) (val v s2)) /\
(<span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
   UnivExprSet.In e (UnivExprSet.union s1 s2) /\
   val v e = Nat.max (val v s1) (val v s2))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1fb"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
UnivExprSet.In e (UnivExprSet.union s1 s2) -&gt;
val v e &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk1fc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk1fc"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1fd"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : UnivExprSet.elt,
UnivExprSet.In e (UnivExprSet.union s1 s2) -&gt;
val v e &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1fe"><span class="highlight"><span class="nb">intros</span> e&#39; H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; (UnivExprSet.union s1 s2)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk1ff"><span class="highlight"><span class="nb">eapply</span> UnivExprSet.union_spec <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s1 \/ UnivExprSet.In e&#39; s2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk200"><span class="highlight"><span class="nb">destruct</span> H <span class="kr">as</span> [H|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk201" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s2</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk201"><hr></label><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk202"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk203"><span class="highlight"><span class="nb">eapply</span> val_In_le <span class="kr">with</span> (v:=v) <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; &lt;= val v s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk204"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk205"><span class="highlight"><span class="nb">eapply</span> val_In_le <span class="kr">with</span> (v:=v) <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; &lt;= val v s2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v e&#39; &lt;= Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk206"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = Nat.max (val v s1) (val v s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk207"><span class="highlight"><span class="nb">destruct</span> (Nat.max_dec (val v s1) (val v s2)) <span class="kr">as</span> [H|H]; <span class="nb">rewrite</span> H; <span class="nb">clear</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = val v s1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk208" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk208"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = val v s2</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk209"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = val v s1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk20a"><span class="highlight"><span class="nb">destruct</span> (val_In_max s1 v) <span class="kr">as</span> [e&#39; [H1 H2]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = val v s1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk20b"><span class="highlight"><span class="kr">exists</span> <span class="nv">e&#39;</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (UnivExprSet.union s1 s2) /\
val v e&#39; = val v s1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk20c"><span class="highlight"><span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (UnivExprSet.union s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk20d"><span class="highlight"><span class="nb">apply</span> UnivExprSet.union_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; s1 \/ UnivExprSet.In e&#39; s2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">left</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk20e"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = val v s2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk20f"><span class="highlight"><span class="nb">destruct</span> (val_In_max s2 v) <span class="kr">as</span> [e&#39; [H1 H2]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span> : UnivExprSet.elt,
  UnivExprSet.In e (UnivExprSet.union s1 s2) /\
  val v e = val v s2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk210"><span class="highlight"><span class="kr">exists</span> <span class="nv">e&#39;</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (UnivExprSet.union s1 s2) /\
val v e&#39; = val v s2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk211"><span class="highlight"><span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; (UnivExprSet.union s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk212"><span class="highlight"><span class="nb">apply</span> UnivExprSet.union_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">val v e&#39; = val v s2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e&#39; s1 \/ UnivExprSet.In e&#39; s2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">right</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">proper</span> := <span class="kr">let</span> <span class="nv">H</span> := <span class="kp">fresh</span> <span class="kr">in</span> <span class="kp">try</span> (<span class="nb">intros</span> ? ? H; <span class="nb">destruct</span> H; <span class="bp">reflexivity</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk213"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">for_all_elements</span> (<span class="nv">P</span> : UnivExpr.t -&gt; bool) <span class="nv">u</span> :
  UnivExprSet.for_all P u = forallb P (UnivExprSet.elements u).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.for_all P u =
forallb P (UnivExprSet.elements u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk214"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.for_all P u =
forallb P (UnivExprSet.elements u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> UnivExprSetFact.for_all_b; proper.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">univ_val_max</span> <span class="nv">v1</span> <span class="nv">v2</span> :=
  <span class="kr">match</span> v1, v2 <span class="kr">with</span>
  | UProp, UProp =&gt; UProp
  | USProp, USProp =&gt; USProp
  | UType v, UType v&#39; =&gt; UType (Nat.max v v&#39;)
  | _, UType _ =&gt; v2
  | UType _, _ =&gt; v1
  | UProp, USProp =&gt; UProp
  | USProp, UProp =&gt; UProp
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk215"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_universe_sup</span> <span class="nv">v</span> <span class="nv">u1</span> <span class="nv">u2</span> :
  <span class="kn">Universe</span>.univ_val v (<span class="kn">Universe</span>.sup u1 u2) = univ_val_max (<span class="kn">Universe</span>.univ_val v u1) (<span class="kn">Universe</span>.univ_val v u2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u1, u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶<span class="kn">Universe</span>.sup u1 u2‚üß_v%u =
univ_val_max ‚ü¶u1‚üß_v%u ‚ü¶u2‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk216"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u1, u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶<span class="kn">Universe</span>.sup u1 u2‚üß_v%u =
univ_val_max ‚ü¶u1‚üß_v%u ‚ü¶u2‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk217"><span class="highlight"><span class="nb">destruct</span> u1 <span class="kr">as</span> [ | | l1]; <span class="nb">destruct</span> u2 <span class="kr">as</span> [ | | l2];<span class="nb">cbn</span>;<span class="kp">try</span> <span class="bp">lia</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UType (val v (<span class="kn">Universe</span>.sup0 l1 l2)) =
UType (Nat.max (val v l1) (val v l2))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk218"><span class="highlight"><span class="nb">f_equal</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val v (<span class="kn">Universe</span>.sup0 l1 l2) =
Nat.max (val v l1) (val v l2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> val_sup.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk219"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_val</span> <span class="nv">u</span> :
  <span class="kn">Universe</span>.is_prop u -&gt; <span class="kr">forall</span> <span class="nv">v</span>, <span class="kn">Universe</span>.univ_val v u = UProp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop u -&gt;
<span class="kr">forall</span> <span class="nv">v</span> : valuation, ‚ü¶u‚üß_v%u = UProp</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk21a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop u -&gt;
<span class="kr">forall</span> <span class="nv">v</span> : valuation, ‚ü¶u‚üß_v%u = UProp</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u <span class="kr">as</span> [| | u];<span class="kp">try</span> <span class="bp">discriminate</span>;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk21b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_sprop_val</span> <span class="nv">u</span> :
  <span class="kn">Universe</span>.is_sprop u -&gt; <span class="kr">forall</span> <span class="nv">v</span>, <span class="kn">Universe</span>.univ_val v u = USProp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop u -&gt;
<span class="kr">forall</span> <span class="nv">v</span> : valuation, ‚ü¶u‚üß_v%u = USProp</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk21c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop u -&gt;
<span class="kr">forall</span> <span class="nv">v</span> : valuation, ‚ü¶u‚üß_v%u = USProp</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u <span class="kr">as</span> [| | u];<span class="kp">try</span> <span class="bp">discriminate</span>;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* </span>
<span class="c">Lemma val_zero_exprs v (l : Universe.t0) : 0 &lt;= val v l.</span>
<span class="c">Proof.</span>
<span class="c">  rewrite val_fold_right.</span>
<span class="c">  destruct (Universe.exprs l) as [e u&#39;]; clear l; cbn.</span>
<span class="c">  induction (List.rev u&#39;); simpl.</span>
<span class="c">  - destruct e as [npl_expr].</span>
<span class="c">    destruct npl_expr as [t b].</span>
<span class="c">    cbn.</span>
<span class="c">    assert (0 &lt;= val v t) by apply Level.val_zero.</span>
<span class="c">    destruct b;lia.</span>
<span class="c">  - pose proof (UnivExpr.val_zero a v); lia.</span>
<span class="c">Qed. *)</span>


</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk21d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_is_prop</span> <span class="nv">u</span> <span class="nv">v</span> :
  <span class="kn">Universe</span>.univ_val v u = UProp &lt;-&gt; <span class="kn">Universe</span>.is_prop u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = UProp &lt;-&gt; <span class="kn">Universe</span>.is_prop u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk21e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = UProp &lt;-&gt; <span class="kn">Universe</span>.is_prop u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u; <span class="nb">auto</span>;<span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">intuition</span> <span class="bp">congruence</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk21f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_is_sprop</span> <span class="nv">u</span> <span class="nv">v</span> :
  <span class="kn">Universe</span>.univ_val v u = USProp &lt;-&gt; <span class="kn">Universe</span>.is_sprop u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = USProp &lt;-&gt; <span class="kn">Universe</span>.is_sprop u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk220"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = USProp &lt;-&gt; <span class="kn">Universe</span>.is_sprop u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u;<span class="nb">auto</span>;<span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">intuition</span> <span class="bp">congruence</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk221"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_and_is_sprop_val_false</span> <span class="nv">u</span> :
  <span class="kn">Universe</span>.is_prop u = false -&gt; <span class="kn">Universe</span>.is_sprop u = false -&gt; 
  <span class="kr">forall</span> <span class="nv">v</span>, ‚àë n, <span class="kn">Universe</span>.univ_val v u = UType n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop u = false -&gt;
<span class="kn">Universe</span>.is_sprop u = false -&gt;
<span class="kr">forall</span> <span class="nv">v</span> : valuation, ‚àë n : nat, ‚ü¶u‚üß_v%u = UType n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk222"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop u = false -&gt;
<span class="kn">Universe</span>.is_sprop u = false -&gt;
<span class="kr">forall</span> <span class="nv">v</span> : valuation, ‚àë n : nat, ‚ü¶u‚üß_v%u = UType n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk223"><span class="highlight"><span class="nb">intros</span> Hp Hsp v.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop u = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop u = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë n : nat, ‚ü¶u‚üß_v%u = UType n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk224"><span class="highlight"><span class="nb">destruct</span> u; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.lType t) = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.lType t) = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë n : nat, ‚ü¶<span class="kn">Universe</span>.lType t‚üß_v%u = UType n</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk225"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.lType t) = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hsp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.lType t) = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë n : nat, UType (val v t) = UType n</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eexists</span>; <span class="nb">eauto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk226"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_is_prop_false</span> <span class="nv">u</span> <span class="nv">v</span> <span class="nv">n</span> :
  <span class="kn">Universe</span>.univ_val v u = UType n -&gt; <span class="kn">Universe</span>.is_prop u = false.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = UType n -&gt; <span class="kn">Universe</span>.is_prop u = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk227"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = UType n -&gt; <span class="kn">Universe</span>.is_prop u = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk228"><span class="highlight"><span class="nb">pose proof</span> (is_prop_val u) <span class="kr">as</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop u -&gt;
<span class="kr">forall</span> <span class="nv">v0</span> : valuation, ‚ü¶u‚üß_v0%u = UProp</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = UType n -&gt; <span class="kn">Universe</span>.is_prop u = false</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk229"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.is_prop u); cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">true -&gt; <span class="kr">forall</span> <span class="nv">v0</span> : valuation, ‚ü¶u‚üß_v0%u = UProp</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = UType n -&gt; true = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk22a"><span class="highlight"><span class="nb">rewrite</span> (H eq_refl v).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">true -&gt; <span class="kr">forall</span> <span class="nv">v0</span> : valuation, ‚ü¶u‚üß_v0%u = UProp</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UProp = UType n -&gt; true = false</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk22b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_univ</span> (<span class="nv">u</span> <span class="nv">v</span> : Universe.t0) :
  u = v :&gt; UnivExprSet.t -&gt; u = v.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v -&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk22c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v -&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk22d"><span class="highlight"><span class="nb">destruct</span> u <span class="kr">as</span> [u1 u2], v <span class="kr">as</span> [v1 v2]; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty v1 = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u1 = v1 -&gt;
{| <span class="kn">Universe</span>.t_set := u1; <span class="kn">Universe</span>.t_ne := u2 |} =
{| <span class="kn">Universe</span>.t_set := v1; <span class="kn">Universe</span>.t_ne := v2 |}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk22e"><span class="highlight"><span class="nb">intros</span> X; <span class="nb">destruct</span> X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2, v2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty u1 = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| <span class="kn">Universe</span>.t_set := u1; <span class="kn">Universe</span>.t_ne := u2 |} =
{| <span class="kn">Universe</span>.t_set := u1; <span class="kn">Universe</span>.t_ne := v2 |}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> (uip_bool _ _ u2 v2).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk22f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_univ&#39;</span> (<span class="nv">u</span> <span class="nv">v</span> : Universe.t0) :
  UnivExprSet.Equal u v -&gt; u = v.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Equal u v -&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk230"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Equal u v -&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk231"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Equal u v</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> eq_univ, UnivExprSet.eq_leibniz.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk232"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_univ&#39;&#39;</span> (<span class="nv">u</span> <span class="nv">v</span> : Universe.t0) :
  UnivExprSet.elements u = UnivExprSet.elements v -&gt; u = v.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.elements u = UnivExprSet.elements v -&gt;
u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk233"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.elements u = UnivExprSet.elements v -&gt;
u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk234"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements u = UnivExprSet.elements v</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk235"><span class="highlight"><span class="nb">apply</span> eq_univ.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements u = UnivExprSet.elements v</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk236"><span class="highlight"><span class="nb">destruct</span> u <span class="kr">as</span> [u1 u2], v <span class="kr">as</span> [v1 v2]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">clear</span> u2 v2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1, v1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements u1 = UnivExprSet.elements v1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u1 = v1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk237"><span class="highlight"><span class="nb">destruct</span> u1 <span class="kr">as</span> [u1 u2], v1 <span class="kr">as</span> [v1 v2]; <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Raw.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Raw.Ok u1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Raw.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Raw.Ok v1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u1 = v1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| UnivExprSet.this := u1; UnivExprSet.is_ok := u2 |} =
{| UnivExprSet.this := v1; UnivExprSet.is_ok := v2 |}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk238"><span class="highlight"><span class="nb">destruct</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Raw.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u2, v2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.Raw.Ok u1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| UnivExprSet.this := u1; UnivExprSet.is_ok := u2 |} =
{| UnivExprSet.this := u1; UnivExprSet.is_ok := v2 |}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> (uip_bool _ _ u2 v2).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk239"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">get_is_level_correct</span> <span class="nv">u</span> <span class="nv">l</span> :
  <span class="kn">Universe</span>.get_is_level u = Some l -&gt; u = <span class="kn">Universe</span>.make l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.get_is_level u = Some l -&gt;
u = <span class="kn">Universe</span>.make l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk23a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.get_is_level u = Some l -&gt;
u = <span class="kn">Universe</span>.make l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk23b"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.get_is_level u = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = <span class="kn">Universe</span>.make l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk23c"><span class="highlight"><span class="nb">destruct</span> u <span class="nb">eqn</span>:Hu;<span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lProp</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">None = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lProp = <span class="kn">Universe</span>.make l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk23d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lSProp</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">None = Some l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk23d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lSProp = <span class="kn">Universe</span>.make l</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk23e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> UnivExprSet.elements t <span class="kr">with</span>
| [] =&gt; None
| [(l1, <span class="mi">0</span>)] =&gt; Some l1
| (l1, <span class="mi">0</span>) :: _ :: _ | (l1, S _) :: _ =&gt; None
<span class="kr">end</span> = Some l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk23e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t = <span class="kn">Universe</span>.make l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk23f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lProp</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">None = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lProp = <span class="kn">Universe</span>.make l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">inversion</span> H;<span class="nb">subst</span>;<span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk240"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lSProp</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">None = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lSProp = <span class="kn">Universe</span>.make l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">inversion</span> H;<span class="nb">subst</span>;<span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk241"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> UnivExprSet.elements t <span class="kr">with</span>
| [] =&gt; None
| [(l1, <span class="mi">0</span>)] =&gt; Some l1
| (l1, <span class="mi">0</span>) :: _ :: _ | (l1, S _) :: _ =&gt; None
<span class="kr">end</span> = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t = <span class="kn">Universe</span>.make l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk242"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Universe</span>.make.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> UnivExprSet.elements t <span class="kr">with</span>
| [] =&gt; None
| [(l1, <span class="mi">0</span>)] =&gt; Some l1
| (l1, <span class="mi">0</span>) :: _ :: _ | (l1, S _) :: _ =&gt; None
<span class="kr">end</span> = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t =
<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.make&#39; (UnivExpr.make l))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk243"><span class="highlight"><span class="nb">destruct</span> (UnivExprSet.elements _) <span class="kr">as</span> [|l0 L] <span class="nb">eqn</span>:Hu1; [<span class="bp">discriminate</span>|].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements t = l0 :: L</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">let</span> (<span class="nv">l1</span>, n) := l0 <span class="kr">in</span>
 <span class="kr">match</span> n <span class="kr">with</span>
 | <span class="mi">0</span> =&gt;
     <span class="kr">match</span> L <span class="kr">with</span>
     | [] =&gt; Some l1
     | _ :: _ =&gt; None
     <span class="kr">end</span>
 | S _ =&gt; None
 <span class="kr">end</span>) = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t =
<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.make&#39; (UnivExpr.make l))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk244"><span class="highlight"><span class="nb">destruct</span> l0, L; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements t = [(t0, n)]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some t0
| S _ =&gt; None
<span class="kr">end</span> = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t =
<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.make&#39; (UnivExpr.make l))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk245" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements t = (t0, n) :: e :: L</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; None
<span class="kr">end</span> = Some l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk245"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t =
<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.make&#39; (UnivExpr.make l))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk246"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements t = [(t0, n)]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> =&gt; Some t0
| S _ =&gt; None
<span class="kr">end</span> = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t =
<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.make&#39; (UnivExpr.make l))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk247"><span class="highlight"><span class="nb">destruct</span> t,n;<span class="nb">inversion</span> H;<span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_set</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_ne</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty t_set = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Some l = Some l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements
  {|
  <span class="kn">Universe</span>.t_set := t_set;
  <span class="kn">Universe</span>.t_ne := t_ne |} = [
(l, <span class="mi">0</span>)]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType
  {| <span class="kn">Universe</span>.t_set := t_set; <span class="kn">Universe</span>.t_ne := t_ne |} =
<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.make&#39; (UnivExpr.make l))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk248"><span class="highlight"><span class="nb">apply</span> <span class="nb">f_equal</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_set</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_ne</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty t_set = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Some l = Some l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements
  {|
  <span class="kn">Universe</span>.t_set := t_set;
  <span class="kn">Universe</span>.t_ne := t_ne |} = [
(l, <span class="mi">0</span>)]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{| <span class="kn">Universe</span>.t_set := t_set; <span class="kn">Universe</span>.t_ne := t_ne |} =
<span class="kn">Universe</span>.make&#39; (UnivExpr.make l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk249"><span class="highlight"><span class="nb">apply</span> eq_univ&#39;&#39;;<span class="nb">unfold</span> UnivExpr.make.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_set</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_ne</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty t_set = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Some l = Some l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements
  {|
  <span class="kn">Universe</span>.t_set := t_set;
  <span class="kn">Universe</span>.t_ne := t_ne |} = [
(l, <span class="mi">0</span>)]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.elements
  {| <span class="kn">Universe</span>.t_set := t_set; <span class="kn">Universe</span>.t_ne := t_ne |} =
UnivExprSet.elements (<span class="kn">Universe</span>.make&#39; (l, <span class="mi">0</span>))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk24a"><span class="highlight"><span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_set</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_ne</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty t_set = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Some l = Some l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements
  {|
  <span class="kn">Universe</span>.t_set := t_set;
  <span class="kn">Universe</span>.t_ne := t_ne |} = [
(l, <span class="mi">0</span>)]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.elements t_set =
UnivExprSet.Raw.singleton (l, <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk24b"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> Hu1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_set</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_ne</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty t_set = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Some l = Some l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements t_set = [(l, <span class="mi">0</span>)]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.elements t_set =
UnivExprSet.Raw.singleton (l, <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk24c"><span class="highlight"><span class="nb">rewrite</span> Hu1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_set</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t_ne</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty t_set = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Some l = Some l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements t_set = [(l, <span class="mi">0</span>)]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[(l, <span class="mi">0</span>)] = UnivExprSet.Raw.singleton (l, <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk24d"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">u = <span class="kn">Universe</span>.lType t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hu1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elements t = (t0, n) :: e :: L</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> n <span class="kr">with</span>
| <span class="mi">0</span> | _ =&gt; None
<span class="kr">end</span> = Some l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t =
<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.make&#39; (UnivExpr.make l))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> e,n;<span class="nb">inversion</span> H;<span class="nb">subst</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk24e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">univ_expr_eqb_true_iff</span> (<span class="nv">u</span> <span class="nv">v</span> : Universe.t0) :
  UnivExprSet.equal u v &lt;-&gt; u = v.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.equal u v &lt;-&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk24f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.equal u v &lt;-&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk250"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.equal u v -&gt; u = v</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk251" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk251"><hr></label><div class="goal-conclusion"><span class="highlight">u = v -&gt; UnivExprSet.equal u v</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk252"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.equal u v -&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk253"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (UnivExprSet.equal u v)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk254"><span class="highlight"><span class="nb">apply</span> eq_univ&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (UnivExprSet.equal u v)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Equal u v</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> UnivExprSet.equal_spec.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk255"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v -&gt; UnivExprSet.equal u v</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk256"><span class="highlight"><span class="nb">intros</span> -&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (UnivExprSet.equal v v)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> UnivExprSet.equal_spec.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk257" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk257"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eqb_true_iff</span> <span class="nv">u</span> <span class="nv">v</span> :
  <span class="kn">Universe</span>.eqb u v &lt;-&gt; u = v.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.eqb u v &lt;-&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk258"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.eqb u v &lt;-&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk259"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.eqb u v -&gt; u = v</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk25a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk25a"><hr></label><div class="goal-conclusion"><span class="highlight">u = v -&gt; <span class="kn">Universe</span>.eqb u v</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk25b"><span class="highlight"><span class="mi">2</span>: <span class="nb">intros</span> -&gt;; <span class="nb">apply</span> <span class="kn">Universe</span>.eqb_refl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.eqb u v -&gt; u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk25c"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (<span class="kn">Universe</span>.eqb u v)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">u = v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk25d"><span class="highlight"><span class="nb">destruct</span> u,v;<span class="nb">auto</span>;<span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t, t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (<span class="kn">Universe</span>.eqb (<span class="kn">Universe</span>.lType t)
     (<span class="kn">Universe</span>.lType t0))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType t = <span class="kn">Universe</span>.lType t0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk25e"><span class="highlight"><span class="nb">apply</span> <span class="nb">f_equal</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t, t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (<span class="kn">Universe</span>.eqb (<span class="kn">Universe</span>.lType t)
     (<span class="kn">Universe</span>.lType t0))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t = t0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> univ_expr_eqb_true_iff.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk25f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">UnivExprSet_for_all_false</span> <span class="nv">f</span> <span class="nv">u</span> :
  UnivExprSet.for_all f u = false -&gt; UnivExprSet.exists_ (negb ‚àò f) u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.for_all f u = false -&gt;
UnivExprSet.exists_ (negb ‚àò f) u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk260" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk260"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.for_all f u = false -&gt;
UnivExprSet.exists_ (negb ‚àò f) u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk261"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.for_all f u = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (UnivExprSet.exists_ (negb ‚àò f) u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk262" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk262"><span class="highlight"><span class="nb">rewrite</span> UnivExprSetFact.exists_b.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.for_all f u = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x))
     (UnivExprSet.elements u))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk263"><span class="highlight"><span class="nb">rewrite</span> UnivExprSetFact.for_all_b <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f (UnivExprSet.elements u) = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x))
     (UnivExprSet.elements u))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk264"><span class="highlight"><span class="kp">all</span>: <span class="kp">try</span> <span class="bp">now</span> <span class="nb">intros</span> x y [].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f (UnivExprSet.elements u) = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x))
     (UnivExprSet.elements u))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk265"><span class="highlight"><span class="nb">induction</span> (UnivExprSet.elements u); <span class="nb">cbn</span> <span class="kr">in</span> *; [<span class="bp">discriminate</span>|].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f a &amp;&amp; forallb f l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f l = false -&gt; existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x)) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (negb (f a)
   || existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x))
        l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk266"><span class="highlight"><span class="nb">apply</span> andb_false_iff <span class="kr">in</span> H; <span class="nb">apply</span> orb_true_iff; <span class="nb">destruct</span> H <span class="kr">as</span> [H|H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f a = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f l = false -&gt; existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x)) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">negb (f a) = true \/
existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x)) l =
true</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk267" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f l = false -&gt; existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x)) l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk267"><hr></label><div class="goal-conclusion"><span class="highlight">negb (f a) = true \/
existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x)) l =
true</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk268"><span class="highlight"><span class="nb">left</span>; <span class="bp">now</span> <span class="nb">rewrite</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt -&gt; bool</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">forallb f l = false -&gt; existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x)) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">negb (f a) = true \/
existsb (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt; negb (f x)) l =
true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">right</span>; <span class="bp">now</span> <span class="nb">rewrite</span> IHl.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk269"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">UnivExprSet_For_all_exprs</span> (<span class="nv">P</span> : UnivExpr.t -&gt; <span class="kt">Prop</span>) (<span class="nv">u</span> : Universe.t0)
  : UnivExprSet.For_all P u
    &lt;-&gt; P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\ Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.For_all P u &lt;-&gt;
P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk26a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk26a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.For_all P u &lt;-&gt;
P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk26b"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.For_all P u &lt;-&gt; <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk26c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk26c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> &lt;-&gt;
P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk26d"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.For_all P u &lt;-&gt; <span class="nl">?y</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk26e"><span class="highlight"><span class="nb">eapply</span> iff_forall; <span class="nb">intro</span> e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(UnivExprSet.In e u -&gt; P e) &lt;-&gt; <span class="nl">?C</span> e</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk26f"><span class="highlight"><span class="nb">eapply</span> imp_iff_compat_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e u &lt;-&gt; <span class="nl">?C</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> <span class="kn">Universe</span>.In_exprs.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk270"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 (<span class="kr">fun</span> <span class="nv">e</span> : UnivExprSet.elt =&gt;
  e = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
  In e (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P e) x) &lt;-&gt;
P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk271"><span class="highlight"><span class="nb">cbn</span>; <span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/ In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt;
 P x) -&gt;
P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk272" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk272"><hr></label><div class="goal-conclusion"><span class="highlight">P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/ In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt;
P x</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk273"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
 x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/ In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt;
 P x) -&gt;
P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk274"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk275"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk276" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk276"><hr></label><div class="goal-conclusion"><span class="highlight">Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk277"><span class="highlight"><span class="nb">apply</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk278" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk278"><hr></label><div class="goal-conclusion"><span class="highlight">Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk279"><span class="highlight"><span class="bp">now</span> <span class="nb">left</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk27a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk27a"><span class="highlight"><span class="nb">apply</span> Forall_forall.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : UnivExpr.t,
In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk27b"><span class="highlight"><span class="nb">intros</span> x H0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : UnivExprSet.elt,
x0 = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/
In x0 (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt; P x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P x</span></div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> H; <span class="bp">now</span> <span class="nb">right</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk27c"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> /\
Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : UnivExprSet.elt,
x = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span> \/ In x (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span> -&gt;
P x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk27d"><span class="highlight"><span class="nb">intros</span> [H1 H2] e [He|He].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk27e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk27e"><hr></label><div class="goal-conclusion"><span class="highlight">P e</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk27f"><span class="highlight"><span class="nb">subst</span> e; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P (<span class="kn">Universe</span>.exprs u).<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Forall P (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In e (<span class="kn">Universe</span>.exprs u).<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> Forall_forall <span class="kr">in</span> H2; tea.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk280"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">sup0_comm</span> <span class="nv">x1</span> <span class="nv">x2</span> :
  <span class="kn">Universe</span>.sup0 x1 x2 = <span class="kn">Universe</span>.sup0 x2 x1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.sup0 x1 x2 = <span class="kn">Universe</span>.sup0 x2 x1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk281"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.sup0 x1 x2 = <span class="kn">Universe</span>.sup0 x2 x1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk282"><span class="highlight"><span class="nb">apply</span> eq_univ&#39;; <span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Equal (UnivExprSet.union x1 x2)
  (UnivExprSet.union x2 x1)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk283"><span class="highlight"><span class="nb">unfold</span> UnivExprSet.Equal.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> : UnivExprSet.elt,
UnivExprSet.In a (UnivExprSet.union x1 x2) &lt;-&gt;
UnivExprSet.In a (UnivExprSet.union x2 x1)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk284"><span class="highlight"><span class="nb">intros</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In H (UnivExprSet.union x1 x2) &lt;-&gt;
UnivExprSet.In H (UnivExprSet.union x2 x1)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk285"><span class="highlight"><span class="nb">rewrite</span> !UnivExprSet.union_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In H x1 \/ UnivExprSet.In H x2 &lt;-&gt;
UnivExprSet.In H x2 \/ UnivExprSet.In H x1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intuition</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk286"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">sup_comm</span> <span class="nv">x1</span> <span class="nv">x2</span> :
  <span class="kn">Universe</span>.sup x1 x2 = <span class="kn">Universe</span>.sup x2 x1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.sup x1 x2 = <span class="kn">Universe</span>.sup x2 x1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk287"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.sup x1 x2 = <span class="kn">Universe</span>.sup x2 x1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk288"><span class="highlight"><span class="nb">destruct</span> x1,x2;<span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t, t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.sup (<span class="kn">Universe</span>.lType t) (<span class="kn">Universe</span>.lType t0) =
<span class="kn">Universe</span>.sup (<span class="kn">Universe</span>.lType t0) (<span class="kn">Universe</span>.lType t)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">cbn</span>;<span class="nb">apply</span> <span class="nb">f_equal</span>;<span class="nb">apply</span> sup0_comm.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk289"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_sort_sup</span> <span class="nv">x1</span> <span class="nv">x2</span> :
  <span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2)
  -&gt; <span class="kn">Universe</span>.is_prop x2 \/ <span class="kn">Universe</span>.is_sprop x2 .</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2) -&gt;
<span class="kn">Universe</span>.is_prop x2 \/ <span class="kn">Universe</span>.is_sprop x2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk28a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2) -&gt;
<span class="kn">Universe</span>.is_prop x2 \/ <span class="kn">Universe</span>.is_sprop x2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x1,x2;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk28b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_sort_sup&#39;</span> <span class="nv">x1</span> <span class="nv">x2</span> :
  <span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2)
  -&gt; <span class="kn">Universe</span>.is_prop x1 \/ <span class="kn">Universe</span>.is_sprop x1 .</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2) -&gt;
<span class="kn">Universe</span>.is_prop x1 \/ <span class="kn">Universe</span>.is_sprop x1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk28c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk28c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2) -&gt;
<span class="kn">Universe</span>.is_prop x1 \/ <span class="kn">Universe</span>.is_sprop x1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x1,x2;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk28d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_or_sprop_sort_sup</span> <span class="nv">x1</span> <span class="nv">x2</span> :
  <span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup x1 x2) -&gt; <span class="kn">Universe</span>.is_sprop x2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup x1 x2) -&gt;
<span class="kn">Universe</span>.is_sprop x2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk28e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup x1 x2) -&gt;
<span class="kn">Universe</span>.is_sprop x2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x1,x2;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk28f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_sort_sup_prop</span> <span class="nv">x1</span> <span class="nv">x2</span> :
  <span class="kn">Universe</span>.is_prop x1 &amp;&amp; <span class="kn">Universe</span>.is_prop x2 -&gt;
  <span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop x1 &amp;&amp; <span class="kn">Universe</span>.is_prop x2 -&gt;
<span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk290"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop x1 &amp;&amp; <span class="kn">Universe</span>.is_prop x2 -&gt;
<span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x1 x2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x1,x2;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk291"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_or_sprop_sort_sup_prop</span> <span class="nv">x1</span> <span class="nv">x2</span> :
  <span class="kn">Universe</span>.is_sprop x1 &amp;&amp; <span class="kn">Universe</span>.is_sprop x2 -&gt;
  <span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup x1 x2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop x1 &amp;&amp; <span class="kn">Universe</span>.is_sprop x2 -&gt;
<span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup x1 x2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk292" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk292"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x1, x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop x1 &amp;&amp; <span class="kn">Universe</span>.is_sprop x2 -&gt;
<span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup x1 x2)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x1,x2;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk293"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_sup</span> <span class="nv">u</span> <span class="nv">s</span> :
  <span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup u s) -&gt;
  (<span class="kn">Universe</span>.is_prop u \/ <span class="kn">Universe</span>.is_sprop u) /\
  (<span class="kn">Universe</span>.is_prop s \/ <span class="kn">Universe</span>.is_sprop s).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup u s) -&gt;
(<span class="kn">Universe</span>.is_prop u \/ <span class="kn">Universe</span>.is_sprop u) /\
(<span class="kn">Universe</span>.is_prop s \/ <span class="kn">Universe</span>.is_sprop s)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk294"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup u s) -&gt;
(<span class="kn">Universe</span>.is_prop u \/ <span class="kn">Universe</span>.is_sprop u) /\
(<span class="kn">Universe</span>.is_prop s \/ <span class="kn">Universe</span>.is_sprop s)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u,s;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk295"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_sprop_sup_iff</span> <span class="nv">u</span> <span class="nv">s</span> :
  <span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup u s) &lt;-&gt;
  (<span class="kn">Universe</span>.is_sprop u /\ <span class="kn">Universe</span>.is_sprop s).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup u s) &lt;-&gt;
<span class="kn">Universe</span>.is_sprop u /\ <span class="kn">Universe</span>.is_sprop s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk296"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup u s) &lt;-&gt;
<span class="kn">Universe</span>.is_sprop u /\ <span class="kn">Universe</span>.is_sprop s</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">split</span>;<span class="nb">destruct</span> u,s;<span class="nb">intuition</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk297"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_prop_sort_prod</span> <span class="nv">x2</span> <span class="nv">x3</span> :
  <span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sort_of_product x2 x3)
  -&gt; <span class="kn">Universe</span>.is_prop x3.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2, x3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sort_of_product x2 x3) -&gt;
<span class="kn">Universe</span>.is_prop x3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk298"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2, x3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sort_of_product x2 x3) -&gt;
<span class="kn">Universe</span>.is_prop x3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk299"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Universe</span>.sort_of_product.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2, x3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop
  (<span class="kr">if</span> <span class="kn">Universe</span>.is_prop x3 || <span class="kn">Universe</span>.is_sprop x3
   <span class="kr">then</span> x3
   <span class="kr">else</span> <span class="kn">Universe</span>.sup x2 x3) -&gt; <span class="kn">Universe</span>.is_prop x3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk29a"><span class="highlight"><span class="nb">destruct</span> x3;<span class="nb">cbn</span>;<span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop (<span class="kn">Universe</span>.sup x2 (<span class="kn">Universe</span>.lType t)) -&gt;
false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span>;<span class="nb">simpl</span> <span class="kr">in</span> *;<span class="nb">destruct</span> x2;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk29b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">is_sprop_sort_prod</span> <span class="nv">x2</span> <span class="nv">x3</span> :
  <span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sort_of_product x2 x3)
  -&gt; <span class="kn">Universe</span>.is_sprop x3.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2, x3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sort_of_product x2 x3) -&gt;
<span class="kn">Universe</span>.is_sprop x3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk29c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2, x3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sort_of_product x2 x3) -&gt;
<span class="kn">Universe</span>.is_sprop x3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk29d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk29d"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Universe</span>.sort_of_product.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2, x3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop
  (<span class="kr">if</span> <span class="kn">Universe</span>.is_prop x3 || <span class="kn">Universe</span>.is_sprop x3
   <span class="kr">then</span> x3
   <span class="kr">else</span> <span class="kn">Universe</span>.sup x2 x3) -&gt; <span class="kn">Universe</span>.is_sprop x3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk29e"><span class="highlight"><span class="nb">destruct</span> x3;<span class="nb">cbn</span>;<span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_sprop (<span class="kn">Universe</span>.sup x2 (<span class="kn">Universe</span>.lType t)) -&gt;
false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span>;<span class="nb">simpl</span> <span class="kr">in</span> *;<span class="nb">destruct</span> x2;<span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">ConstraintType</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">t_</span> : <span class="kt">Set</span> := Le (z : Z) | Eq.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> EqDec <span class="kr">for</span> t_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := t_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq</span> : t -&gt; t -&gt; <span class="kt">Prop</span> := eq.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_equiv</span> : Equivalence eq := _.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Le0</span> := Le <span class="mi">0</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">Lt</span> := Le <span class="mi">1</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">lt_</span> : t -&gt; t -&gt; <span class="kt">Prop</span> :=
  | LeLe n m : (n &lt; m)%Z -&gt; lt_ (Le n) (Le m)
  | LeEq n : lt_ (Le n) Eq.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt</span> := lt_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk29f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk29f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">lt_strorder</span> : StrictOrder lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a1"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2a2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a3"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a4"><span class="highlight"><span class="nb">intros</span> []; <span class="nb">intro</span> X; <span class="nb">inversion</span> X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (Le z) (Le z)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z &lt; z)%Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n = z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">m = z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a5"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a6"><span class="highlight"><span class="nb">intros</span> ? ? ? X Y; invs X; invs Y; <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, m, m0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(n &lt; m)%Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(m &lt; m0)%Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(n &lt; m0)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">lt_compat</span> : Proper (eq ==&gt; eq ==&gt; iff) lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2a9"><span class="highlight"><span class="nb">intros</span> ? ? X ? ? Y; invs X; invs Y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">y, y0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt y y0 &lt;-&gt; lt y y0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compare</span> (<span class="nv">x</span> <span class="nv">y</span> : t) : comparison :=
    <span class="kr">match</span> x, y <span class="kr">with</span>
    | Le n, Le m =&gt; Z.<span class="nb">compare</span> n m
    | Le _, Eq =&gt; Datatypes.Lt
    | Eq, Eq =&gt; Datatypes.Eq
    | Eq, _  =&gt; Datatypes.Gt
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2aa"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">compare_spec</span> <span class="nv">x</span> <span class="nv">y</span> : CompareSpec (eq x y) (lt x y) (lt y x) (<span class="nb">compare</span> x y).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq x y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ab"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq x y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ac"><span class="highlight"><span class="nb">destruct</span> x, y; <span class="kp">repeat</span> <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq (Le z) (Le z0)) (lt (Le z) (Le z0))
  (lt (Le z0) (Le z)) (<span class="nb">compare</span> (Le z) (Le z0))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ad"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq (Le z) (Le z0)) (lt (Le z) (Le z0))
  (lt (Le z0) (Le z)) (z ?= z0)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ae"><span class="highlight"><span class="nb">destruct</span> (Z.compare_spec z z0); <span class="nb">simpl</span>; <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">z = z0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq (Le z) (Le z0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2af" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z &lt; z0)%Z</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2af"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Le z) (Le z0)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2b0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z0 &lt; z)%Z</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2b0"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Le z0) (Le z)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b1"><span class="highlight"><span class="nb">subst</span>; <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z &lt; z0)%Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt (Le z) (Le z0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2b2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z0 &lt; z)%Z</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2b2"><hr></label><div class="goal-conclusion"><span class="highlight">lt (Le z0) (Le z)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b3"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z0 &lt; z)%Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt (Le z0) (Le z)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_dec</span> <span class="nv">x</span> <span class="nv">y</span> : {eq x y} + {~ eq x y}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{eq x y} + {~ eq x y}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{eq x y} + {~ eq x y}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b6"><span class="highlight"><span class="nb">unfold</span> eq.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x = y} + {x &lt;&gt; y}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b7"><span class="highlight"><span class="bp">decide equality</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z, z0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{z = z0} + {z &lt;&gt; z0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> Z.eq_dec.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">ConstraintType</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">UnivConstraint</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> : <span class="kt">Set</span> := Level.t * ConstraintType.t * Level.t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq</span> : t -&gt; t -&gt; <span class="kt">Prop</span> := eq.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_equiv</span> : Equivalence eq := _.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">make</span> <span class="nv">l1</span> <span class="nv">ct</span> <span class="nv">l2</span> : t := (l1, ct, l2).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">lt_</span> : t -&gt; t -&gt; <span class="kt">Prop</span> :=
  | lt_Level2 l1 t l2 l2&#39; : Level.lt l2 l2&#39; -&gt; lt_ (l1, t, l2) (l1, t, l2&#39;)
  | lt_Cstr l1 t t&#39; l2 l2&#39; : ConstraintType.lt t t&#39; -&gt; lt_ (l1, t, l2) (l1, t&#39;, l2&#39;)
  | lt_Level1 l1 l1&#39; t t&#39; l2 l2&#39; : Level.lt l1 l1&#39; -&gt; lt_ (l1, t, l2) (l1&#39;, t&#39;, l2&#39;).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt</span> := lt_.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b8"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">lt_strorder</span> : StrictOrder lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2b9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2b9"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ba" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ba"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2bb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2bc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2bc"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2bd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2bd"><span class="highlight"><span class="nb">intros</span> []; <span class="nb">intro</span> X; <span class="nb">inversion</span> X; <span class="nb">subst</span>;
        <span class="kp">try</span> (<span class="nb">eapply</span> Level.lt_strorder; <span class="bp">eassumption</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t0, l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lt (l1, t1, t0) (l1, t1, t0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.lt t1 t1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> ConstraintType.lt_strorder; <span class="bp">eassumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2be"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive lt</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2bf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2bf"><span class="highlight"><span class="nb">intros</span> ? ? ? X Y; invs X; invs Y; <span class="nb">constructor</span>; tea.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l2', l2'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l2 l2&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l2&#39; l2&#39;0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Level.lt l2 l2&#39;0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2c0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.lt t0 t&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.lt t&#39; t&#39;0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2c0"><hr></label><div class="goal-conclusion"><span class="highlight">ConstraintType.lt t0 t&#39;0</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2c1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2', l1'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l1 l1&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l1&#39; l1&#39;0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2c1"><hr></label><div class="goal-conclusion"><span class="highlight">Level.lt l1 l1&#39;0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c2"><span class="highlight"><span class="nb">etransitivity</span>; <span class="bp">eassumption</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.lt t0 t&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.lt t&#39; t&#39;0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintType.lt t0 t&#39;0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2c3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2', l1'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l1 l1&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.lt l1&#39; l1&#39;0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2c3"><hr></label><div class="goal-conclusion"><span class="highlight">Level.lt l1 l1&#39;0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c4"><span class="highlight"><span class="mi">2</span>: <span class="nb">etransitivity</span>; <span class="bp">eassumption</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.lt t0 t&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H4</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.lt t&#39; t&#39;0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintType.lt t0 t&#39;0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> ConstraintType.lt_strorder; <span class="bp">eassumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">lt_compat</span> : Proper (eq ==&gt; eq ==&gt; iff) lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (eq ==&gt; eq ==&gt; iff) lt</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c7"><span class="highlight"><span class="nb">intros</span> ? ? X ? ? Y; invs X; invs Y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">y, y0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lt y y0 &lt;-&gt; lt y y0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">compare</span> : t -&gt; t -&gt; comparison :=
    <span class="kr">fun</span> &#39;(l1, t, l2) &#39;(l1&#39;, t&#39;, l2&#39;) =&gt;
      Pos.switch_Eq (Pos.switch_Eq (Level.<span class="nb">compare</span> l2 l2&#39;)
                                   (ConstraintType.<span class="nb">compare</span> t t&#39;))
                    (Level.<span class="nb">compare</span> l1 l1&#39;).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c8"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">compare_spec</span> <span class="nv">x</span> <span class="nv">y</span>
    : CompareSpec (eq x y) (lt x y) (lt y x) (<span class="nb">compare</span> x y).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq x y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2c9"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq x y) (lt x y) (lt y x) (<span class="nb">compare</span> x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ca" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ca"><span class="highlight"><span class="nb">destruct</span> x <span class="kr">as</span> [[l1 t] l2], y <span class="kr">as</span> [[l1&#39; t&#39;] l2&#39;]; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq (l1, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t&#39;, l2&#39;) (l1, t, l2))
  (Pos.switch_Eq
     (Pos.switch_Eq (Level.<span class="nb">compare</span> l2 l2&#39;)
        (ConstraintType.<span class="nb">compare</span> t t&#39;))
     (Level.<span class="nb">compare</span> l1 l1&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2cb"><span class="highlight"><span class="nb">destruct</span> (Level.compare_spec l1 l1&#39;); <span class="nb">cbn</span>; <span class="kp">repeat</span> <span class="nb">constructor</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l1 = l1&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq (l1, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t&#39;, l2&#39;) (l1, t, l2))
  (Pos.switch_Eq (Level.<span class="nb">compare</span> l2 l2&#39;)
     (ConstraintType.<span class="nb">compare</span> t t&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2cc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2cc"><span class="highlight">invs H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l1&#39; = l1&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq (l1&#39;, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t&#39;, l2&#39;) (l1&#39;, t, l2))
  (Pos.switch_Eq (Level.<span class="nb">compare</span> l2 l2&#39;)
     (ConstraintType.<span class="nb">compare</span> t t&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2cd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2cd"><span class="highlight"><span class="nb">destruct</span> (ConstraintType.compare_spec t t&#39;); <span class="nb">cbn</span>; <span class="kp">repeat</span> <span class="nb">constructor</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l1&#39; = l1&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.eq t t&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq (l1&#39;, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t&#39;, l2&#39;) (l1&#39;, t, l2))
  (Level.<span class="nb">compare</span> l2 l2&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ce" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ce"><span class="highlight">invs H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l1&#39; = l1&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CompareSpec (eq (l1&#39;, t&#39;, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t&#39;, l2) (l1&#39;, t&#39;, l2&#39;))
  (lt (l1&#39;, t&#39;, l2&#39;) (l1&#39;, t&#39;, l2))
  (Level.<span class="nb">compare</span> l2 l2&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2cf"><span class="highlight"><span class="nb">destruct</span> (Level.compare_spec l2 l2&#39;); <span class="nb">cbn</span>; <span class="kp">repeat</span> <span class="nb">constructor</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l2, l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l1&#39; = l1&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l2 = l2&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq (l1&#39;, t&#39;, l2) (l1&#39;, t&#39;, l2&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d0"><span class="highlight">invs H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l1'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintType.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l2'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l1&#39; = l1&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l2&#39; = l2&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq (l1&#39;, t&#39;, l2&#39;) (l1&#39;, t&#39;, l2&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_dec</span> <span class="nv">x</span> <span class="nv">y</span> : {eq x y} + {~ eq x y}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{eq x y} + {~ eq x y}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{eq x y} + {~ eq x y}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d3"><span class="highlight"><span class="nb">unfold</span> eq.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x = y} + {x &lt;&gt; y}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">repeat</span> <span class="bp">decide equality</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_leibniz</span> (<span class="nv">x</span> <span class="nv">y</span> : t) : eq x y -&gt; x = y := id.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">UnivConstraint</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">ConstraintSet</span> := MSetList.MakeWithLeibniz UnivConstraint.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">ConstraintSetFact</span> := WFactsOn UnivConstraint ConstraintSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">ConstraintSetProp</span> := WPropertiesOn UnivConstraint ConstraintSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">CS</span> := ConstraintSet.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">CS_union_empty</span> <span class="nv">s</span> : ConstraintSet.union ConstraintSet.empty s = s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.union ConstraintSet.empty s = s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.union ConstraintSet.empty s = s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d6"><span class="highlight"><span class="nb">apply</span> ConstraintSet.eq_leibniz.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.eq
  (ConstraintSet.union ConstraintSet.empty s) s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d7"><span class="highlight"><span class="nb">change</span> ConstraintSet.eq <span class="kr">with</span> ConstraintSet.Equal.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.Equal
  (ConstraintSet.union ConstraintSet.empty s) s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d8"><span class="highlight"><span class="nb">intros</span> x; <span class="nb">rewrite</span> ConstraintSet.union_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.In x ConstraintSet.empty \/
ConstraintSet.In x s &lt;-&gt; ConstraintSet.In x s</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">lsets.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2d9"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">CS_For_all_union</span> <span class="nv">f</span> <span class="nv">cst</span> <span class="nv">cst&#39;</span> : ConstraintSet.For_all f (ConstraintSet.union cst cst&#39;) -&gt;
  ConstraintSet.For_all f cst.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst, cst'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.For_all f (ConstraintSet.union cst cst&#39;) -&gt;
ConstraintSet.For_all f cst</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2da"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst, cst'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.For_all f (ConstraintSet.union cst cst&#39;) -&gt;
ConstraintSet.For_all f cst</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2db"><span class="highlight"><span class="nb">unfold</span> CS.For_all.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst, cst'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : ConstraintSet.elt,
 ConstraintSet.In x (ConstraintSet.union cst cst&#39;) -&gt;
 f x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : ConstraintSet.elt,
ConstraintSet.In x cst -&gt; f x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2dc"><span class="highlight"><span class="nb">intros</span> IH x inx.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst, cst'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : ConstraintSet.elt,
ConstraintSet.In x0
  (ConstraintSet.union cst cst&#39;) -&gt; 
f x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">inx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.In x cst</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">f x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2dd"><span class="highlight"><span class="nb">apply</span> (IH x).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst, cst'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x0</span> : ConstraintSet.elt,
ConstraintSet.In x0
  (ConstraintSet.union cst cst&#39;) -&gt; 
f x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">inx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.In x cst</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.In x (ConstraintSet.union cst cst&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> CS.union_spec; <span class="nb">left</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2de" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2de"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">CS_For_all_add</span> <span class="nv">P</span> <span class="nv">x</span> <span class="nv">s</span> : CS.For_all P (CS.add x s) -&gt; P x /\ CS.For_all P s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CS.For_all P (CS.add x s) -&gt; P x /\ CS.For_all P s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2df" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2df"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CS.For_all P (CS.add x s) -&gt; P x /\ CS.For_all P s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e0"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.For_all P (CS.add x s)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P x /\ CS.For_all P s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e1"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.For_all P (CS.add x s)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2e2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.For_all P (CS.add x s)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2e2"><hr></label><div class="goal-conclusion"><span class="highlight">CS.For_all P s</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e3"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.For_all P (CS.add x s)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> (H x), CS.add_spec; <span class="nb">left</span> =&gt; //.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e4"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.For_all P (CS.add x s)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">CS.For_all P s</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e5"><span class="highlight"><span class="nb">intros</span> y iny.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.For_all P (CS.add x s)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iny</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.In y s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P y</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> (H y), CS.add_spec; <span class="nb">right</span> =&gt; //.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e6"><span class="highlight"><span class="kn">Instance</span> <span class="nf">CS_For_all_proper</span> <span class="nv">P</span> : Morphisms.Proper (CS.Equal ==&gt; iff)%signature (ConstraintSet.For_all P).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (CS.Equal ==&gt; iff) (ConstraintSet.For_all P)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Proper (CS.Equal ==&gt; iff) (ConstraintSet.For_all P)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e8"><span class="highlight"><span class="nb">intros</span> s s&#39; eqs.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.Equal s s&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.For_all P s &lt;-&gt;
ConstraintSet.For_all P s&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2e9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2e9"><span class="highlight"><span class="nb">unfold</span> CS.For_all.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt -&gt; <span class="kt">Prop</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">CS.Equal s s&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">x</span> : ConstraintSet.elt,
 ConstraintSet.In x s -&gt; P x) &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : ConstraintSet.elt,
 ConstraintSet.In x s&#39; -&gt; P x)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">split</span>; <span class="nb">intros</span> IH x inxs; <span class="nb">apply</span> (IH x);
  <span class="bp">now</span> <span class="nb">apply</span> eqs.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* Being built up from sorted lists without duplicates, constraint sets have </span>
<span class="c">  decidable equality. This is however not used in the development. *)</span>
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kt">Set</span> Equations With UIP.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ea" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ea"><span class="highlight"><span class="kn">Remark</span> <span class="nf">ConstraintSet_EqDec</span> : EqDec ConstraintSet.t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec ConstraintSet.t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2eb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2eb"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">EqDec ConstraintSet.t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ec" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ec"><span class="highlight"><span class="nb">intros</span> p p&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ed" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ed"><span class="highlight"><span class="nb">destruct</span> (ConstraintSet.eq_dec p p&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk2ee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ ConstraintSet.eq p p&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk2ee"><hr></label><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ef" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ef"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">left</span>; <span class="nb">eapply</span> ConstraintSet.eq_leibniz <span class="kr">in</span> e.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f0"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ ConstraintSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{p = p&#39;} + {p &lt;&gt; p&#39;}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f1"><span class="highlight"><span class="nb">right</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p, p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ ConstraintSet.eq p p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p &lt;&gt; p&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f2"><span class="highlight"><span class="nb">intros</span> -&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ ConstraintSet.eq p&#39; p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f3"><span class="highlight"><span class="nb">apply</span> n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">p'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~ ConstraintSet.eq p&#39; p&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.eq p&#39; p&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
{6 Universe instances} 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Instance</span>.</span></span></span></pre><div class="doc">
A universe instance represents a vector of argument universes
      to a polymorphic definition (constant, inductive or constructor). 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> : <span class="kt">Set</span> := list Level.t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">empty</span> : t := [].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_empty</span> (<span class="nv">i</span> : t) : bool :=
    <span class="kr">match</span> i <span class="kr">with</span>
    | [] =&gt; true
    | _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eqb</span> (<span class="nv">i</span> <span class="nv">j</span> : t) :=
    forallb2 Level.eqb i j.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">equal_upto</span> (<span class="nv">f</span> : Level.t -&gt; Level.t -&gt; bool) (<span class="nv">i</span> <span class="nv">j</span> : t) :=
    forallb2 f i j.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Instance</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">UContext</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := <span class="kn">Instance</span>.t √ó ConstraintSet.t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">make</span> : <span class="kn">Instance</span>.t -&gt; ConstraintSet.t -&gt; t := pair.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">empty</span> : t := (<span class="kn">Instance</span>.empty, ConstraintSet.empty).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">instance</span> : t -&gt; <span class="kn">Instance</span>.t := fst.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">constraints</span> : t -&gt; ConstraintSet.t := snd.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">dest</span> : t -&gt; <span class="kn">Instance</span>.t * ConstraintSet.t := <span class="kr">fun</span> <span class="nv">x</span> =&gt; x.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">UContext</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">AUContext</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := list name √ó ConstraintSet.t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">make</span> (<span class="nv">ids</span> : list name) (<span class="nv">ctrs</span> : ConstraintSet.t) : t := (ids, ctrs).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">repr</span> (<span class="nv">x</span> : t) : UContext.t :=
    <span class="kr">let</span> (<span class="nv">u</span>, cst) := x <span class="kr">in</span>
    (mapi (<span class="kr">fun</span> <span class="nv">i</span> <span class="nv">_</span> =&gt; Level.Var i) u, cst).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">levels</span> (<span class="nv">uctx</span> : t) : LevelSet.t :=
    LevelSetProp.of_list (fst (repr uctx)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">AUContext</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">ContextSet</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">t</span> := LevelSet.t √ó ConstraintSet.t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">empty</span> : t := (LevelSet.empty, ConstraintSet.empty).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_empty</span> (<span class="nv">uctx</span> : t)
    := LevelSet.is_empty (fst uctx) &amp;&amp; ConstraintSet.is_empty (snd uctx).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">ContextSet</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

<span class="c">(* Variance info is needed to do full universe polymorphism *)</span>
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Module</span> <span class="nf">Variance</span>.</span></span></span></pre><div class="doc">
A universe position in the instance given to a cumulative
     inductive can be the following. Note there is no Contravariant
     case because <span class="inlinecode"><span class="id" title="keyword">‚àÄ</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span>,</span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">‚â§</span> <span class="inlinecode"><span class="id" title="keyword">‚àÄ</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A'</span>,</span> <span class="inlinecode"><span class="id" title="var">B'</span></span> requires <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">=</span>
<span class="inlinecode"><span class="id" title="var">A'</span></span> as opposed to <span class="inlinecode"><span class="id" title="var">A'</span></span> <span class="inlinecode">‚â§</span> <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">t</span> :=
  | Irrelevant : t
  | Covariant : t
  | Invariant : t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> EqDec <span class="kr">for</span> t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* val check_subtype : t -&gt; t -&gt; bool *)</span>
  <span class="c">(* val sup : t -&gt; t -&gt; t *)</span>
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Variance</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">universes_decl</span> : <span class="kt">Type</span> :=
| Monomorphic_ctx (ctx : ContextSet.t)
| Polymorphic_ctx (cst : AUContext.t).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> <span class="kr">for</span> universes_decl.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">monomorphic_udecl</span> <span class="nv">u</span> :=
  <span class="kr">match</span> u <span class="kr">with</span>
  | Monomorphic_ctx ctx =&gt; ctx
  | _ =&gt; ContextSet.empty
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">monomorphic_levels</span> <span class="nv">œÜ</span> := (monomorphic_udecl œÜ).<span class="mi">1</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">monomorphic_constraints</span> <span class="nv">œÜ</span> := (monomorphic_udecl œÜ).<span class="mi">2</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">levels_of_udecl</span> <span class="nv">u</span> :=
  <span class="kr">match</span> u <span class="kr">with</span>
  | Monomorphic_ctx ctx =&gt; fst ctx
  | Polymorphic_ctx ctx =&gt; AUContext.levels ctx
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">constraints_of_udecl</span> <span class="nv">u</span> :=
  <span class="kr">match</span> u <span class="kr">with</span>
  | Monomorphic_ctx ctx =&gt; snd ctx
  | Polymorphic_ctx ctx =&gt; snd (AUContext.repr ctx)
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">univ_le_n</span> {<span class="nv">cf</span>:checker_flags} <span class="nv">n</span> <span class="nv">u</span> <span class="nv">u&#39;</span> := 
  <span class="kr">match</span> u, u&#39; <span class="kr">with</span>
  | UProp, UProp
  | USProp, USProp =&gt; (n = <span class="mi">0</span>)%Z
  | UType u, UType u&#39; =&gt; (Z.of_nat u &lt;= Z.of_nat u&#39; - n)%Z
  | UProp, UType u =&gt; 
    <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
  | _, _ =&gt; <span class="kt">False</span>
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;x &lt;_ n y&quot;</span> := (univ_le_n n x y) (<span class="kn">at level</span> <span class="mi">10</span>, n <span class="kn">ident</span>) : univ_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;x &lt; y&quot;</span> := (univ_le_n <span class="mi">1</span> x y) : univ_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;x &lt;= y&quot;</span> := (univ_le_n <span class="mi">0</span> x y) : univ_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">lle</span> := <span class="nb">unfold</span> univ_le_n <span class="kr">in</span> *.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">lled</span> := lle; <span class="kr">match goal with</span>
                  | H : prop_sub_type = true |- _ =&gt; <span class="nb">rewrite</span> H <span class="kr">in</span> *
                  | H : prop_sub_type = false |- _ =&gt; <span class="nb">rewrite</span> H <span class="kr">in</span> *
                  | H : is_true prop_sub_type |- _ =&gt; <span class="nb">rewrite</span> H <span class="kr">in</span> *
                  | _ =&gt; <span class="nb">destruct</span> prop_sub_type <span class="nb">eqn</span>:<span class="nl">?Hb</span>
                  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">prop_non_prop</span> :=
  <span class="kr">match goal with</span>
  | |- <span class="kp">context</span>[ <span class="kn">Universe</span>.is_prop <span class="nl">?u</span> || <span class="kn">Universe</span>.is_sprop <span class="nl">?u</span>]  =&gt;
    <span class="nb">destruct</span> (<span class="kn">Universe</span>.is_prop u || <span class="kn">Universe</span>.is_sprop u)
  | H : <span class="kp">context</span>[ <span class="kn">Universe</span>.is_prop <span class="nl">?u</span> || <span class="kn">Universe</span>.is_sprop <span class="nl">?u</span>] |- _ =&gt;
    <span class="nb">destruct</span> (<span class="kn">Universe</span>.is_prop u || <span class="kn">Universe</span>.is_sprop u)
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Univ</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> {<span class="nv">cf</span>:checker_flags}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f4"><span class="highlight"><span class="kn">Instance</span> <span class="nf">lle_refl</span> : Reflexive (univ_le_n <span class="mi">0</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (univ_le_n <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (univ_le_n <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f6"><span class="highlight"><span class="nb">intro</span> x.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x &lt;= x)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x; <span class="nb">simpl</span>; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">switch_minus</span> (<span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : Z) : (x &lt;= y - z &lt;-&gt; x + z &lt;= y)%Z.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x &lt;= y - z)%Z &lt;-&gt; (x + z &lt;= y)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x &lt;= y - z)%Z &lt;-&gt; (x + z &lt;= y)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">split</span>; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2f9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2f9"><span class="highlight"><span class="kn">Instance</span> <span class="nf">le_n_trans</span> <span class="nv">n</span> : Transitive (univ_le_n (Z.of_nat n)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n (Z.of_nat n))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2fa" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2fa"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n (Z.of_nat n))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> [] [] []; <span class="nb">unfold</span> univ_le_n; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">lia</span>; <span class="kp">try</span> (<span class="nb">destruct</span> prop_sub_type; <span class="bp">lia</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2fb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2fb"><span class="highlight"><span class="kn">Instance</span> <span class="nf">lle_trans</span> : Transitive (univ_le_n <span class="mi">0</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2fc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2fc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> (le_n_trans <span class="mi">0</span>).</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2fd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2fd"><span class="highlight"><span class="kn">Instance</span> <span class="nf">llt_trans</span> : Transitive (univ_le_n <span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2fe" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2fe"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> (le_n_trans <span class="mi">1</span>).</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Lemma llt_lt n m : (n &lt; m)%u -&gt; (n &lt; m)%Z.</span>
<span class="c">  Proof. lled; lia. Qed.</span>

<span class="c">  Lemma lle_le n m : (n &lt;= m)%u -&gt; (n &lt;= m)%Z.</span>
<span class="c">  Proof. lled; lia. Qed.</span>

<span class="c">  Lemma lt_llt n m : prop_sub_type -&gt; (n &lt; m)%Z -&gt; (n &lt; m)%u.</span>
<span class="c">  Proof. unfold llt. now intros -&gt;. Qed.</span>

<span class="c">  Lemma le_lle n m : prop_sub_type -&gt; (n &lt;= m)%Z -&gt; (n &lt;= m)%u.</span>
<span class="c">  Proof. lled; [lia|discriminate]. Qed.</span>

<span class="c">  Lemma lt_llt&#39; n m : (0 &lt;= n)%Z -&gt; (n &lt; m)%Z -&gt; (n &lt; m)%u.</span>
<span class="c">  Proof. lled; lia. Qed.</span>

<span class="c">  Lemma le_lle&#39; n m : (0 &lt;= n)%Z -&gt; (n &lt;= m)%Z -&gt; (n &lt;= m)%u.</span>
<span class="c">  Proof. lled; lia. Qed. *)</span>


</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">satisfies0</span> (<span class="nv">v</span> : valuation) : UnivConstraint.t -&gt; <span class="kt">Prop</span> :=
  | satisfies0_Lt (l l&#39; : Level.t) (z : Z) : (Z.of_nat (val v l) &lt;= Z.of_nat (val v l&#39;) - z)%Z
                         -&gt; satisfies0 v (l, ConstraintType.Le z, l&#39;)
  | satisfies0_Eq (l l&#39; : Level.t) : val v l = val v l&#39;
                         -&gt; satisfies0 v (l, ConstraintType.Eq, l&#39;).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">satisfies</span> <span class="nv">v</span> : ConstraintSet.t -&gt; <span class="kt">Prop</span> :=
    ConstraintSet.For_all (satisfies0 v).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">consistent</span> <span class="nv">ctrs</span> := <span class="kr">exists</span> <span class="nv">v</span>, satisfies v ctrs.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_universe0</span> (<span class="nv">œÜ</span> : ConstraintSet.t) <span class="nv">u</span> <span class="nv">u&#39;</span> :=
    <span class="kr">forall</span> <span class="nv">v</span>, satisfies v œÜ -&gt; (<span class="kn">Universe</span>.univ_val v u = <span class="kn">Universe</span>.univ_val v u&#39;).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">leq_universe_n</span> <span class="nv">n</span> (<span class="nv">œÜ</span> : ConstraintSet.t) <span class="nv">u</span> <span class="nv">u&#39;</span> :=
    <span class="kr">forall</span> <span class="nv">v</span>, satisfies v œÜ -&gt; (univ_le_n n (<span class="kn">Universe</span>.univ_val v u) (<span class="kn">Universe</span>.univ_val v u&#39;))%u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">leq_universe0</span> (<span class="nv">œÜ</span> : ConstraintSet.t) <span class="nv">u</span> <span class="nv">u&#39;</span> :=
    <span class="kr">forall</span> <span class="nv">v</span>, satisfies v œÜ -&gt; (<span class="kn">Universe</span>.univ_val v u &lt;= <span class="kn">Universe</span>.univ_val v u&#39;)%u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk2ff" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk2ff"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_universe0_leq_universe_n</span> (<span class="nv">œÜ</span> : ConstraintSet.t) <span class="nv">u</span> <span class="nv">u&#39;</span> :
    leq_universe0 œÜ u u&#39; &lt;-&gt; leq_universe_n <span class="mi">0</span> œÜ u u&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ u u&#39; &lt;-&gt; leq_universe_n <span class="mi">0</span> œÜ u u&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk300" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk300"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ u u&#39; &lt;-&gt; leq_universe_n <span class="mi">0</span> œÜ u u&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk301" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk301"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ u u&#39; &lt;-&gt; leq_universe_n <span class="mi">0</span> œÜ u u&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">lt_universe</span> := leq_universe_n <span class="mi">1</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_universe</span> <span class="nv">œÜ</span> <span class="nv">u</span> <span class="nv">u&#39;</span>
    := <span class="kr">if</span> check_univs <span class="kr">then</span> eq_universe0 œÜ u u&#39; <span class="kr">else</span> <span class="kt">True</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">leq_universe</span> <span class="nv">œÜ</span> <span class="nv">u</span> <span class="nv">u&#39;</span>
    := <span class="kr">if</span> check_univs <span class="kr">then</span> leq_universe0 œÜ u u&#39; <span class="kr">else</span> <span class="kt">True</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* ctrs are &quot;enforced&quot; by œÜ *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">valid_constraints0</span> <span class="nv">œÜ</span> <span class="nv">ctrs</span>
    := <span class="kr">forall</span> <span class="nv">v</span>, satisfies v œÜ -&gt; satisfies v ctrs.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">valid_constraints</span> <span class="nv">œÜ</span> <span class="nv">ctrs</span>
    := <span class="kr">if</span> check_univs <span class="kr">then</span> valid_constraints0 œÜ ctrs <span class="kr">else</span> <span class="kt">True</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk302" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk302"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">valid_subset</span> <span class="nv">œÜ</span> <span class="nv">œÜ&#39;</span> <span class="nv">ctrs</span>
    : ConstraintSet.Subset œÜ œÜ&#39; -&gt; valid_constraints œÜ ctrs
      -&gt;  valid_constraints œÜ&#39; ctrs.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39; -&gt;
valid_constraints œÜ ctrs -&gt; valid_constraints œÜ&#39; ctrs</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk303" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk303"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39; -&gt;
valid_constraints œÜ ctrs -&gt; valid_constraints œÜ&#39; ctrs</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk304" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk304"><span class="highlight"><span class="nb">unfold</span> valid_constraints.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39; -&gt;
(<span class="kr">if</span> check_univs
 <span class="kr">then</span> valid_constraints0 œÜ ctrs
 <span class="kr">else</span> <span class="kt">True</span>) -&gt;
<span class="kr">if</span> check_univs
<span class="kr">then</span> valid_constraints0 œÜ&#39; ctrs
<span class="kr">else</span> <span class="kt">True</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk305" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk305"><span class="highlight"><span class="nb">destruct</span> check_univs; [|<span class="nb">trivial</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39; -&gt;
valid_constraints0 œÜ ctrs -&gt;
valid_constraints0 œÜ&#39; ctrs</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk306" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk306"><span class="highlight"><span class="nb">intros</span> HœÜ H v Hv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HœÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valid_constraints0 œÜ ctrs</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">satisfies v ctrs</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk307" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk307"><span class="highlight"><span class="nb">apply</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HœÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valid_constraints0 œÜ ctrs</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">satisfies v œÜ</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk308" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk308"><span class="highlight"><span class="nb">intros</span> ctr Hc.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HœÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valid_constraints0 œÜ ctrs</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ctr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.In ctr œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">satisfies0 v ctr</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk309" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk309"><span class="highlight"><span class="nb">apply</span> Hv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ, œÜ', ctrs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HœÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.Subset œÜ œÜ&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valid_constraints0 œÜ ctrs</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ctr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.In ctr œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ConstraintSet.In ctr œÜ&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> HœÜ.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab2"></a><h4 class="section">Lemmas about eq and leq ****</h4>
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk30a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk30a"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe0_refl</span> <span class="nv">œÜ</span> : Reflexive (eq_universe0 œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (eq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk30b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk30b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (eq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> vH s; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk30c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk30c"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe_refl</span> <span class="nv">œÜ</span> : Reflexive (eq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (eq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk30d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk30d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (eq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk30e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk30e"><span class="highlight"><span class="nb">intro</span> s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe œÜ s s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">unfold</span> eq_universe; <span class="nb">destruct</span> check_univs;
      [<span class="nb">apply</span> eq_universe0_refl|<span class="nb">constructor</span>].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk30f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk30f"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe0_refl</span> <span class="nv">œÜ</span> : Reflexive (leq_universe0 œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (leq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk310" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk310"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (leq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> s vH;<span class="nb">cbn</span>;<span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk311" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk311"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe_refl</span> <span class="nv">œÜ</span> : Reflexive (leq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk312" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk312"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Reflexive (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk313" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk313"><span class="highlight"><span class="nb">intro</span> s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe œÜ s s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">unfold</span> leq_universe; <span class="nb">destruct</span> check_univs;
      [<span class="nb">apply</span> leq_universe0_refl|<span class="nb">constructor</span>].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk314" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk314"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe0_sym</span> <span class="nv">œÜ</span> : Symmetric (eq_universe0 œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Symmetric (eq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk315" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk315"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Symmetric (eq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk316" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk316"><span class="highlight"><span class="nb">intros</span> s s&#39; e vH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s, s'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe0 œÜ s s&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">satisfies vH œÜ -&gt; ‚ü¶s&#39;‚üß_vH%u = ‚ü¶s‚üß_vH%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">symmetry</span> ; <span class="nb">eauto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk317" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk317"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe_sym</span> <span class="nv">œÜ</span> : Symmetric (eq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Symmetric (eq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk318" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk318"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Symmetric (eq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk319" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk319"><span class="highlight"><span class="nb">unfold</span> eq_universe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Symmetric
  (<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">u&#39;</span> : <span class="kn">Universe</span>.t_ =&gt;
   <span class="kr">if</span> check_univs <span class="kr">then</span> eq_universe0 œÜ u u&#39; <span class="kr">else</span> <span class="kt">True</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk31a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk31a"><span class="highlight"><span class="nb">destruct</span> check_univs ; <span class="nb">eauto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Symmetric
  (<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">u&#39;</span> : <span class="kn">Universe</span>.t_ =&gt; eq_universe0 œÜ u u&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> eq_universe0_sym.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk31b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk31b"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe0_trans</span> <span class="nv">œÜ</span> : Transitive (eq_universe0 œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (eq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk31c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk31c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (eq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk31d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk31d"><span class="highlight"><span class="nb">intros</span> s1 s2 s3 h1 h2 v h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶s1‚üß_v%u = ‚ü¶s3‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">etransitivity</span> ; <span class="kp">try</span> <span class="nb">eapply</span> h1 ; <span class="nb">eauto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk31e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk31e"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe_trans</span> <span class="nv">œÜ</span> : Transitive (eq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (eq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk31f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk31f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (eq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk320" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk320"><span class="highlight"><span class="nb">intros</span> s1 s2 s3.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe œÜ s1 s2 -&gt;
eq_universe œÜ s2 s3 -&gt; eq_universe œÜ s1 s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk321" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk321"><span class="highlight"><span class="nb">unfold</span> eq_universe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> check_univs <span class="kr">then</span> eq_universe0 œÜ s1 s2 <span class="kr">else</span> <span class="kt">True</span>) -&gt;
(<span class="kr">if</span> check_univs <span class="kr">then</span> eq_universe0 œÜ s2 s3 <span class="kr">else</span> <span class="kt">True</span>) -&gt;
<span class="kr">if</span> check_univs <span class="kr">then</span> eq_universe0 œÜ s1 s3 <span class="kr">else</span> <span class="kt">True</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk322" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk322"><span class="highlight"><span class="nb">destruct</span> check_univs ; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe0 œÜ s1 s2 -&gt;
eq_universe0 œÜ s2 s3 -&gt; eq_universe0 œÜ s1 s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk323" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk323"><span class="highlight"><span class="nb">intros</span> h1 h2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe0 œÜ s2 s3</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe0 œÜ s1 s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> eq_universe0_trans ; <span class="nb">eauto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk324" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk324"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe0_trans</span> <span class="nv">œÜ</span> : Transitive (leq_universe0 œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (leq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk325" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk325"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (leq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk326" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk326"><span class="highlight"><span class="nb">intros</span> s1 s2 s3 h1 h2 v h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s1‚üß_v &lt;= ‚ü¶s3‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk327" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk327"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s1‚üß_v &lt;= <span class="nl">?y</span>)%u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk328" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk328"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="nl">?y</span> &lt;= ‚ü¶s3‚üß_v)%u</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk329" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk329"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s1‚üß_v &lt;= <span class="nl">?y</span>)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk32a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk32a"><span class="highlight"><span class="nb">eapply</span> h1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">satisfies v œÜ</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk32b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk32b"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s2‚üß_v &lt;= ‚ü¶s3‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk32c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk32c"><span class="highlight"><span class="nb">eapply</span> h2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">satisfies v œÜ</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk32d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk32d"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe_trans</span> <span class="nv">œÜ</span> : Transitive (leq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk32e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk32e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk32f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk32f"><span class="highlight"><span class="nb">intros</span> s1 s2 s3.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe œÜ s1 s2 -&gt;
leq_universe œÜ s2 s3 -&gt; leq_universe œÜ s1 s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk330" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk330"><span class="highlight"><span class="nb">unfold</span> leq_universe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> check_univs <span class="kr">then</span> leq_universe0 œÜ s1 s2 <span class="kr">else</span> <span class="kt">True</span>) -&gt;
(<span class="kr">if</span> check_univs <span class="kr">then</span> leq_universe0 œÜ s2 s3 <span class="kr">else</span> <span class="kt">True</span>) -&gt;
<span class="kr">if</span> check_univs <span class="kr">then</span> leq_universe0 œÜ s1 s3 <span class="kr">else</span> <span class="kt">True</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk331" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk331"><span class="highlight"><span class="nb">destruct</span> check_univs ; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ s1 s2 -&gt;
leq_universe0 œÜ s2 s3 -&gt; leq_universe0 œÜ s1 s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk332" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk332"><span class="highlight"><span class="nb">intros</span> h1 h2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2, s3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s1 s2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ s2 s3</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ s1 s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> leq_universe0_trans ; <span class="nb">eauto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk333" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk333"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_leq_universe</span> <span class="nv">œÜ</span> <span class="nv">u</span> <span class="nv">u&#39;</span> :
    eq_universe0 œÜ u u&#39; &lt;-&gt; leq_universe0 œÜ u u&#39; /\ leq_universe0 œÜ u&#39; u.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe0 œÜ u u&#39; &lt;-&gt;
leq_universe0 œÜ u u&#39; /\ leq_universe0 œÜ u&#39; u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk334" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk334"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe0 œÜ u u&#39; &lt;-&gt;
leq_universe0 œÜ u u&#39; /\ leq_universe0 œÜ u&#39; u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk335" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk335"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe0 œÜ u u&#39; -&gt;
leq_universe0 œÜ u u&#39; /\ leq_universe0 œÜ u&#39; u</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk336" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk336"><hr></label><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ u u&#39; /\ leq_universe0 œÜ u&#39; u -&gt;
eq_universe0 œÜ u u&#39;</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk337" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk337"><span class="highlight"><span class="nb">intro</span> H; <span class="nb">split</span>; <span class="nb">intros</span> v Hv; <span class="nb">specialize</span> (H v Hv); <span class="bp">now</span> <span class="nb">rewrite</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ u u&#39; /\ leq_universe0 œÜ u&#39; u -&gt;
eq_universe0 œÜ u u&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk338" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk338"><span class="highlight"><span class="nb">intros</span> [H1 H2] v Hv; <span class="nb">specialize</span> (H1 v Hv); <span class="nb">specialize</span> (H2 v Hv).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚ü¶u‚üß_v &lt;= ‚ü¶u&#39;‚üß_v)%u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚ü¶u&#39;‚üß_v &lt;= ‚ü¶u‚üß_v)%u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = ‚ü¶u&#39;‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk339" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk339"><span class="highlight"><span class="nb">unfold</span> univ_le_n <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶u&#39;‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶u&#39;‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶u&#39;‚üß_v%u <span class="kr">with</span>
    | UType u&#39;0 =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39;0 - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> ‚ü¶u&#39;‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UType u&#39;0 =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39;0 - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶u‚üß_v%u = ‚ü¶u&#39;‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.univ_val v u), (<span class="kn">Universe</span>.univ_val v u&#39;); <span class="kp">try</span> <span class="bp">now</span> <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk33a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk33a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_universe0_sup_l</span> <span class="nv">œÜ</span> <span class="nv">s1</span> <span class="nv">s2</span> :
    <span class="kn">Universe</span>.is_prop s1 = false -&gt; <span class="kn">Universe</span>.is_sprop s1 = false -&gt; 
    leq_universe0 œÜ s1 (<span class="kn">Universe</span>.sup s1 s2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop s1 = false -&gt;
<span class="kn">Universe</span>.is_sprop s1 = false -&gt;
leq_universe0 œÜ s1 (<span class="kn">Universe</span>.sup s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk33b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk33b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop s1 = false -&gt;
<span class="kn">Universe</span>.is_sprop s1 = false -&gt;
leq_universe0 œÜ s1 (<span class="kn">Universe</span>.sup s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk33c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk33c"><span class="highlight"><span class="nb">intros</span> H1 H2 v Hv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop s1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop s1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s1‚üß_v &lt;= ‚ü¶<span class="kn">Universe</span>.sup s1 s2‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk33d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk33d"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ H1 H2 v) <span class="kr">as</span> [n Hzero].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop s1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop s1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hzero</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚ü¶s1‚üß_v%u = UType n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s1‚üß_v &lt;= ‚ü¶<span class="kn">Universe</span>.sup s1 s2‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk33e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk33e"><span class="highlight"><span class="nb">rewrite</span> val_universe_sup Hzero.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop s1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop s1 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hzero</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚ü¶s1‚üß_v%u = UType n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(UType n &lt;= univ_val_max (UType n) ‚ü¶s2‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.univ_val v s2); <span class="nb">simpl</span>; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk33f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk33f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_universe0_sup_r</span> <span class="nv">œÜ</span> <span class="nv">s1</span> <span class="nv">s2</span> :
    <span class="kn">Universe</span>.is_prop s2 = false -&gt; <span class="kn">Universe</span>.is_sprop s2 = false -&gt; 
    leq_universe0 œÜ s2 (<span class="kn">Universe</span>.sup s1 s2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop s2 = false -&gt;
<span class="kn">Universe</span>.is_sprop s2 = false -&gt;
leq_universe0 œÜ s2 (<span class="kn">Universe</span>.sup s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk340" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk340"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.is_prop s2 = false -&gt;
<span class="kn">Universe</span>.is_sprop s2 = false -&gt;
leq_universe0 œÜ s2 (<span class="kn">Universe</span>.sup s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk341" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk341"><span class="highlight"><span class="nb">intros</span> H1 H2 v Hv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop s2 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop s2 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s2‚üß_v &lt;= ‚ü¶<span class="kn">Universe</span>.sup s1 s2‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk342" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk342"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ H1 H2 v) <span class="kr">as</span> [n Hzero].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop s2 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop s2 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hzero</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚ü¶s2‚üß_v%u = UType n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶s2‚üß_v &lt;= ‚ü¶<span class="kn">Universe</span>.sup s1 s2‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk343" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk343"><span class="highlight"><span class="nb">rewrite</span> val_universe_sup Hzero.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_prop s2 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.is_sprop s2 = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hzero</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚ü¶s2‚üß_v%u = UType n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(UType n &lt;= univ_val_max ‚ü¶s1‚üß_v (UType n))%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.univ_val v s1); <span class="nb">simpl</span>; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk344" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk344"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_universe0_sup_l&#39;</span> <span class="nv">œÜ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : Universe.t0) :
    leq_universe0 œÜ (<span class="kn">Universe</span>.lType s1) (<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ (<span class="kn">Universe</span>.lType s1)
  (<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk345" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk345"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ (<span class="kn">Universe</span>.lType s1)
  (<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk346" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk346"><span class="highlight"><span class="nb">intros</span> v Hv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶<span class="kn">Universe</span>.lType s1‚üß_v &lt;=
 ‚ü¶<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2)‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk347" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk347"><span class="highlight"><span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Z.of_nat (val v s1) &lt;=
 Z.of_nat (val v (<span class="kn">Universe</span>.sup0 s1 s2)) - <span class="mi">0</span>)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk348" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk348"><span class="highlight"><span class="nb">rewrite</span> val_sup.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Z.of_nat (val v s1) &lt;=
 Z.of_nat (Nat.max (val v s1) (val v s2)) - <span class="mi">0</span>)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk349" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk349"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_universe0_sup_r&#39;</span> <span class="nv">œÜ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : Universe.t0) :
    leq_universe0 œÜ (<span class="kn">Universe</span>.lType s2) (<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ (<span class="kn">Universe</span>.lType s2)
  (<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk34a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk34a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ (<span class="kn">Universe</span>.lType s2)
  (<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk34b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk34b"><span class="highlight"><span class="nb">intros</span> v Hv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶<span class="kn">Universe</span>.lType s2‚üß_v &lt;=
 ‚ü¶<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 s1 s2)‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk34c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk34c"><span class="highlight"><span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Z.of_nat (val v s2) &lt;=
 Z.of_nat (val v (<span class="kn">Universe</span>.sup0 s1 s2)) - <span class="mi">0</span>)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk34d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk34d"><span class="highlight"><span class="nb">rewrite</span> val_sup.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Z.of_nat (val v s2) &lt;=
 Z.of_nat (Nat.max (val v s1) (val v s2)) - <span class="mi">0</span>)%Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk34e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk34e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_universe_product</span> <span class="nv">œÜ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : Universe.t)
    : leq_universe œÜ s2 (<span class="kn">Universe</span>.sort_of_product s1 s2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe œÜ s2 (<span class="kn">Universe</span>.sort_of_product s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk34f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk34f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe œÜ s2 (<span class="kn">Universe</span>.sort_of_product s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk350" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk350"><span class="highlight"><span class="nb">unfold</span> leq_universe; <span class="nb">destruct</span> check_univs; [<span class="nb">cbn</span>|<span class="nb">constructor</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ s2 (<span class="kn">Universe</span>.sort_of_product s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk351" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk351"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Universe</span>.sort_of_product.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1, s2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ s2
  (<span class="kr">if</span> <span class="kn">Universe</span>.is_prop s2 || <span class="kn">Universe</span>.is_sprop s2
   <span class="kr">then</span> s2
   <span class="kr">else</span> <span class="kn">Universe</span>.sup s1 s2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk352" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk352"><span class="highlight"><span class="nb">destruct</span> s2; <span class="nb">cbn</span>; <span class="kp">try</span> <span class="nb">apply</span> leq_universe0_refl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ (<span class="kn">Universe</span>.lType t)
  (<span class="kn">Universe</span>.sup s1 (<span class="kn">Universe</span>.lType t))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk353" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk353"><span class="highlight"><span class="nb">destruct</span> s1;<span class="nb">cbn</span>;<span class="kp">try</span> <span class="nb">apply</span> leq_universe0_refl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe0 œÜ (<span class="kn">Universe</span>.lType t)
  (<span class="kn">Universe</span>.lType (<span class="kn">Universe</span>.sup0 t0 t))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> leq_universe0_sup_r&#39;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  <span class="c">(* Rk: [leq_universe œÜ s1 (sort_of_product s1 s2)] does not hold due to</span>
<span class="c">     impredicativity. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk354" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk354"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe_leq_universe</span> <span class="nv">œÜ</span> : subrelation (eq_universe œÜ) (leq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation (eq_universe œÜ) (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk355" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk355"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation (eq_universe œÜ) (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk356" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk356"><span class="highlight"><span class="nb">unfold</span> eq_universe, leq_universe; <span class="nb">destruct</span> check_univs; [|<span class="nb">intuition</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subrelation
  (<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">u&#39;</span> : <span class="kn">Universe</span>.t_ =&gt; eq_universe0 œÜ u u&#39;)
  (<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">u&#39;</span> : <span class="kn">Universe</span>.t_ =&gt; leq_universe0 œÜ u u&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk357" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk357"><span class="highlight"><span class="nb">intros</span> u u&#39; HH v Hv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe0 œÜ u u&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶u‚üß_v &lt;= ‚ü¶u&#39;‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk358" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk358"><span class="highlight"><span class="nb">rewrite</span> (HH v Hv).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, u'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">HH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe0 œÜ u u&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚ü¶u&#39;‚üß_v &lt;= ‚ü¶u&#39;‚üß_v)%u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe0_equivalence</span> <span class="nv">œÜ</span> : Equivalence (eq_universe0 œÜ) :=
     {| Equivalence_Reflexive := _ ;
        Equivalence_Symmetric := _;
        Equivalence_Transitive := _ |}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">eq_universe_equivalence</span> <span class="nv">œÜ</span> : Equivalence (eq_universe œÜ) :=
     {| Equivalence_Reflexive := eq_universe_refl _ ;
        Equivalence_Symmetric := eq_universe_sym _;
        Equivalence_Transitive := eq_universe_trans _ |}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe_preorder</span> <span class="nv">œÜ</span> : PreOrder (leq_universe œÜ) :=
     {| PreOrder_Reflexive := leq_universe_refl _ ;
        PreOrder_Transitive := leq_universe_trans _ |}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk359" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk359"><span class="highlight"><span class="kn">Instance</span> <span class="nf">llt_str_order</span> : StrictOrder (univ_le_n <span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder (univ_le_n <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk35a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk35a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">StrictOrder (univ_le_n <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk35b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk35b"><span class="highlight"><span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive (univ_le_n <span class="mi">1</span>)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk35c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk35c"><hr></label><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n <span class="mi">1</span>)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk35d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk35d"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Irreflexive (univ_le_n <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk35e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk35e"><span class="highlight"><span class="nb">intros</span> x H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(x &lt; x)%u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kt">False</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> x; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk35f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk35f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Transitive (univ_le_n <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span> _.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk360" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk360"><span class="highlight"><span class="kn">Instance</span> <span class="nf">lle_antisym</span> : Antisymmetric _ eq (univ_le_n <span class="mi">0</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Antisymmetric universes eq (univ_le_n <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk361" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk361"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Antisymmetric universes eq (univ_le_n <span class="mi">0</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk362" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk362"><span class="highlight"><span class="nb">intros</span> [] []; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">reflexivity</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, i0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Z.of_nat i &lt;= Z.of_nat i0 - <span class="mi">0</span>)%Z -&gt;
(Z.of_nat i0 &lt;= Z.of_nat i - <span class="mi">0</span>)%Z -&gt;
UType i = UType i0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk363" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk363"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, i0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(Z.of_nat i &lt;= Z.of_nat i0 - <span class="mi">0</span>)%Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(Z.of_nat i0 &lt;= Z.of_nat i - <span class="mi">0</span>)%Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UType i = UType i0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">f_equal</span>; <span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk364" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk364"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe0_antisym</span> <span class="nv">œÜ</span>
    : Antisymmetric _ (eq_universe0 œÜ) (leq_universe0 œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Antisymmetric <span class="kn">Universe</span>.t_ (eq_universe0 œÜ)
  (leq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk365" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk365"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Antisymmetric <span class="kn">Universe</span>.t_ (eq_universe0 œÜ)
  (leq_universe0 œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk366" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk366"><span class="highlight"><span class="nb">intros</span> t u tu ut.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ t u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ u t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe0 œÜ t u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk367" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk367"><span class="highlight"><span class="nb">unfold</span> leq_universe0, eq_universe0 <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">v</span> : valuation,
satisfies v œÜ -&gt; (‚ü¶t‚üß_v &lt;= ‚ü¶u‚üß_v)%u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">v</span> : valuation,
satisfies v œÜ -&gt; (‚ü¶u‚üß_v &lt;= ‚ü¶t‚üß_v)%u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">v</span> : valuation,
satisfies v œÜ -&gt; ‚ü¶t‚üß_v%u = ‚ü¶u‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk368" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk368"><span class="highlight"><span class="nb">red</span> <span class="kr">in</span> tu, ut.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">v</span> : valuation,
satisfies v œÜ -&gt;
<span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">v</span> : valuation,
satisfies v œÜ -&gt;
<span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">v</span> : valuation,
satisfies v œÜ -&gt; ‚ü¶t‚üß_v%u = ‚ü¶u‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk369" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk369"><span class="highlight"><span class="nb">intros</span> v sat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">v0</span> : valuation,
satisfies v0 œÜ -&gt;
<span class="kr">match</span> ‚ü¶t‚üß_v0%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v0%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v0%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v0%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">v0</span> : valuation,
satisfies v0 œÜ -&gt;
<span class="kr">match</span> ‚ü¶u‚üß_v0%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v0%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v0%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v0%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sat</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶t‚üß_v%u = ‚ü¶u‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk36a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk36a"><span class="highlight"><span class="nb">specialize</span> (tu _ sat).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">v0</span> : valuation,
satisfies v0 œÜ -&gt;
<span class="kr">match</span> ‚ü¶u‚üß_v0%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v0%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v0%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v0%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sat</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶t‚üß_v%u = ‚ü¶u‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk36b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk36b"><span class="highlight"><span class="nb">specialize</span> (ut _ sat).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sat</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶t‚üß_v%u = ‚ü¶u‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk36c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk36c"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> tu, ut.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">valuation</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> ‚ü¶u‚üß_v%u <span class="kr">with</span>
| UProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | UProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | USProp =&gt; <span class="kt">False</span>
    | UType _ =&gt;
        <span class="kr">if</span> prop_sub_type <span class="kr">then</span> <span class="kt">True</span> <span class="kr">else</span> <span class="kt">False</span>
    <span class="kr">end</span>
| USProp =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | USProp =&gt; <span class="mi">0</span>%Z = <span class="mi">0</span>%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
| UType u0 =&gt;
    <span class="kr">match</span> ‚ü¶t‚üß_v%u <span class="kr">with</span>
    | UType u&#39; =&gt;
        (Z.of_nat u0 &lt;= Z.of_nat u&#39; - <span class="mi">0</span>)%Z
    | _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>
<span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sat</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">satisfies v œÜ</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚ü¶t‚üß_v%u = ‚ü¶u‚üß_v%u</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> lle_antisym; tea.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk36d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk36d"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe_antisym</span> <span class="nv">œÜ</span>
    : Antisymmetric _ (eq_universe œÜ) (leq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Antisymmetric <span class="kn">Universe</span>.t_ (eq_universe œÜ)
  (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk36e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk36e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Antisymmetric <span class="kn">Universe</span>.t_ (eq_universe œÜ)
  (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk36f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk36f"><span class="highlight"><span class="nb">intros</span> t u tu ut.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe œÜ t u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe œÜ u t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe œÜ t u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk370" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk370"><span class="highlight"><span class="nb">unfold</span> leq_universe, eq_universe <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">if</span> check_univs <span class="kr">then</span> leq_universe0 œÜ t u <span class="kr">else</span> <span class="kt">True</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">if</span> check_univs <span class="kr">then</span> leq_universe0 œÜ u t <span class="kr">else</span> <span class="kt">True</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">if</span> check_univs <span class="kr">then</span> eq_universe0 œÜ t u <span class="kr">else</span> <span class="kt">True</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk371" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk371"><span class="highlight"><span class="nb">destruct</span> check_univs; [|<span class="nb">trivial</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tu</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ t u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe0 œÜ u t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe0 œÜ t u</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> leq_universe0_antisym; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk372" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk372"><span class="highlight"><span class="kn">Instance</span> <span class="nf">leq_universe_partial_order</span> <span class="nv">œÜ</span>
    : PartialOrder (eq_universe œÜ) (leq_universe œÜ).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">PartialOrder (eq_universe œÜ) (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk373" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk373"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">PartialOrder (eq_universe œÜ) (leq_universe œÜ)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk374" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk374"><span class="highlight"><span class="nb">intros</span> x y; <span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe œÜ x y -&gt;
relation_conjunction (leq_universe œÜ)
  (flip (leq_universe œÜ)) x y</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk375" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk375"><hr></label><div class="goal-conclusion"><span class="highlight">relation_conjunction (leq_universe œÜ)
  (flip (leq_universe œÜ)) x y -&gt; eq_universe œÜ x y</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk376" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk376"><span class="highlight"><span class="nb">intros</span> eqxy; <span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqxy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe œÜ x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe œÜ x y</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk377" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqxy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe œÜ x y</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk377"><hr></label><div class="goal-conclusion"><span class="highlight">flip (leq_universe œÜ) x y</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Universes-v-chk378" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk378"><hr></label><div class="goal-conclusion"><span class="highlight">relation_conjunction (leq_universe œÜ)
  (flip (leq_universe œÜ)) x y -&gt; 
eq_universe œÜ x y</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk379" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk379"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> eq_universe_leq_universe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqxy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe œÜ x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">flip (leq_universe œÜ) x y</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk37a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk37a"><hr></label><div class="goal-conclusion"><span class="highlight">relation_conjunction (leq_universe œÜ)
  (flip (leq_universe œÜ)) x y -&gt; 
eq_universe œÜ x y</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk37b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk37b"><span class="highlight"><span class="nb">red</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eqxy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">eq_universe œÜ x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">leq_universe œÜ y x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk37c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk37c"><hr></label><div class="goal-conclusion"><span class="highlight">relation_conjunction (leq_universe œÜ)
  (flip (leq_universe œÜ)) x y -&gt; 
eq_universe œÜ x y</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk37d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk37d"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> eq_universe_leq_universe, <span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">relation_conjunction (leq_universe œÜ)
  (flip (leq_universe œÜ)) x y -&gt; eq_universe œÜ x y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk37e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk37e"><span class="highlight"><span class="nb">intros</span> [l r].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">cf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">checker_flags</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">œÜ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ConstraintSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t_</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">leq_universe œÜ x y</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">flip (leq_universe œÜ) x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">eq_universe œÜ x y</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> leq_universe_antisym.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eq_universe_leq_universe&#39;</span> {<span class="nv">cf</span>} <span class="nv">œÜ</span> <span class="nv">u</span> <span class="nv">u&#39;</span>
    := @eq_universe_leq_universe cf œÜ u u&#39;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">leq_universe_refl&#39;</span> <span class="nv">œÜ</span> <span class="nv">u</span>
    := @leq_universe_refl œÜ u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Hint Resolve</span> eq_universe_leq_universe&#39; leq_universe_refl&#39; : core.</span></span></span></pre><div class="doc">
Elimination restriction 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_allowed_elimination0</span>
             <span class="nv">œÜ</span> (<span class="nv">into</span> : Universe.t) (<span class="nv">allowed</span> : allowed_eliminations) : <span class="kt">Prop</span> :=
    <span class="kr">forall</span> <span class="nv">v</span>,
      satisfies v œÜ -&gt;
      <span class="kr">match</span> allowed, <span class="kn">Universe</span>.univ_val v <span class="nb">into</span> <span class="kr">with</span>
      | IntoSProp, USProp
      | IntoPropSProp, (UProp | USProp)
      | IntoSetPropSProp, (UProp | USProp | UType <span class="mi">0</span>)
      | IntoAny, _ =&gt; <span class="kt">True</span>
      | _, _ =&gt; <span class="kt">False</span>
      <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">is_allowed_elimination</span> <span class="nv">œÜ</span> <span class="nv">into</span> <span class="nv">allowed</span> :=
    <span class="kr">if</span> check_univs <span class="kr">then</span> is_allowed_elimination0 œÜ <span class="nb">into</span> allowed <span class="kr">else</span> <span class="kt">True</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
  <span class="c">(* Is [a] a subset of [a&#39;]? *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">allowed_eliminations_subset</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : allowed_eliminations) : bool :=
    <span class="kr">match</span> a, a&#39; <span class="kr">with</span>
    | IntoSProp, _
    | IntoPropSProp, (IntoPropSProp | IntoSetPropSProp | IntoAny)
    | IntoSetPropSProp, (IntoSetPropSProp | IntoAny)
    | IntoAny, IntoAny =&gt; true
    | _, _ =&gt; false
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Univ</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This universe is a hack used in plugings to generate fresh universes *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk37f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk37f"><span class="highlight"><span class="kn">Definition</span> <span class="nf">fresh_universe</span> : <span class="kn">Universe</span>.t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span> <span class="kn">Universe</span>.type0.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"><span class="c">(* This level is a hack used in plugings to generate fresh levels *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk380" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk380"><span class="highlight"><span class="kn">Definition</span> <span class="nf">fresh_level</span> : Level.t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Level.t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span> Level.lSet.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
<a name="lab3"></a><h1 class="section">Universe substitution</h1>
<div class="paragraph"> </div>

  Substitution of universe levels for universe level variables, used to
  implement universe polymorphism. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --></pre><div class="doc">
Substitutable type 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Class</span> <span class="nf">UnivSubst</span> <span class="nv">A</span> := subst_instance : <span class="kn">Instance</span>.t -&gt; A -&gt; A.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">subst_instance_level</span> : UnivSubst Level.t :=
  <span class="kr">fun</span> <span class="nv">u</span> <span class="nv">l</span> =&gt; <span class="kr">match</span> l <span class="kr">with</span>
            Level.lSet | Level.Level _ =&gt; l
          | Level.Var n =&gt; List.nth n u Level.lSet
          <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">subst_instance_cstr</span> : UnivSubst UnivConstraint.t :=
  <span class="kr">fun</span> <span class="nv">u</span> <span class="nv">c</span> =&gt; (subst_instance_level u c.<span class="mi">1</span>.<span class="mi">1</span>, c.<span class="mi">1</span>.<span class="mi">2</span>, subst_instance_level u c.<span class="mi">2</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">subst_instance_cstrs</span> : UnivSubst ConstraintSet.t :=
  <span class="kr">fun</span> <span class="nv">u</span> <span class="nv">ctrs</span> =&gt; ConstraintSet.<span class="nb">fold</span> (<span class="kr">fun</span> <span class="nv">c</span> =&gt; ConstraintSet.add (subst_instance_cstr u c))
                                ctrs ConstraintSet.empty.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">subst_instance_level_expr</span> : UnivSubst UnivExpr.t :=
  <span class="kr">fun</span> <span class="nv">u</span> <span class="nv">e</span> =&gt; <span class="kr">match</span> e <span class="kr">with</span>
          | (Level.lSet, _)
          | (Level.Level _, _) =&gt; e
          | (Level.Var n, b) =&gt;
            <span class="kr">match</span> nth_error u n <span class="kr">with</span>
            | Some l =&gt; (l,b)
            | None =&gt; (Level.lSet, b)
            <span class="kr">end</span>
          <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">subst_instance_univ0</span> : UnivSubst <span class="kn">Universe</span>.t0 :=
  <span class="kr">fun</span> <span class="nv">u</span> =&gt; <span class="kn">Universe</span>.map (subst_instance_level_expr u).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">subst_instance_univ</span> : UnivSubst <span class="kn">Universe</span>.t :=
  <span class="kr">fun</span> <span class="nv">u</span> <span class="nv">e</span> =&gt; <span class="kr">match</span> e <span class="kr">with</span>
          | <span class="kn">Universe</span>.lProp | <span class="kn">Universe</span>.lSProp =&gt; e
          | <span class="kn">Universe</span>.lType l =&gt; <span class="kn">Universe</span>.lType (subst_instance u l)
          <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">subst_instance_instance</span> : UnivSubst <span class="kn">Instance</span>.t :=
  <span class="kr">fun</span> <span class="nv">u</span> <span class="nv">u&#39;</span> =&gt; List.map (subst_instance_level u) u&#39;.</span></span></span></pre><div class="doc">
Tests that the term is closed over <span class="inlinecode"><span class="id" title="var">k</span></span> universe variables 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Closedu</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> (<span class="nv">k</span> : nat).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">closedu_level</span> (<span class="nv">l</span> : Level.t) :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | Level.Var n =&gt; (n &lt;? k)%nat
    | _ =&gt; true
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">closedu_level_expr</span> (<span class="nv">s</span> : UnivExpr.t) :=
    closedu_level (UnivExpr.get_level s).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">closedu_universe_levels</span> (<span class="nv">u</span> : Universe.t0) :=
    UnivExprSet.for_all closedu_level_expr u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">closedu_universe</span> (<span class="nv">u</span> : Universe.t) :=
    <span class="kr">match</span> u <span class="kr">with</span>
    | <span class="kn">Universe</span>.lSProp | <span class="kn">Universe</span>.lProp =&gt; true
    | <span class="kn">Universe</span>.lType l =&gt; closedu_universe_levels l
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">closedu_instance</span> (<span class="nv">u</span> : Instance.t) :=
    forallb closedu_level u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Closedu</span>.</span></span></span></pre><div class="doc">
Universe-closed terms are unaffected by universe substitution. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">UniverseClosedSubst</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk381" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk381"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">closedu_subst_instance_level</span> <span class="nv">u</span> <span class="nv">l</span>
  : closedu_level <span class="mi">0</span> l -&gt; subst_instance_level u l = l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level <span class="mi">0</span> l -&gt; subst_instance_level u l = l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk382" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk382"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level <span class="mi">0</span> l -&gt; subst_instance_level u l = l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk383" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk383"><span class="highlight"><span class="nb">destruct</span> l; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">false -&gt; nth n u Level.lSet = Level.Var n</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk384" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk384"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">closedu_subst_instance_level_expr</span> <span class="nv">u</span> <span class="nv">e</span>
    : closedu_level_expr <span class="mi">0</span> e -&gt; subst_instance_level_expr u e = e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr <span class="mi">0</span> e -&gt;
subst_instance_level_expr u e = e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk385" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk385"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr <span class="mi">0</span> e -&gt;
subst_instance_level_expr u e = e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk386" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk386"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_level_expr <span class="mi">0</span> e)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subst_instance_level_expr u e = e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk387" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk387"><span class="highlight"><span class="nb">destruct</span> e <span class="kr">as</span> [t b].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_level_expr <span class="mi">0</span> (t, b))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subst_instance_level_expr u (t, b) = (t, b)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk388" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk388"><span class="highlight"><span class="nb">destruct</span> t;cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_level_expr <span class="mi">0</span> (Level.Var n, b))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> nth_error u n <span class="kr">with</span>
| Some l =&gt; (l, b)
| None =&gt; (Level.lSet, b)
<span class="kr">end</span> = (Level.Var n, b)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk389" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk389"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">closedu_subst_instance_univ</span> <span class="nv">u</span> <span class="nv">s</span>
    : closedu_universe <span class="mi">0</span> s -&gt; subst_instance_univ u s = s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_universe <span class="mi">0</span> s -&gt; subst_instance_univ u s = s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk38a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk38a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_universe <span class="mi">0</span> s -&gt; subst_instance_univ u s = s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk38b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk38b"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_universe <span class="mi">0</span> s)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subst_instance_univ u s = s</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk38c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk38c"><span class="highlight"><span class="nb">destruct</span> s;<span class="nb">auto</span>;<span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_universe_levels <span class="mi">0</span> t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kn">Universe</span>.lType (subst_instance u t) = <span class="kn">Universe</span>.lType t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk38d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk38d"><span class="highlight"><span class="nb">apply</span> <span class="nb">f_equal</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_universe_levels <span class="mi">0</span> t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subst_instance u t = t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk38e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk38e"><span class="highlight"><span class="nb">apply</span> eq_univ&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_universe_levels <span class="mi">0</span> t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Equal (subst_instance u t) t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk38f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk38f"><span class="highlight"><span class="nb">destruct</span> t <span class="kr">as</span> [ts H1].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (closedu_universe_levels <span class="mi">0</span>
     {|
     <span class="kn">Universe</span>.t_set := ts;
     <span class="kn">Universe</span>.t_ne := H1 |})</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Equal
  (subst_instance u
     {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |})
  {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk390" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk390"><span class="highlight"><span class="nb">unfold</span> closedu_universe_levels <span class="kr">in</span> *;<span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.Equal
  (subst_instance u
     {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |})
  ts</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk391" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk391"><span class="highlight"><span class="nb">intro</span> e; <span class="nb">split</span>; <span class="nb">intro</span> He.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e
  (subst_instance u
     {|
     <span class="kn">Universe</span>.t_set := ts;
     <span class="kn">Universe</span>.t_ne := H1 |})</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e ts</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk392" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e ts</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk392"><hr></label><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (subst_instance u
     {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |})</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk393" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk393"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e
  (subst_instance u
     {|
     <span class="kn">Universe</span>.t_set := ts;
     <span class="kn">Universe</span>.t_ne := H1 |})</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e ts</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk394" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk394"><span class="highlight"><span class="nb">apply</span> <span class="kn">Universe</span>.map_spec <span class="kr">in</span> He.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0
    {|
    <span class="kn">Universe</span>.t_set := ts;
    <span class="kn">Universe</span>.t_ne := H1 |} /\
  e = subst_instance_level_expr u e0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e ts</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk395" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk395"><span class="highlight"><span class="nb">destruct</span> He <span class="kr">as</span> [e&#39; [He&#39; X]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = subst_instance_level_expr u e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e ts</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk396" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk396"><span class="highlight"><span class="nb">rewrite</span> closedu_subst_instance_level_expr <span class="kr">in</span> X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level_expr <span class="mi">0</span> e&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk397" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = e&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk397"><hr></label><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e ts</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk398" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk398"><span class="highlight"><span class="nb">apply</span> UnivExprSet.for_all_spec <span class="kr">in</span> H; proper.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.For_all
  (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt;
   closedu_level_expr <span class="mi">0</span> x = true) ts</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level_expr <span class="mi">0</span> e&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk399" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = e&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk399"><hr></label><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e ts</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk39a" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk39a"><span class="highlight"><span class="bp">exact</span> (H _ He&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e = e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e ts</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">subst</span>.</span></span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk39b" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk39b"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e ts</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.In e
  (subst_instance u
     {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |})</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk39c" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk39c"><span class="highlight"><span class="nb">apply</span> <span class="kn">Universe</span>.map_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e ts</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0
    {| <span class="kn">Universe</span>.t_set := ts; <span class="kn">Universe</span>.t_ne := H1 |} /\
  e = subst_instance_level_expr u e0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk39d" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk39d"><span class="highlight"><span class="kr">exists</span> <span class="nv">e</span>; <span class="nb">split</span>; tas.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e ts</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e = subst_instance_level_expr u e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk39e" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk39e"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> closedu_subst_instance_level_expr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (UnivExprSet.for_all (closedu_level_expr <span class="mi">0</span>) ts)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e ts</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level_expr <span class="mi">0</span> e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk39f" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk39f"><span class="highlight"><span class="nb">apply</span> UnivExprSet.for_all_spec <span class="kr">in</span> H; proper.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ts</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty ts = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.For_all
  (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt;
   closedu_level_expr <span class="mi">0</span> x = true) ts</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e ts</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level_expr <span class="mi">0</span> e)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> H.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">closedu_subst_instance</span> <span class="nv">u</span> <span class="nv">t</span>
    : closedu_instance <span class="mi">0</span> t -&gt; subst_instance u t = t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_instance <span class="mi">0</span> t -&gt; subst_instance u t = t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_instance <span class="mi">0</span> t -&gt; subst_instance u t = t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a2"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subst_instance u t = t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a3"><span class="highlight"><span class="nb">apply</span> forall_map_id_spec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Forall
  (<span class="kr">fun</span> <span class="nv">x</span> : Level.t =&gt; subst_instance_level u x = x) t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a4"><span class="highlight"><span class="nb">apply</span> Forall_forall; <span class="nb">intros</span> l Hl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In l t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">subst_instance_level u l = l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a5"><span class="highlight"><span class="nb">apply</span> closedu_subst_instance_level.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In l t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level <span class="mi">0</span> l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> forallb_forall <span class="kr">in</span> H; <span class="bp">eassumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">UniverseClosedSubst</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Hint Resolve</span> closedu_subst_instance_level closedu_subst_instance_level_expr
     closedu_subst_instance_univ closedu_subst_instance : substu.</span></span></span></pre><div class="doc">
Substitution of a universe-closed instance of the right size
    produces a universe-closed term. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">SubstInstanceClosed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">Hcl</span> : closedu_instance <span class="mi">0</span> u).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a6"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subst_instance_level_closedu</span> <span class="nv">l</span>
    : closedu_level #|u| l -&gt; closedu_level <span class="mi">0</span> (subst_instance_level u l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level #|u| l -&gt;
closedu_level <span class="mi">0</span> (subst_instance_level u l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level #|u| l -&gt;
closedu_level <span class="mi">0</span> (subst_instance_level u l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a8"><span class="highlight"><span class="nb">destruct</span> l; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt; closedu_level <span class="mi">0</span> (nth n u Level.lSet)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3a9"><span class="highlight"><span class="nb">unfold</span> closedu_instance <span class="kr">in</span> Hcl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (forallb (closedu_level <span class="mi">0</span>) u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt; closedu_level <span class="mi">0</span> (nth n u Level.lSet)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3aa"><span class="highlight"><span class="nb">destruct</span> (nth_in_or_default n u Level.lSet).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (forallb (closedu_level <span class="mi">0</span>) u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In (nth n u Level.lSet) u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt; closedu_level <span class="mi">0</span> (nth n u Level.lSet)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk3ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (forallb (closedu_level <span class="mi">0</span>) u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nth n u Level.lSet = Level.lSet</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk3ab"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt; closedu_level <span class="mi">0</span> (nth n u Level.lSet)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3ac"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (forallb (closedu_level <span class="mi">0</span>) u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In (nth n u Level.lSet) u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt; closedu_level <span class="mi">0</span> (nth n u Level.lSet)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3ad"><span class="highlight"><span class="nb">intros</span> _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (forallb (closedu_level <span class="mi">0</span>) u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In (nth n u Level.lSet) u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level <span class="mi">0</span> (nth n u Level.lSet))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> forallb_forall <span class="kr">in</span> Hcl; tea.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3ae"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (forallb (closedu_level <span class="mi">0</span>) u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nth n u Level.lSet = Level.lSet</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt; closedu_level <span class="mi">0</span> (nth n u Level.lSet)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> e; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3af" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3af"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subst_instance_level_expr_closedu</span> <span class="nv">e</span> :
    closedu_level_expr #|u| e -&gt; closedu_level_expr <span class="mi">0</span> (subst_instance_level_expr u e).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr #|u| e -&gt;
closedu_level_expr <span class="mi">0</span> (subst_instance_level_expr u e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExpr.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr #|u| e -&gt;
closedu_level_expr <span class="mi">0</span> (subst_instance_level_expr u e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b1"><span class="highlight"><span class="nb">destruct</span> e <span class="kr">as</span> [l b].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr #|u| (l, b) -&gt;
closedu_level_expr <span class="mi">0</span>
  (subst_instance_level_expr u (l, b))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b2"><span class="highlight"><span class="nb">destruct</span> l;cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt;
closedu_level_expr <span class="mi">0</span>
  <span class="kr">match</span> nth_error u n <span class="kr">with</span>
  | Some l =&gt; (l, b)
  | None =&gt; (Level.lSet, b)
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b3"><span class="highlight"><span class="nb">case_eq</span> (nth_error u n); cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : Level.t,
nth_error u n = Some t -&gt;
<span class="kr">match</span> #|u| <span class="kr">with</span>
| <span class="mi">0</span> =&gt; false
| S m&#39; =&gt; n &lt;=? m&#39;
<span class="kr">end</span> -&gt; closedu_level_expr <span class="mi">0</span> (t, b)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b4"><span class="highlight"><span class="nb">intros</span> [] Hl X; cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, b, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nth_error u n = Some (Level.Var n0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> #|u| <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; false
  | S m&#39; =&gt; n &lt;=? m&#39;
  <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b5"><span class="highlight"><span class="nb">apply</span> nth_error_In <span class="kr">in</span> Hl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, b, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In (Level.Var n0) u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> #|u| <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; false
  | S m&#39; =&gt; n &lt;=? m&#39;
  <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b6"><span class="highlight"><span class="nb">eapply</span> forallb_forall <span class="kr">in</span> Hcl; tea.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, b, n0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In (Level.Var n0) u</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> #|u| <span class="kr">with</span>
  | <span class="mi">0</span> =&gt; false
  | S m&#39; =&gt; n &lt;=? m&#39;
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">closedu_level <span class="mi">0</span> (Level.Var n0) = true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subst_instance_univ_closedu</span> <span class="nv">s</span>
    : closedu_universe #|u| s -&gt; closedu_universe <span class="mi">0</span> (subst_instance_univ u s).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_universe #|u| s -&gt;
closedu_universe <span class="mi">0</span> (subst_instance_univ u s)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_universe #|u| s -&gt;
closedu_universe <span class="mi">0</span> (subst_instance_univ u s)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3b9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3b9"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_universe #|u| s)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_universe <span class="mi">0</span> (subst_instance_univ u s))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3ba" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3ba"><span class="highlight"><span class="nb">destruct</span> s;cbnr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Universe</span>.t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_universe #|u| (<span class="kn">Universe</span>.lType t))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (closedu_universe_levels <span class="mi">0</span> (subst_instance u t))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3bb" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3bb"><span class="highlight"><span class="nb">destruct</span> t <span class="kr">as</span> [l Hl].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (closedu_universe #|u|
     (<span class="kn">Universe</span>.lType
        {|
        <span class="kn">Universe</span>.t_set := l;
        <span class="kn">Universe</span>.t_ne := Hl |}))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (closedu_universe_levels <span class="mi">0</span>
     (subst_instance u
        {| <span class="kn">Universe</span>.t_set := l; <span class="kn">Universe</span>.t_ne := Hl |}))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3bc" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3bc"><span class="highlight"><span class="nb">apply</span> UnivExprSet.for_all_spec; proper.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (closedu_universe #|u|
     (<span class="kn">Universe</span>.lType
        {|
        <span class="kn">Universe</span>.t_set := l;
        <span class="kn">Universe</span>.t_ne := Hl |}))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UnivExprSet.For_all
  (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt;
   closedu_level_expr <span class="mi">0</span> x = true)
  (subst_instance u
     {| <span class="kn">Universe</span>.t_set := l; <span class="kn">Universe</span>.t_ne := Hl |})</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3bd" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3bd"><span class="highlight"><span class="nb">intros</span> e He.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (closedu_universe #|u|
     (<span class="kn">Universe</span>.lType
        {|
        <span class="kn">Universe</span>.t_set := l;
        <span class="kn">Universe</span>.t_ne := Hl |}))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e
  (subst_instance u
     {|
     <span class="kn">Universe</span>.t_set := l;
     <span class="kn">Universe</span>.t_ne := Hl |})</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr <span class="mi">0</span> e = true</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3be" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3be"><span class="highlight"><span class="nb">eapply</span> <span class="kn">Universe</span>.map_spec <span class="kr">in</span> He.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (closedu_universe #|u|
     (<span class="kn">Universe</span>.lType
        {|
        <span class="kn">Universe</span>.t_set := l;
        <span class="kn">Universe</span>.t_ne := Hl |}))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">exists</span> <span class="nv">e0</span> : UnivExprSet.elt,
  UnivExprSet.In e0
    {|
    <span class="kn">Universe</span>.t_set := l;
    <span class="kn">Universe</span>.t_ne := Hl |} /\
  e = subst_instance_level_expr u e0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr <span class="mi">0</span> e = true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3bf" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3bf"><span class="highlight"><span class="nb">destruct</span> He <span class="kr">as</span> [e&#39; [He&#39; X]]; <span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (closedu_universe #|u|
     (<span class="kn">Universe</span>.lType
        {|
        <span class="kn">Universe</span>.t_set := l;
        <span class="kn">Universe</span>.t_ne := Hl |}))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := l; <span class="kn">Universe</span>.t_ne := Hl |}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level_expr <span class="mi">0</span> (subst_instance_level_expr u e&#39;) =
true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c0" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c0"><span class="highlight"><span class="nb">apply</span> subst_instance_level_expr_closedu.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (closedu_universe #|u|
     (<span class="kn">Universe</span>.lType
        {|
        <span class="kn">Universe</span>.t_set := l;
        <span class="kn">Universe</span>.t_ne := Hl |}))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := l; <span class="kn">Universe</span>.t_ne := Hl |}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level_expr #|u| e&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c1" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c1"><span class="highlight"><span class="nb">apply</span> UnivExprSet.for_all_spec <span class="kr">in</span> H; proper.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.is_empty l = false</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.For_all
  (<span class="kr">fun</span> <span class="nv">x</span> : UnivExprSet.elt =&gt;
   closedu_level_expr #|u| x = true)
  {| <span class="kn">Universe</span>.t_set := l; <span class="kn">Universe</span>.t_ne := Hl |}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.elt</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">He'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">UnivExprSet.In e&#39; {| <span class="kn">Universe</span>.t_set := l; <span class="kn">Universe</span>.t_ne := Hl |}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_level_expr #|u| e&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> H.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c2" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c2"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">subst_instance_closedu</span> <span class="nv">t</span> :
    closedu_instance #|u| t -&gt; closedu_instance <span class="mi">0</span> (subst_instance u t).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_instance #|u| t -&gt;
closedu_instance <span class="mi">0</span> (subst_instance u t)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c3" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c3"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_instance #|u| t -&gt;
closedu_instance <span class="mi">0</span> (subst_instance u t)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c4" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c4"><span class="highlight"><span class="nb">intro</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance #|u| t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> (subst_instance u t))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c5" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c5"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance #|u| t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_instance <span class="mi">0</span> (subst_instance u t) = <span class="nl">?y</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Universes-v-chk3c6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance #|u| t)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="Universes-v-chk3c6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> = true</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c7" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c7"><span class="highlight"><span class="nb">eapply</span> forallb_map.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance #|u| t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">forallb
  (<span class="kr">fun</span> <span class="nv">x</span> : Level.t =&gt;
   closedu_level <span class="mi">0</span> (subst_instance_level u x)) t =
true</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c8" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c8"><span class="highlight"><span class="nb">eapply</span> forallb_impl; tea.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance #|u| t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : Level.t,
In x t -&gt;
closedu_level #|u| x -&gt;
closedu_level <span class="mi">0</span> (subst_instance_level u x)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3c9" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3c9"><span class="highlight"><span class="nb">intros</span> l Hl; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance <span class="mi">0</span> u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (closedu_instance #|u| t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Level.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">In l t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">closedu_level #|u| l -&gt;
closedu_level <span class="mi">0</span> (subst_instance_level u l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> subst_instance_level_closedu.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">SubstInstanceClosed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Hint Resolve</span> subst_instance_level_closedu subst_instance_level_expr_closedu
     subst_instance_univ_closedu subst_instance_closedu : substu.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">string_of_level</span> (<span class="nv">l</span> : Level.t) : string :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | Level.lSet =&gt; <span class="s2">&quot;Set&quot;</span>
  | Level.Level s =&gt; s
  | Level.Var n =&gt; <span class="s2">&quot;Var&quot;</span> ^ string_of_nat n
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">string_of_level_expr</span> (<span class="nv">e</span> : UnivExpr.t) : string :=
  <span class="kr">let</span> &#39;(l, n) := e <span class="kr">in</span> string_of_level l ^ (<span class="kr">if</span> n <span class="kr">is</span> <span class="mi">0</span> <span class="kr">then</span> <span class="s2">&quot;&quot;</span> <span class="kr">else</span> <span class="s2">&quot;+&quot;</span> ^ string_of_nat n).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">string_of_sort</span> (<span class="nv">u</span> : Universe.t) :=
  <span class="kr">match</span> u <span class="kr">with</span>
  | <span class="kn">Universe</span>.lSProp =&gt; <span class="s2">&quot;SProp&quot;</span>
  | <span class="kn">Universe</span>.lProp =&gt; <span class="s2">&quot;Prop&quot;</span>
  | <span class="kn">Universe</span>.lType l =&gt; <span class="s2">&quot;Type(&quot;</span> ^ string_of_list string_of_level_expr (UnivExprSet.elements l) ^ <span class="s2">&quot;)&quot;</span>
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">string_of_universe_instance</span> <span class="nv">u</span> :=
  string_of_list string_of_level u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">universes_entry</span> :=
| Monomorphic_entry (ctx : ContextSet.t)
| Polymorphic_entry (names : list name) (ctx : UContext.t).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">NoConfusion</span> <span class="kr">for</span> universes_entry.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Universes-v-chk3ca" style="display: none" type="checkbox"><label class="alectryon-input" for="Universes-v-chk3ca"><span class="highlight"><span class="kn">Definition</span> <span class="nf">universes_entry_of_decl</span> (<span class="nv">u</span> : universes_decl) : universes_entry :=
  <span class="kr">match</span> u <span class="kr">with</span>
  | Polymorphic_ctx ctx =&gt; Polymorphic_entry (fst ctx) (Universes.AUContext.repr ctx)
  | Monomorphic_ctx ctx =&gt; Monomorphic_entry ctx
  <span class="kr">end</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="highlight">The reference Universes.AUContext.repr was not found
<span class="kr">in</span> the current environment.</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">polymorphic_instance</span> <span class="nv">uctx</span> :=
  <span class="kr">match</span> uctx <span class="kr">with</span>
  | Monomorphic_ctx c =&gt; <span class="kn">Instance</span>.empty
  | Polymorphic_ctx c =&gt; fst (AUContext.repr c)
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">


</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">print_universe_instance</span> <span class="nv">u</span> :=
  <span class="kr">match</span> u <span class="kr">with</span>
  | [] =&gt; <span class="s2">&quot;&quot;</span>
  | _ =&gt; <span class="s2">&quot;@{&quot;</span> ^ print_list string_of_level <span class="s2">&quot; &quot;</span> u ^ <span class="s2">&quot;}&quot;</span>
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">print_lset</span> <span class="nv">t</span> :=
  print_list string_of_level <span class="s2">&quot; &quot;</span> (LevelSet.elements t).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">print_constraint_type</span> <span class="nv">d</span> :=
  <span class="kr">match</span> d <span class="kr">with</span>
  | ConstraintType.Le n =&gt; 
    <span class="kr">if</span> (n =? <span class="mi">0</span>)%Z <span class="kr">then</span> <span class="s2">&quot;&lt;=&quot;</span> <span class="kr">else</span> 
    <span class="kr">if</span> (n =? <span class="mi">1</span>)%Z <span class="kr">then</span> <span class="s2">&quot;&lt;&quot;</span> <span class="kr">else</span>
    <span class="kr">if</span> (n &lt;? <span class="mi">0</span>)%Z <span class="kr">then</span> <span class="s2">&quot;&lt;=&quot;</span> ^ string_of_nat (Z.to_nat (Z.abs n)) ^ <span class="s2">&quot; + &quot;</span>
    <span class="kr">else</span> <span class="s2">&quot; + &quot;</span> ^ string_of_nat (Z.to_nat n) ^ <span class="s2">&quot; &lt;= &quot;</span>
  | ConstraintType.Eq =&gt; <span class="s2">&quot;=&quot;</span>
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">print_constraint_set</span> <span class="nv">t</span> :=
  print_list (<span class="kr">fun</span> &#39;(l1, d, l2) =&gt; string_of_level l1 ^ <span class="s2">&quot; &quot;</span> ^
                         print_constraint_type d ^ <span class="s2">&quot; &quot;</span> ^ string_of_level l2)
             <span class="s2">&quot; /\ &quot;</span> (ConstraintSet.elements t).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"> 
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">val_universe_sup_not_prop</span> <span class="nv">vv</span> <span class="nv">v</span> <span class="nv">u</span> :
  <span class="kn">Universe</span>.is_prop v = false -&gt; <span class="kn">Universe</span>.is_sprop v = false -&gt;
  ‚àë n, <span class="kn">Universe</span>.univ_val vv (<span class="kn">Universe</span>.sup u v) = UType n.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Proof</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> Hp Hsp.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u,v;<span class="nb">cbn</span>;<span class="kp">try</span> <span class="bp">discriminate</span>;<span class="kp">try</span> <span class="bp">lia</span>; <span class="kp">try</span> <span class="nb">apply</span> val_zero_exprs;
  <span class="nb">eexists</span>; <span class="nb">eauto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">univ_le_prop_inv</span> {<span class="nv">cf</span>:checker_flags} <span class="nv">u</span> : (u &lt;= UProp)%u -&gt; u = UProp.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Proof</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">congruence</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">univ_le_sprop_inv</span> {<span class="nv">cf</span>:checker_flags} <span class="nv">u</span> : (u &lt;= USProp)%u -&gt; u = USProp.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Proof</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">congruence</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">univ_prop_le_inv</span> {<span class="nv">cf</span>:checker_flags} <span class="nv">u</span> : (UProp &lt;= u)%u -&gt; 
  (u = UProp \/ (prop_sub_type /\ <span class="kr">exists</span> <span class="nv">n</span>, u = UType n)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Proof</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">congruence</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> prop_sub_type; <span class="nb">firstorder</span> <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">right</span>; <span class="nb">split</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kr">exists</span> <span class="nv">i</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">cong</span> := <span class="nb">intuition</span> <span class="bp">congruence</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">univ_val_max_mon</span> {<span class="nv">cf</span>:checker_flags} <span class="nv">u</span> <span class="nv">u&#39;</span> <span class="nv">v</span> <span class="nv">v&#39;</span> : (u &lt;= u&#39;)%u -&gt; (UType v &lt;= UType v&#39;)%u -&gt; 
  (univ_val_max u (UType v) &lt;= univ_val_max u&#39; (UType v&#39;))%u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Proof</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> u, u&#39;; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">lia</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_universe_product_mon</span> {<span class="nv">cf</span>: checker_flags} <span class="nv">œï</span> <span class="nv">u</span> <span class="nv">u&#39;</span> <span class="nv">v</span> <span class="nv">v&#39;</span> :
  leq_universe œï u u&#39; -&gt;
  leq_universe œï v v&#39; -&gt;
  leq_universe œï (<span class="kn">Universe</span>.sort_of_product u v) (<span class="kn">Universe</span>.sort_of_product u&#39; v&#39;).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Proof</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">unfold</span> leq_universe <span class="kr">in</span> *; <span class="nb">destruct</span> check_univs; [|<span class="nb">trivial</span>].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> H1 H2 vv Hv.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (H1 _ Hv).</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (H2 _ Hv).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">cbn</span> <span class="kr">in</span> *.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Universe</span>.sort_of_product.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.is_prop v) <span class="nb">eqn</span>:e, (<span class="kn">Universe</span>.is_prop v&#39;) <span class="nb">eqn</span>:f;
    <span class="nb">destruct</span> (<span class="kn">Universe</span>.is_sprop v) <span class="nb">eqn</span>:e1, (<span class="kn">Universe</span>.is_sprop v&#39;) <span class="nb">eqn</span>:f1;
    <span class="nb">rewrite</span> <span class="nl">?val_universe_sup</span>;<span class="nb">cbn</span>; <span class="nb">rewrite</span> <span class="nl">?val_universe_sup</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">-</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> v;<span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">-</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> is_prop_val <span class="kr">with</span> (v:=vv) <span class="kr">in</span> e.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ f f1 vv) <span class="kr">as</span> [n HH].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> e HH.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> e HH <span class="kr">in</span> H2.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> H2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">simpl</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> (<span class="kn">Universe</span>.univ_val vv u&#39;) <span class="nb">eqn</span>:eq; <span class="nb">simpl</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">-</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> v&#39;;<span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">-</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> is_prop_val <span class="kr">with</span> (v:=vv) <span class="kr">in</span> f.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ e e1 vv) <span class="kr">as</span> [n HH].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> f <span class="kr">in</span> H2.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> univ_le_prop_inv <span class="kr">in</span> H2.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">cong.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">-</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> is_sprop_val <span class="kr">with</span> (v:=vv) <span class="kr">in</span> e1.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ f f1 vv) <span class="kr">as</span> [n HH].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> HH e1 <span class="kr">in</span> H2.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">simpl</span> <span class="kr">in</span> H2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">-</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> is_sprop_val <span class="kr">with</span> (v:=vv) <span class="kr">in</span> f1.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ e e1 vv) <span class="kr">as</span> [n HH].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> f1 <span class="kr">in</span> H2.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> univ_le_sprop_inv <span class="kr">in</span> H2; cong.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">-</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ e e1 vv) <span class="kr">as</span> [n HH].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">specialize</span> (is_prop_and_is_sprop_val_false _ f f1 vv) <span class="kr">as</span> [n&#39; HH&#39;].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> HH HH&#39;.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> univ_val_max_mon; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> &lt;- HH, &lt;- HH&#39;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">impredicative_product</span> {<span class="nv">cf</span>:checker_flags} {<span class="nv">œï</span> <span class="nv">l</span> <span class="nv">u</span>} :
  <span class="kn">Universe</span>.is_prop u -&gt;
  leq_universe œï (<span class="kn">Universe</span>.sort_of_product l u) u.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Proof</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">unfold</span> <span class="kn">Universe</span>.sort_of_product.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> -&gt;.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">UniverseLemmas</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  <span class="kn">Context</span> {<span class="nv">cf</span>:checker_flags}.

  <span class="kn">Ltac</span> <span class="nf">unfold_eq_universe</span>
    := <span class="nb">unfold</span> eq_universe <span class="kr">in</span> *; <span class="nb">destruct</span> check_univs; [<span class="nb">intros</span> v Hv|<span class="nb">trivial</span>].

  <span class="kn">Lemma</span> <span class="nf">sup0_idem</span> <span class="nv">s</span> : <span class="kn">Universe</span>.sup0 s s = s.
  <span class="kn">Proof</span>.
    <span class="nb">apply</span> eq_univ&#39;; <span class="nb">cbn</span>.
    <span class="nb">intro</span>; <span class="nb">rewrite</span> !UnivExprSet.union_spec. <span class="nb">intuition</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">sup_idem</span> <span class="nv">s</span> : <span class="kn">Universe</span>.sup s s = s.
  <span class="kn">Proof</span>.
    <span class="nb">destruct</span> s;<span class="nb">cbn</span>;<span class="nb">auto</span>.
    <span class="nb">apply</span> <span class="nb">f_equal</span>.
    <span class="nb">apply</span> eq_univ&#39;; <span class="nb">cbn</span>.
    <span class="nb">intro</span>; <span class="nb">rewrite</span> !UnivExprSet.union_spec. <span class="nb">intuition</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">sort_of_product_idem</span> <span class="nv">s</span>
    : <span class="kn">Universe</span>.sort_of_product s s = s.
  <span class="kn">Proof</span>.
    <span class="nb">unfold</span> <span class="kn">Universe</span>.sort_of_product.
    <span class="nb">destruct</span> (<span class="kn">Universe</span>.is_prop s), (<span class="kn">Universe</span>.is_sprop s); trea;<span class="nb">cbn</span>.
    <span class="nb">apply</span> sup_idem.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">sup0_assoc</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">s3</span> :
    <span class="kn">Universe</span>.sup0 s1 (<span class="kn">Universe</span>.sup0 s2 s3) = <span class="kn">Universe</span>.sup0 (<span class="kn">Universe</span>.sup0 s1 s2) s3.
  <span class="kn">Proof</span>.
    <span class="nb">apply</span> eq_univ&#39;; <span class="nb">cbn</span>. <span class="nb">symmetry</span>; <span class="nb">apply</span> UnivExprSetProp.union_assoc.
  <span class="kn">Qed</span>.

  <span class="kn">Instance</span> <span class="nf">universe_sup_eq_universe</span> <span class="nv">œÜ</span> :
    Proper (eq_universe œÜ ==&gt; eq_universe œÜ ==&gt; eq_universe œÜ) <span class="kn">Universe</span>.sup.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> s1 s1&#39; H1 s2 s2&#39; H2.
    unfold_eq_universe. <span class="nb">specialize</span> (H1 v Hv). <span class="nb">specialize</span> (H2 v Hv).
    <span class="nb">rewrite</span> !val_universe_sup.
    <span class="bp">now</span> <span class="nb">rewrite</span> H1 H2.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">sort_of_product_twice</span> <span class="nv">u</span> <span class="nv">s</span> :
    <span class="kn">Universe</span>.sort_of_product u (<span class="kn">Universe</span>.sort_of_product u s)
    = <span class="kn">Universe</span>.sort_of_product u s.
  <span class="kn">Proof</span>.
    <span class="nb">destruct</span> u,s;<span class="nb">auto</span>.
    <span class="nb">unfold</span> <span class="kn">Universe</span>.sort_of_product;<span class="nb">cbn</span>.
    <span class="bp">now</span> <span class="nb">rewrite</span> sup0_assoc sup0_idem.
  <span class="kn">Qed</span>.
<span class="kn">End</span> <span class="nf">UniverseLemmas</span>.


<span class="kn">Section</span> <span class="nf">no_prop_leq_type</span>.
  <span class="kn">Context</span> {<span class="nv">cf</span>:checker_flags}.
  <span class="kn">Context</span> (<span class="nv">œï</span> : ConstraintSet.t).

  <span class="kn">Lemma</span> <span class="nf">succ_inj</span> <span class="nv">x</span> <span class="nv">y</span> : UnivExpr.succ x = UnivExpr.succ y -&gt; x = y.
  <span class="kn">Proof</span>.
    <span class="nb">unfold</span> UnivExpr.succ.
    <span class="nb">destruct</span> x <span class="kr">as</span> [l n], y <span class="kr">as</span> [l&#39; n&#39;]. <span class="nb">simpl</span>. <span class="bp">congruence</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">spec_map_succ</span> <span class="nv">l</span> <span class="nv">x</span> : 
    UnivExprSet.In x (<span class="kn">Universe</span>.map UnivExpr.succ l) &lt;-&gt; 
    <span class="kr">exists</span> <span class="nv">x&#39;</span>, UnivExprSet.In x&#39; l /\ x = UnivExpr.succ x&#39;.
  <span class="kn">Proof</span>.
    <span class="nb">rewrite</span> <span class="kn">Universe</span>.map_spec. <span class="bp">reflexivity</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">val_succ</span> <span class="nv">v</span> <span class="nv">l</span> : val v (UnivExpr.succ l) = val v l + <span class="mi">1</span>.
  <span class="kn">Proof</span>.
    <span class="nb">destruct</span> l <span class="kr">as</span> []; <span class="nb">simpl</span>. <span class="nb">cbn</span>. <span class="bp">lia</span>. 
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">val_map_succ</span> <span class="nv">v</span> <span class="nv">l</span> : val v (<span class="kn">Universe</span>.map UnivExpr.succ l) = val v l + <span class="mi">1</span>.
  <span class="kn">Proof</span>.
    <span class="nb">remember</span> (<span class="kn">Universe</span>.map UnivExpr.succ l) <span class="nb">eqn</span>:eq.
    <span class="nb">pose proof</span> (spec_map_succ l). <span class="nb">rewrite</span> &lt;- eq <span class="kr">in</span> H.
    <span class="nb">clear</span> eq.
    <span class="nb">destruct</span> (val_In_max l v) <span class="kr">as</span> [max [inmax eqv]]. <span class="nb">rewrite</span> &lt;-eqv.
    <span class="nb">rewrite</span> val_caract. <span class="nb">split</span>.
    <span class="nb">intros</span>.
    <span class="nb">specialize</span> (proj1 (H _) H0) <span class="kr">as</span> [x&#39; [inx&#39; eq]]. <span class="nb">subst</span> e.
    <span class="nb">rewrite</span> val_succ. <span class="nb">eapply</span> (val_In_le _ v) <span class="kr">in</span> inx&#39;. <span class="nb">rewrite</span> &lt;- eqv <span class="kr">in</span> inx&#39;.
    <span class="nb">simpl</span> <span class="kr">in</span> *. <span class="nb">unfold</span> UnivExprSet.elt, UnivExpr.t <span class="kr">in</span> *. <span class="bp">lia</span>.
    <span class="kr">exists</span> (<span class="nv">UnivExpr</span>.succ max). <span class="nb">split</span>. <span class="nb">apply</span> H.
    <span class="kr">exists</span> <span class="nv">max</span>; <span class="nb">split</span>; <span class="nb">auto</span>.
    <span class="bp">now</span> <span class="nb">rewrite</span> val_succ.
  <span class="kn">Qed</span>.
  
  <span class="kn">Lemma</span> <span class="nf">leq_universe_super</span> <span class="nv">u</span> <span class="nv">u&#39;</span> :
    leq_universe œï u u&#39; -&gt;
    leq_universe œï (<span class="kn">Universe</span>.super u) (<span class="kn">Universe</span>.super u&#39;).
  <span class="kn">Proof</span>.
    <span class="nb">unfold</span> leq_universe. <span class="nb">destruct</span> check_univs; [|<span class="nb">trivial</span>].
    <span class="nb">intros</span> H v Hv. <span class="nb">specialize</span> (H v Hv). <span class="nb">simpl</span> <span class="kr">in</span> *.
    <span class="nb">destruct</span> u <span class="kr">as</span> [| |], u&#39; <span class="kr">as</span>  [| |]; lled; <span class="nb">cbn</span> -[Z.add] <span class="kr">in</span> *; <span class="kp">try</span> <span class="bp">lia</span>;
    <span class="nb">rewrite</span> !val_map_succ; <span class="bp">lia</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">leq_universe_props</span> <span class="nv">u1</span> <span class="nv">u2</span> :
    check_univs -&gt;
    consistent œï -&gt;
    leq_universe œï u1 u2 -&gt;
    <span class="kr">match</span> u1, u2 <span class="kr">with</span>
    | <span class="kn">Universe</span>.lProp, <span class="kn">Universe</span>.lProp =&gt; <span class="kt">True</span>
    | <span class="kn">Universe</span>.lSProp, <span class="kn">Universe</span>.lSProp =&gt; <span class="kt">True</span>
    | <span class="kn">Universe</span>.lProp, <span class="kn">Universe</span>.lSProp =&gt; <span class="kt">False</span>
    | <span class="kn">Universe</span>.lSProp, <span class="kn">Universe</span>.lProp =&gt; <span class="kt">False</span>
    | <span class="kn">Universe</span>.lProp, <span class="kn">Universe</span>.lType _ =&gt; prop_sub_type
    | <span class="kn">Universe</span>.lSProp, <span class="kn">Universe</span>.lType _ =&gt; <span class="kt">False</span>
    | <span class="kn">Universe</span>.lType l, <span class="kn">Universe</span>.lType l&#39; =&gt; <span class="kt">True</span>
    | <span class="kn">Universe</span>.lType _, _ =&gt; <span class="kt">False</span>
    <span class="kr">end</span>.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> cu [v Hv].
    <span class="nb">unfold</span> leq_universe. <span class="nb">rewrite</span> cu.
    <span class="nb">intros</span> Hle. <span class="nb">specialize</span> (Hle _ Hv).
    <span class="nb">destruct</span> u1, u2; <span class="nb">simpl</span>; <span class="nb">auto</span>.
    <span class="nb">simpl</span> <span class="kr">in</span> Hle. <span class="bp">now</span> <span class="nb">destruct</span> prop_sub_type.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">leq_universe_prop_r</span> <span class="nv">u1</span> <span class="nv">u2</span> :
    check_univs -&gt;
    consistent œï -&gt;
    leq_universe œï u1 u2 -&gt;
    <span class="kn">Universe</span>.is_prop u2 -&gt; <span class="kn">Universe</span>.is_prop u1.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> Hcf cu le.
    <span class="nb">apply</span> leq_universe_props <span class="kr">in</span> le; <span class="nb">auto</span>.
    <span class="nb">destruct</span> u1, u2; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">auto</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">leq_universe_sprop_r</span> <span class="nv">u1</span> <span class="nv">u2</span> :
    check_univs -&gt;
    consistent œï -&gt;
    leq_universe œï u1 u2 -&gt;
    <span class="kn">Universe</span>.is_sprop u2 -&gt; <span class="kn">Universe</span>.is_sprop u1.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> Hcf cu le.
    <span class="nb">apply</span> leq_universe_props <span class="kr">in</span> le; <span class="nb">auto</span>.
    <span class="nb">destruct</span> u1, u2; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">auto</span>.
  <span class="kn">Qed</span>.
  
  <span class="kn">Lemma</span> <span class="nf">leq_universe_prop_no_prop_sub_type</span> <span class="nv">u1</span> <span class="nv">u2</span> :
    check_univs -&gt;
    prop_sub_type = false -&gt;
    consistent œï -&gt;
    leq_universe œï u1 u2 -&gt;
    <span class="kn">Universe</span>.is_prop u1 -&gt; <span class="kn">Universe</span>.is_prop u2.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> Hcf cu ps le.
    <span class="nb">apply</span> leq_universe_props <span class="kr">in</span> le; <span class="nb">auto</span>.
    <span class="nb">destruct</span> u1, u2; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">auto</span>.
    cong.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">leq_universe_sprop_l</span> <span class="nv">u1</span> <span class="nv">u2</span> :
    check_univs -&gt;
    consistent œï -&gt;
    leq_universe œï u1 u2 -&gt;
    <span class="kn">Universe</span>.is_sprop u1 -&gt; <span class="kn">Universe</span>.is_sprop u2.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> Hcf cu le.
    <span class="nb">apply</span> leq_universe_props <span class="kr">in</span> le; <span class="nb">auto</span>.
    <span class="nb">destruct</span> u1, u2; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">auto</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Hint Resolve</span> leq_universe_sprop_l leq_universe_sprop_r
       leq_universe_prop_r
       leq_universe_prop_no_prop_sub_type
       : univ_lemmas.
  
  <span class="kn">Lemma</span> <span class="nf">leq_prop_prop</span> {<span class="nv">l</span> <span class="nv">l&#39;</span>} :
    <span class="kn">Universe</span>.is_prop l -&gt; <span class="kn">Universe</span>.is_prop l&#39; -&gt;
    leq_universe œï l l&#39;.
  <span class="kn">Proof</span>.
    <span class="nb">red</span>. <span class="nb">destruct</span> check_univs; [|<span class="nb">trivial</span>].
    <span class="nb">intros</span> H1 H2 v Hv. <span class="nb">eapply</span> is_prop_val <span class="kr">in</span> H1; <span class="nb">eapply</span> is_prop_val <span class="kr">in</span> H2.
    <span class="nb">rewrite</span> -&gt; H1, H2. lled; <span class="bp">lia</span>.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">leq_sprop_sprop</span> {<span class="nv">l</span> <span class="nv">l&#39;</span>} :
    <span class="kn">Universe</span>.is_sprop l -&gt; <span class="kn">Universe</span>.is_sprop l&#39; -&gt;
    leq_universe œï l l&#39;.
  <span class="kn">Proof</span>.
    <span class="nb">red</span>. <span class="nb">destruct</span> check_univs; [|<span class="nb">trivial</span>].
    <span class="nb">intros</span> H1 H2 v Hv. <span class="nb">eapply</span> is_sprop_val <span class="kr">in</span> H1; <span class="nb">eapply</span> is_sprop_val <span class="kr">in</span> H2.
    <span class="nb">rewrite</span> -&gt; H1, H2. lled; <span class="bp">lia</span>.
  <span class="kn">Qed</span>.
  
  <span class="kn">Lemma</span> <span class="nf">leq_prop_is_prop_sprop</span> {<span class="nv">x</span> <span class="nv">s</span>} :
    check_univs -&gt;
    prop_sub_type = false -&gt;
    consistent œï -&gt;
    leq_universe œï x s -&gt;
    (<span class="kn">Universe</span>.is_prop s \/ <span class="kn">Universe</span>.is_sprop s &lt;-&gt; <span class="kn">Universe</span>.is_prop x \/ <span class="kn">Universe</span>.is_sprop x).
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> H H0 H1 H2; <span class="nb">split</span>;<span class="nb">intros</span> Hor; <span class="nb">destruct</span> Hor; <span class="nb">eauto with</span> univ_lemmas.
  <span class="kn">Qed</span>.

  <span class="kn">Lemma</span> <span class="nf">is_prop_gt</span> <span class="nv">l</span> <span class="nv">l&#39;</span> :
    check_univs -&gt;
    consistent œï -&gt;
    leq_universe œï (<span class="kn">Universe</span>.super l) l&#39; -&gt; <span class="kn">Universe</span>.is_prop l&#39; -&gt; <span class="kt">False</span>.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> Hcf [v Hv] H1 H2. <span class="nb">rewrite</span> /leq_universe Hcf <span class="kr">in</span> H1.
    <span class="nb">eapply</span> is_prop_val <span class="kr">with</span> (v:=v) <span class="kr">in</span> H2. <span class="nb">specialize</span> (H1 _ Hv).
    <span class="nb">rewrite</span> H2 <span class="kr">in</span> H1. <span class="nb">destruct</span> l <span class="kr">as</span> [| |]; <span class="nb">destruct</span> l&#39;; lled; <span class="nb">cbn</span> -[Z.add] <span class="kr">in</span> *; <span class="bp">lia</span>.
  <span class="kn">Qed</span>.
  
  <span class="kn">Lemma</span> <span class="nf">is_sprop_gt</span> <span class="nv">l</span> <span class="nv">l&#39;</span> :
    check_univs -&gt;
    consistent œï -&gt;
    leq_universe œï (<span class="kn">Universe</span>.super l) l&#39; -&gt; <span class="kn">Universe</span>.is_sprop l&#39; -&gt; <span class="kt">False</span>.
  <span class="kn">Proof</span>.
    <span class="nb">intros</span> Hcf [v Hv] H1 H2. <span class="nb">rewrite</span> /leq_universe Hcf <span class="kr">in</span> H1.
    <span class="nb">eapply</span> is_sprop_val <span class="kr">with</span> (v:=v) <span class="kr">in</span> H2. <span class="nb">specialize</span> (H1 _ Hv).
    <span class="nb">rewrite</span> H2 <span class="kr">in</span> H1. <span class="nb">destruct</span> l <span class="kr">as</span> [| |]; <span class="nb">destruct</span> l&#39;; lled; <span class="nb">cbn</span> -[Z.add] <span class="kr">in</span> *; <span class="bp">lia</span>.
  <span class="kn">Qed</span>.

<span class="kn">End</span> <span class="nf">no_prop_leq_type</span>.</span></span></pre></article></body></html>