<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>WcbvEval.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-centered alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.11.0+0.11.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight"><span class="c">(* Distributed under the terms of the MIT license. *)</span>
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">From</span> Coq <span class="kn">Require Import</span> CRelationClasses.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">From</span> MetaCoq.Template <span class="kn">Require Import</span> config utils Environment Ast AstUtils Reflect LiftSubst MCList
     UnivSubst WfInv Typing.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> ssreflect ssrbool.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Equations.<span class="kt">Prop</span>.DepElim.</span></span></span></pre><div class="doc">
<a name="lab1"></a><h1 class="section">Weak-head call-by-value evaluation strategy.</h1>
<div class="paragraph"> </div>

  The <span class="inlinecode"><span class="id" title="var">wcbveval</span></span> inductive relation specifies weak cbv evaluation.  It
  is shown to be a subrelation of the 1-step reduction relation from
  which conversion is defined. Hence two terms that reduce to the same
  wcbv head normal form are convertible.

<div class="paragraph"> </div>

  This reduction strategy is supposed to mimick at the Coq level the
  reduction strategy of ML programming languages. It is used to state
  the extraction conjecture that can be applied to Coq terms to produce
  (untyped) terms where all proofs are erased to a dummy value. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">inv</span> H := <span class="nb">inversion</span> H; <span class="nb">subst</span>.</span></span></span></pre><div class="doc">
<a name="lab2"></a><h2 class="section">Big step version of weak cbv beta-zeta-iota-fix-delta reduction.</h2>
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">atom</span> <span class="nv">t</span> :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tConstruct _ _ _
  | tFix _ _
  | tCoFix _ _
  | tLambda _ _ _
  | tSort _
  | tProd _ _ _ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isArityHead</span> <span class="nv">t</span> :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tSort _
  | tProd _ _ _ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isEvar</span> <span class="nv">t</span> :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tEvar _ _ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isFix</span> <span class="nv">t</span> :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tFix _ _ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isFixApp</span> <span class="nv">t</span> :=
  <span class="kr">match</span> fst (decompose_app t) <span class="kr">with</span>
  | tFix _ _ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isCoFix</span> <span class="nv">t</span> :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tCoFix _ _ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isConstruct</span> <span class="nv">t</span> :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tConstruct _ _ _ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isAssRel</span> (<span class="nv">Œì</span> : <span class="kp">context</span>) <span class="nv">x</span> :=
  <span class="kr">match</span> x <span class="kr">with</span>
  | tRel i =&gt;
    <span class="kr">match</span> option_map decl_body (nth_error Œì i) <span class="kr">with</span>
    | Some None =&gt; true
    | _ =&gt; false
    <span class="kr">end</span>
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isAxiom</span> <span class="nv">Œ£</span> <span class="nv">x</span> :=
  <span class="kr">match</span> x <span class="kr">with</span>
  | tConst c u =&gt;
    <span class="kr">match</span> lookup_env Œ£ c <span class="kr">with</span>
    | Some (ConstantDecl {| cst_body := None |}) =&gt; true
    | _ =&gt; false
    <span class="kr">end</span>
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">isStuckFix</span> <span class="nv">t</span> <span class="nv">args</span> :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | tFix mfix idx =&gt;
    <span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
    | Some (narg, fn) =&gt;
      ~~ is_constructor narg args
    | None =&gt; false
    <span class="kr">end</span>
  | _ =&gt; false
  <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">atom_mkApps</span> <span class="nv">f</span> <span class="nv">l</span> : atom (mkApps f l) -&gt; (l = []) /\ atom f.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">atom (mkApps f l) -&gt; l = [] /\ atom f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">atom (mkApps f l) -&gt; l = [] /\ atom f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk2"><span class="highlight"><span class="nb">revert</span> f; <span class="nb">induction</span> l <span class="nb">using</span> rev_ind.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term,
atom (mkApps f []) -&gt; [] = [] /\ atom f</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term, atom (mkApps f l) -&gt; l = [] /\ atom f</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk3"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term,
atom (mkApps f (l ++ [x])) -&gt; l ++ [x] = [] /\ atom f</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk4"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term, atom f -&gt; [] = [] /\ atom f</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term, atom (mkApps f l) -&gt; l = [] /\ atom f</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk5"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term,
atom (mkApps f (l ++ [x])) -&gt; l ++ [x] = [] /\ atom f</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk6"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term, atom (mkApps f l) -&gt; l = [] /\ atom f</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term,
atom (mkApps f (l ++ [x])) -&gt; l ++ [x] = [] /\ atom f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk7"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term, atom (mkApps f l) -&gt; l = [] /\ atom f</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">f</span> : term,
atom (mkApps f (l ++ [x])) -&gt; l ++ [x] = [] /\ atom f</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk8"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : term, atom (mkApps f0 l) -&gt; l = [] /\ atom f0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps f (l ++ [x])))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">l ++ [x] = [] /\ atom f</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk9"><span class="highlight"><span class="nb">rewrite</span> -mkApp_mkApps <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : term, atom (mkApps f0 l) -&gt; l = [] /\ atom f0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApp (mkApps f l) x))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">l ++ [x] = [] /\ atom f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka"><span class="highlight"><span class="nb">unfold</span> mkApp <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">f0</span> : term, atom (mkApps f0 l) -&gt; l = [] /\ atom f0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (atom
     <span class="kr">match</span> mkApps f l <span class="kr">with</span>
     | tApp f0 args =&gt; tApp f0 (args ++ [x])
     | _ =&gt; tApp (mkApps f l) [x]
     <span class="kr">end</span>)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">l ++ [x] = [] /\ atom f</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> (mkApps f l); <span class="bp">discriminate</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Wcbv</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> (<span class="nv">Œ£</span> : global_env) (<span class="nv">Œì</span> : <span class="kp">context</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  <span class="c">(* The local context is fixed: we are only doing weak reductions *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">eval</span> : term -&gt; term -&gt; <span class="kt">Type</span> :=
  <span class="sd">(** Reductions *)</span>
  <span class="sd">(** Beta *)</span>
  | eval_beta f na t b a a&#39; l res :
      <span class="kp">eval</span> f (tLambda na t b) -&gt;
      <span class="kp">eval</span> a a&#39; -&gt;
      <span class="kp">eval</span> (mkApps (subst10 a&#39; b) l) res -&gt;
      <span class="kp">eval</span> (tApp f (a :: l)) res

  <span class="sd">(** Let *)</span>
  | eval_zeta na b0 b0&#39; t b1 res :
      <span class="kp">eval</span> b0 b0&#39; -&gt;
      <span class="kp">eval</span> (subst10 b0&#39; b1) res -&gt;
      <span class="kp">eval</span> (tLetIn na b0 t b1) res

  <span class="sd">(** Local variables: defined or undefined *)</span>
  | eval_rel_def i body res :
      option_map decl_body (nth_error Œì i) = Some (Some body) -&gt;
      <span class="kp">eval</span> (lift0 (S i) body) res -&gt;
      <span class="kp">eval</span> (tRel i) res

  | eval_rel_undef i :
      option_map decl_body (nth_error Œì i) = Some None -&gt;
      <span class="kp">eval</span> (tRel i) (tRel i)

  <span class="sd">(** Constant unfolding *)</span>
  | eval_delta c decl body (isdecl : declared_constant Œ£ c decl) u res :
      decl.(cst_body) = Some body -&gt;
      <span class="kp">eval</span> (subst_instance u body) res -&gt;
      <span class="kp">eval</span> (tConst c u) res

  <span class="sd">(** Axiom *)</span>
  | eval_axiom c decl (isdecl : declared_constant Œ£ c decl) u :
      decl.(cst_body) = None -&gt;
      <span class="kp">eval</span> (tConst c u) (tConst c u)

  <span class="sd">(** Case *)</span>
  | eval_iota ci mdecl idecl cdecl discr c u args p brs br res :
      <span class="kp">eval</span> discr (mkApps (tConstruct ci.(ci_ind) c u) args) -&gt;
      nth_error brs c = Some br -&gt;
      declared_constructor Œ£ (ci.(ci_ind), c) mdecl idecl cdecl -&gt;
      <span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
      #|skipn (ci_npar ci) args| = context_assumptions bctx -&gt;
      <span class="kp">eval</span> (iota_red ci.(ci_npar) args bctx br) res -&gt;
      <span class="kp">eval</span> (tCase ci p discr brs) res

  <span class="sd">(** Proj *)</span>
  | eval_proj indnpararg discr args u a res :
      <span class="kp">eval</span> discr (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
      nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = Some a -&gt;
      <span class="kp">eval</span> a res -&gt;
      <span class="kp">eval</span> (tProj indnpararg discr) res
           
  <span class="sd">(** Fix unfolding, with guard *)</span>
  | eval_fix f mfix idx fixargsv args argsv narg fn res :
      <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
      All2 <span class="kp">eval</span> args argsv -&gt;
      unfold_fix mfix idx = Some (narg, fn) -&gt;
      is_constructor narg (fixargsv ++ argsv) -&gt;
      <span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
      <span class="kp">eval</span> (mkApps f args) res

  <span class="sd">(** Fix stuck, with guard *)</span>
  | eval_fix_value f mfix idx fixargsv args argsv narg fn :
      <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
      All2 <span class="kp">eval</span> args argsv -&gt;
      unfold_fix mfix idx = Some (narg, fn) -&gt;
      ~~is_constructor narg (fixargsv ++ argsv) -&gt;
      <span class="kp">eval</span> (mkApps f args) (mkApps (tFix mfix idx) (fixargsv ++ argsv))

  <span class="sd">(** CoFix-case unfolding *)</span>
  | red_cofix_case ip mfix idx p args narg fn brs res :
      unfold_cofix mfix idx = Some (narg, fn) -&gt;
      <span class="kp">eval</span> (tCase ip p (mkApps fn args) brs) res -&gt;
      <span class="kp">eval</span> (tCase ip p (mkApps (tCoFix mfix idx) args) brs) res

  <span class="sd">(** CoFix-proj unfolding *)</span>
  | red_cofix_proj p mfix idx args narg fn res :
      unfold_cofix mfix idx = Some (narg, fn) -&gt;
      <span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
      <span class="kp">eval</span> (tProj p (mkApps (tCoFix mfix idx) args)) res

  <span class="sd">(** Non redex-producing heads applied to values are values *)</span>
  | eval_app_cong f f&#39; a a&#39; :
      ~~ isApp f -&gt; ~~ is_empty a -&gt; <span class="c">(* This ensures eval only applies to well-formed terms *)</span>
      <span class="kp">eval</span> f f&#39; -&gt;
      ~~ (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;) -&gt;
      All2 <span class="kp">eval</span> a a&#39; -&gt;
      <span class="kp">eval</span> (tApp f a) (mkApps f&#39; a&#39;)

  <span class="sd">(** Evars complicate reasoning due to the embedded substitution, we skip</span>
<span class="sd">      them for now *)</span>
  <span class="c">(* | eval_evar n l l&#39; : *)</span>
  <span class="c">(*     Forall2 eval l l&#39; -&gt; *)</span>
  <span class="c">(*     eval (tEvar n l) (tEvar n l&#39;) *)</span>


  <span class="sd">(** Atoms are values (includes abstractions, cofixpoints and constructors</span>
<span class="sd">      along with type constructors) *)</span>
  | eval_atom t : atom t -&gt; <span class="kp">eval</span> t t.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Scheme Minimality for eval Sort Type. *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb"><span class="highlight"><span class="kn">Definition</span> <span class="nf">eval_evals_ind</span> :
    <span class="kr">forall</span> <span class="nv">P</span> : term -&gt; term -&gt; <span class="kt">Type</span>,
      (<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname) <span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> <span class="nv">l</span> <span class="nv">res</span>,
          <span class="kp">eval</span> f (tLambda na t b) -&gt;
          P f (tLambda na t b) -&gt; <span class="kp">eval</span> a a&#39; -&gt; P a a&#39; -&gt;
          <span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt; P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
          P (tApp f (a :: l)) res) -&gt;
      (<span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
          <span class="kp">eval</span> b0 b0&#39; -&gt; P b0 b0&#39; -&gt; <span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt; P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt; P (tLetIn na b0 t b1) res) -&gt;
      (<span class="kr">forall</span> (<span class="nv">i</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
          option_map decl_body (nth_error Œì i) = Some (Some body) -&gt;
          <span class="kp">eval</span> ((lift0 (S i)) body) res -&gt; P ((lift0 (S i)) body) res -&gt; P (tRel i) res) -&gt;
      (<span class="kr">forall</span> <span class="nv">i</span> : nat, option_map decl_body (nth_error Œì i) = Some None -&gt; P (tRel i) (tRel i)) -&gt;
      (<span class="kr">forall</span> <span class="nv">c</span> (<span class="nv">decl</span> : constant_body) (<span class="nv">body</span> : term),
          declared_constant Œ£ c decl -&gt;
          <span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
            cst_body decl = Some body -&gt;
            <span class="kp">eval</span> (subst_instance u body) res -&gt; P (subst_instance u body) res -&gt; P (tConst c u) res) -&gt;
      (<span class="kr">forall</span> <span class="nv">c</span> (<span class="nv">decl</span> : constant_body),
          declared_constant Œ£ c decl -&gt; <span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t, cst_body decl = None -&gt; P (tConst c u) (tConst c u)) -&gt;
      (<span class="kr">forall</span> <span class="nv">ci</span> <span class="nv">mdecl</span> <span class="nv">idecl</span> <span class="nv">cdecl</span> (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) (<span class="nv">u</span> : Instance.t)
              (<span class="nv">args</span> : list term) (<span class="nv">p</span> : predicate term) (<span class="nv">brs</span> : list (branch term)) <span class="nv">br</span> (<span class="nv">res</span> : term),
          <span class="kr">let</span> <span class="nv">ind</span> := ci.(ci_ind) <span class="kr">in</span>
          <span class="kr">let</span> <span class="nv">npar</span> := ci.(ci_npar) <span class="kr">in</span>
          <span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
          P discr (mkApps (tConstruct ind c u) args) -&gt;
          nth_error brs c = Some br -&gt;
          declared_constructor Œ£ (ci.(ci_ind), c) mdecl idecl cdecl -&gt;
          <span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
          #|skipn (ci_npar ci) args| = context_assumptions bctx -&gt;
          <span class="kp">eval</span> (iota_red npar args bctx br) res -&gt; P (iota_red npar args bctx br) res -&gt; 
          P (tCase ci p discr brs) res) -&gt;
      (<span class="kr">forall</span> (<span class="nv">indnpararg</span> : ((inductive √ó nat) √ó nat)) (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term) (<span class="nv">u</span> : Instance.t)
              (<span class="nv">a</span> <span class="nv">res</span> : term),
          <span class="kp">eval</span> discr (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
          P discr (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
          nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = Some a -&gt; 
          <span class="kp">eval</span> a res -&gt; P a res -&gt;
          P (tProj indnpararg discr) res) -&gt;
      (<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
             (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
        <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
        P f (mkApps (tFix mfix idx) fixargsv) -&gt;
        All2 <span class="kp">eval</span> args argsv -&gt;
        All2 P args argsv -&gt;
        unfold_fix mfix idx = Some (narg, fn) -&gt;
        is_constructor narg (fixargsv ++ argsv) -&gt;
        <span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
        P (mkApps fn (fixargsv ++ argsv)) res -&gt;
        P (mkApps f args) res) -&gt;
      (<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
              (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
          <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
          P f (mkApps (tFix mfix idx) fixargsv) -&gt;
          All2 <span class="kp">eval</span> args argsv -&gt;
          All2 P args argsv -&gt;
          unfold_fix mfix idx = Some (narg, fn) -&gt;
          ~~ is_constructor narg (fixargsv ++ argsv) -&gt;
          P (mkApps f args) (mkApps (tFix mfix idx) (fixargsv ++ argsv))) -&gt;
      (<span class="kr">forall</span> (<span class="nv">ip</span> : case_info) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat) 
        (<span class="nv">p</span> : predicate term) (<span class="nv">args</span> : list term)
        (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term)) (<span class="nv">res</span> : term),
          unfold_cofix mfix idx = Some (narg, fn) -&gt;
          <span class="kp">eval</span> (tCase ip p (mkApps fn args) brs) res -&gt;
          P (tCase ip p (mkApps fn args) brs) res -&gt; P (tCase ip p (mkApps (tCoFix mfix idx) args) brs) res) -&gt;
      (<span class="kr">forall</span> (<span class="nv">p</span> : projection) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
          unfold_cofix mfix idx = Some (narg, fn) -&gt;
          <span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
          P (tProj p (mkApps fn args)) res -&gt; P (tProj p (mkApps (tCoFix mfix idx) args)) res) -&gt;
      (<span class="kr">forall</span> <span class="nv">f</span> <span class="nv">f&#39;</span> <span class="nv">a</span> <span class="nv">a&#39;</span>,
          ~~ isApp f -&gt; ~~ is_empty a -&gt;
          <span class="kp">eval</span> f f&#39; -&gt; P f f&#39; -&gt;
          ~~ (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;) -&gt;
          All2 <span class="kp">eval</span> a a&#39; -&gt; All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)) -&gt;
      (<span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t) -&gt; <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term, <span class="kp">eval</span> t t0 -&gt; P t t0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : term -&gt; term -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname) (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term)
   (<span class="nv">l</span> : list term) (<span class="nv">res</span> : term),
 <span class="kp">eval</span> f (tLambda na t b) -&gt;
 P f (tLambda na t b) -&gt;
 <span class="kp">eval</span> a a&#39; -&gt;
 P a a&#39; -&gt;
 <span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
 P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
 P (tApp f (a :: l)) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
 <span class="kp">eval</span> b0 b0&#39; -&gt;
 P b0 b0&#39; -&gt;
 <span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
 P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt; P (tLetIn na b0 t b1) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">i</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
 option_map decl_body (nth_error Œì i) =
 Some (Some body) -&gt;
 <span class="kp">eval</span> (lift0 (S i) body) res -&gt;
 P (lift0 (S i) body) res -&gt; P (tRel i) res) -&gt;
(<span class="kr">forall</span> <span class="nv">i</span> : nat,
 option_map decl_body (nth_error Œì i) = Some None -&gt;
 P (tRel i) (tRel i)) -&gt;
(<span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
   (<span class="nv">body</span> : term),
 declared_constant Œ£ c decl -&gt;
 <span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
 cst_body decl = Some body -&gt;
 <span class="kp">eval</span> (subst_instance u body) res -&gt;
 P (subst_instance u body) res -&gt; P (tConst c u) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
 declared_constant Œ£ c decl -&gt;
 <span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
 cst_body decl = None -&gt; P (tConst c u) (tConst c u)) -&gt;
(<span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
   (<span class="nv">mdecl</span> : mutual_inductive_body)
   (<span class="nv">idecl</span> : one_inductive_body)
   (<span class="nv">cdecl</span> : constructor_body) (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat)
   (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
   (<span class="nv">p</span> : predicate term) (<span class="nv">brs</span> : list (branch term))
   (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
 <span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
 <span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
 <span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
 P discr (mkApps (tConstruct ind c u) args) -&gt;
 nth_error brs c = Some br -&gt;
 declared_constructor Œ£ (ci_ind ci, c) mdecl idecl
   cdecl -&gt;
 <span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
 #|skipn (ci_npar ci) args| = context_assumptions bctx -&gt;
 <span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
 P (iota_red npar args bctx br) res -&gt;
 P (tCase ci p discr brs) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
   (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term) (<span class="nv">u</span> : Instance.t)
   (<span class="nv">a</span> <span class="nv">res</span> : term),
 <span class="kp">eval</span> discr
   (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
 P discr (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
 nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
 Some a -&gt;
 <span class="kp">eval</span> a res -&gt;
 P a res -&gt; P (tProj indnpararg discr) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat)
   (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term) (<span class="nv">narg</span> : nat)
   (<span class="nv">fn</span> <span class="nv">res</span> : term),
 <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
 P f (mkApps (tFix mfix idx) fixargsv) -&gt;
 All2 <span class="kp">eval</span> args argsv -&gt;
 All2 P args argsv -&gt;
 unfold_fix mfix idx = Some (narg, fn) -&gt;
 is_constructor narg (fixargsv ++ argsv) -&gt;
 <span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
 P (mkApps fn (fixargsv ++ argsv)) res -&gt;
 P (mkApps f args) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat)
   (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term) (<span class="nv">narg</span> : nat)
   (<span class="nv">fn</span> : term),
 <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
 P f (mkApps (tFix mfix idx) fixargsv) -&gt;
 All2 <span class="kp">eval</span> args argsv -&gt;
 All2 P args argsv -&gt;
 unfold_fix mfix idx = Some (narg, fn) -&gt;
 ~~ is_constructor narg (fixargsv ++ argsv) -&gt;
 P (mkApps f args)
   (mkApps (tFix mfix idx) (fixargsv ++ argsv))) -&gt;
(<span class="kr">forall</span> (<span class="nv">ip</span> : case_info) (<span class="nv">mfix</span> : mfixpoint term)
   (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term) (<span class="nv">args</span> : list term)
   (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
   (<span class="nv">res</span> : term),
 unfold_cofix mfix idx = Some (narg, fn) -&gt;
 <span class="kp">eval</span> (tCase ip p (mkApps fn args) brs) res -&gt;
 P (tCase ip p (mkApps fn args) brs) res -&gt;
 P (tCase ip p (mkApps (tCoFix mfix idx) args) brs)
   res) -&gt;
(<span class="kr">forall</span> (<span class="nv">p</span> : projection) (<span class="nv">mfix</span> : mfixpoint term)
   (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
   (<span class="nv">fn</span> <span class="nv">res</span> : term),
 unfold_cofix mfix idx = Some (narg, fn) -&gt;
 <span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
 P (tProj p (mkApps fn args)) res -&gt;
 P (tProj p (mkApps (tCoFix mfix idx) args)) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
 ~~ isApp f -&gt;
 ~~ is_empty a -&gt;
 <span class="kp">eval</span> f f&#39; -&gt;
 P f f&#39; -&gt;
 ~~ (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;) -&gt;
 All2 <span class="kp">eval</span> a a&#39; -&gt;
 All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)) -&gt;
(<span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t) -&gt;
<span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term, <span class="kp">eval</span> t t0 -&gt; P t t0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : term -&gt; term -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname) (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term)
   (<span class="nv">l</span> : list term) (<span class="nv">res</span> : term),
 <span class="kp">eval</span> f (tLambda na t b) -&gt;
 P f (tLambda na t b) -&gt;
 <span class="kp">eval</span> a a&#39; -&gt;
 P a a&#39; -&gt;
 <span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
 P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
 P (tApp f (a :: l)) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
 <span class="kp">eval</span> b0 b0&#39; -&gt;
 P b0 b0&#39; -&gt;
 <span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
 P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt; P (tLetIn na b0 t b1) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">i</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
 option_map decl_body (nth_error Œì i) =
 Some (Some body) -&gt;
 <span class="kp">eval</span> (lift0 (S i) body) res -&gt;
 P (lift0 (S i) body) res -&gt; P (tRel i) res) -&gt;
(<span class="kr">forall</span> <span class="nv">i</span> : nat,
 option_map decl_body (nth_error Œì i) = Some None -&gt;
 P (tRel i) (tRel i)) -&gt;
(<span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
   (<span class="nv">body</span> : term),
 declared_constant Œ£ c decl -&gt;
 <span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
 cst_body decl = Some body -&gt;
 <span class="kp">eval</span> (subst_instance u body) res -&gt;
 P (subst_instance u body) res -&gt; P (tConst c u) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
 declared_constant Œ£ c decl -&gt;
 <span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
 cst_body decl = None -&gt; P (tConst c u) (tConst c u)) -&gt;
(<span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
   (<span class="nv">mdecl</span> : mutual_inductive_body)
   (<span class="nv">idecl</span> : one_inductive_body)
   (<span class="nv">cdecl</span> : constructor_body) (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat)
   (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
   (<span class="nv">p</span> : predicate term) (<span class="nv">brs</span> : list (branch term))
   (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
 <span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
 <span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
 <span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
 P discr (mkApps (tConstruct ind c u) args) -&gt;
 nth_error brs c = Some br -&gt;
 declared_constructor Œ£ (ci_ind ci, c) mdecl idecl
   cdecl -&gt;
 <span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
 #|skipn (ci_npar ci) args| = context_assumptions bctx -&gt;
 <span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
 P (iota_red npar args bctx br) res -&gt;
 P (tCase ci p discr brs) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
   (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term) (<span class="nv">u</span> : Instance.t)
   (<span class="nv">a</span> <span class="nv">res</span> : term),
 <span class="kp">eval</span> discr
   (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
 P discr (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
 nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
 Some a -&gt;
 <span class="kp">eval</span> a res -&gt;
 P a res -&gt; P (tProj indnpararg discr) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat)
   (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term) (<span class="nv">narg</span> : nat)
   (<span class="nv">fn</span> <span class="nv">res</span> : term),
 <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
 P f (mkApps (tFix mfix idx) fixargsv) -&gt;
 All2 <span class="kp">eval</span> args argsv -&gt;
 All2 P args argsv -&gt;
 unfold_fix mfix idx = Some (narg, fn) -&gt;
 is_constructor narg (fixargsv ++ argsv) -&gt;
 <span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
 P (mkApps fn (fixargsv ++ argsv)) res -&gt;
 P (mkApps f args) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term) (<span class="nv">idx</span> : nat)
   (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term) (<span class="nv">narg</span> : nat)
   (<span class="nv">fn</span> : term),
 <span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
 P f (mkApps (tFix mfix idx) fixargsv) -&gt;
 All2 <span class="kp">eval</span> args argsv -&gt;
 All2 P args argsv -&gt;
 unfold_fix mfix idx = Some (narg, fn) -&gt;
 ~~ is_constructor narg (fixargsv ++ argsv) -&gt;
 P (mkApps f args)
   (mkApps (tFix mfix idx) (fixargsv ++ argsv))) -&gt;
(<span class="kr">forall</span> (<span class="nv">ip</span> : case_info) (<span class="nv">mfix</span> : mfixpoint term)
   (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term) (<span class="nv">args</span> : list term)
   (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
   (<span class="nv">res</span> : term),
 unfold_cofix mfix idx = Some (narg, fn) -&gt;
 <span class="kp">eval</span> (tCase ip p (mkApps fn args) brs) res -&gt;
 P (tCase ip p (mkApps fn args) brs) res -&gt;
 P (tCase ip p (mkApps (tCoFix mfix idx) args) brs)
   res) -&gt;
(<span class="kr">forall</span> (<span class="nv">p</span> : projection) (<span class="nv">mfix</span> : mfixpoint term)
   (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
   (<span class="nv">fn</span> <span class="nv">res</span> : term),
 unfold_cofix mfix idx = Some (narg, fn) -&gt;
 <span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
 P (tProj p (mkApps fn args)) res -&gt;
 P (tProj p (mkApps (tCoFix mfix idx) args)) res) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
 ~~ isApp f -&gt;
 ~~ is_empty a -&gt;
 <span class="kp">eval</span> f f&#39; -&gt;
 P f f&#39; -&gt;
 ~~ (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;) -&gt;
 All2 <span class="kp">eval</span> a a&#39; -&gt;
 All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)) -&gt;
(<span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t) -&gt;
<span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term, <span class="kp">eval</span> t t0 -&gt; P t t0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd"><span class="highlight"><span class="nb">intros</span> P Hbeta Hlet Hreldef Hrelvar Hcst Hax Hcase Hproj Hfix Hstuckfix Hcofixcase Hcofixproj Happcong Hatom.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f (tLambda na t b) -&gt;
P f (tLambda na t b) -&gt;
<span class="kp">eval</span> a a&#39; -&gt;
P a a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f (a :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i) body) res -&gt;
P (lift0 (S i) body) res -&gt; P (tRel i) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : nat,
option_map decl_body (nth_error Œì i) =
Some None -&gt; P (tRel i) (tRel i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a -&gt;
<span class="kp">eval</span> a res -&gt;
P a res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f -&gt;
~~ is_empty a -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
P f f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a a&#39; -&gt;
All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term, <span class="kp">eval</span> t t0 -&gt; P t t0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke"><span class="highlight"><span class="kr">fix</span> eval_evals_ind <span class="mi">3</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f (tLambda na t b) -&gt;
P f (tLambda na t b) -&gt;
<span class="kp">eval</span> a a&#39; -&gt;
P a a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f (a :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i) body) res -&gt;
P (lift0 (S i) body) res -&gt; P (tRel i) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : nat,
option_map decl_body (nth_error Œì i) =
Some None -&gt; P (tRel i) (tRel i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a -&gt;
<span class="kp">eval</span> a res -&gt;
P a res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f -&gt;
~~ is_empty a -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
P f f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a a&#39; -&gt;
All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term, <span class="kp">eval</span> t t0 -&gt; P t t0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf"><span class="highlight"><span class="nb">destruct</span> <span class="mi">1</span>;
             <span class="kp">try</span> <span class="kp">solve</span> [<span class="kr">match goal with</span> [ H : _ |- _ ] =&gt;
                             <span class="kr">match</span> <span class="kp">type of</span> H <span class="kr">with</span>
                               <span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span>, <span class="kp">eval</span> t t0 -&gt; _ =&gt; <span class="kp">fail</span> <span class="mi">1</span>
                             | _ =&gt; <span class="nb">eapply</span> H
                             <span class="kr">end</span> <span class="kr">end</span>; <span class="nb">eauto</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f (tLambda na t b) -&gt;
P f (tLambda na t b) -&gt;
<span class="kp">eval</span> a a&#39; -&gt;
P a a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f (a :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res -&gt;
P (lift0 (S i0) body) res -&gt; P (tRel i0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a -&gt;
<span class="kp">eval</span> a res -&gt;
P a res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f -&gt;
~~ is_empty a -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
P f f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a a&#39; -&gt;
All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">option_map decl_body (nth_error Œì i) = Some None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (tRel i) (tRel i)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk10" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f (tLambda na t b) -&gt;
P f (tLambda na t b) -&gt;
<span class="kp">eval</span> a a&#39; -&gt;
P a a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f (a :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i) body) res -&gt;
P (lift0 (S i) body) res -&gt; P (tRel i) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : nat,
option_map decl_body (nth_error Œì i) =
Some None -&gt; P (tRel i) (tRel i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">decl0</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c0 decl0 -&gt;
<span class="kr">forall</span> (<span class="nv">u0</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl0 = Some body -&gt;
<span class="kp">eval</span> (subst_instance u0 body) res -&gt;
P (subst_instance u0 body) res -&gt;
P (tConst c0 u0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">decl0</span> : constant_body),
declared_constant Œ£ c0 decl0 -&gt;
<span class="kr">forall</span> <span class="nv">u0</span> : <span class="kn">Instance</span>.t,
cst_body decl0 = None -&gt;
P (tConst c0 u0) (tConst c0 u0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c0</span> : nat) 
  (<span class="nv">u0</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr
  (mkApps (tConstruct ind c0 u0) args) -&gt;
P discr (mkApps (tConstruct ind c0 u0) args) -&gt;
nth_error brs c0 = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c0) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u0</span> : Instance.t) (<span class="nv">a</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u0)
     args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u0)
     args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a -&gt;
<span class="kp">eval</span> a res -&gt;
P a res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f -&gt;
~~ is_empty a -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
P f f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a a&#39; -&gt;
All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk10"><hr></label><div class="goal-conclusion"><span class="highlight">P (tConst c u) (tConst c u)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk11" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a0</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res0</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a0 a&#39; -&gt;
P a0 a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res0 -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res0 -&gt;
P (tApp f0 (a0 :: l)) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res0 -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res0 -&gt;
P (tLetIn na b0 t b1) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res0</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res0 -&gt;
P (lift0 (S i0) body) res0 -&gt;
P (tRel i0) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res0</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res0 -&gt;
P (subst_instance u body) res0 -&gt;
P (tConst c u) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args0</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res0</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args0) -&gt;
P discr (mkApps (tConstruct ind c u) args0) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args0| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args0 bctx br) res0 -&gt;
P (iota_red npar args0 bctx br) res0 -&gt;
P (tCase ci p discr brs) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args0</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a0</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
nth_error args0
  (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = 
Some a0 -&gt;
<span class="kp">eval</span> a0 res0 -&gt;
P a0 res0 -&gt; P (tProj indnpararg discr) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix0</span> : mfixpoint term)
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
<span class="kp">eval</span> (mkApps fn0 (fixargsv0 ++ argsv0)) res0 -&gt;
P (mkApps fn0 (fixargsv0 ++ argsv0)) res0 -&gt;
P (mkApps f0 args0) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> : term),
<span class="kp">eval</span> f0
  (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
~~
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
P (mkApps f0 args0)
  (mkApps (tFix mfix0 idx0)
     (fixargsv0 ++ argsv0))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args0</span> : list term) (<span class="nv">narg0</span> : nat)
  (<span class="nv">fn0</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res0</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn0 args0) brs)
  res0 -&gt;
P (tCase ip p (mkApps fn0 args0) brs)
  res0 -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix0 idx0) args0)
     brs) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">args0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res0</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn0 args0)) res0 -&gt;
P (tProj p (mkApps fn0 args0)) res0 -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix0 idx0) args0))
  res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a0</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a0 -&gt;
<span class="kp">eval</span> f0 f&#39; -&gt;
P f0 f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a0 a&#39; -&gt;
All2 P a0 a&#39; -&gt;
P (tApp f0 a0) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk11"><hr></label><div class="goal-conclusion"><span class="highlight">P (mkApps f args) res</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk12" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a0</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a0 a&#39; -&gt;
P a0 a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f0 (a0 :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res -&gt;
P (lift0 (S i0) body) res -&gt; P (tRel i0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args0</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args0) -&gt;
P discr (mkApps (tConstruct ind c u) args0) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args0| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args0 bctx br) res -&gt;
P (iota_red npar args0 bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args0</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a0</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
nth_error args0
  (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = 
Some a0 -&gt;
<span class="kp">eval</span> a0 res -&gt;
P a0 res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix0</span> : mfixpoint term)
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
<span class="kp">eval</span> (mkApps fn0 (fixargsv0 ++ argsv0)) res -&gt;
P (mkApps fn0 (fixargsv0 ++ argsv0)) res -&gt;
P (mkApps f0 args0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> : term),
<span class="kp">eval</span> f0
  (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
~~
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
P (mkApps f0 args0)
  (mkApps (tFix mfix0 idx0)
     (fixargsv0 ++ argsv0))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args0</span> : list term) (<span class="nv">narg0</span> : nat)
  (<span class="nv">fn0</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn0 args0) brs)
  res -&gt;
P (tCase ip p (mkApps fn0 args0) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix0 idx0) args0)
     brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">args0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn0 args0)) res -&gt;
P (tProj p (mkApps fn0 args0)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix0 idx0) args0))
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a0</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a0 -&gt;
<span class="kp">eval</span> f0 f&#39; -&gt;
P f0 f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a0 a&#39; -&gt;
All2 P a0 a&#39; -&gt;
P (tApp f0 a0) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk12"><hr></label><div class="goal-conclusion"><span class="highlight">P (mkApps f args)
  (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk13" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a1</span> <span class="nv">a&#39;0</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a1 a&#39;0 -&gt;
P a1 a&#39;0 -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (tApp f0 (a1 :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i2</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i2) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i2) body) res -&gt;
P (lift0 (S i2) body) res -&gt; P (tRel i2) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i2</span> : nat,
option_map decl_body (nth_error Œì i2) =
Some None -&gt; P (tRel i2) (tRel i2)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a1 -&gt;
<span class="kp">eval</span> a1 res -&gt;
P a1 res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f0 args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f0 args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;0</span> : term) (<span class="nv">a1</span> <span class="nv">a&#39;0</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a1 -&gt;
<span class="kp">eval</span> f0 f&#39;0 -&gt;
P f0 f&#39;0 -&gt;
~~
(isLambda f&#39;0 || isFixApp f&#39;0
 || isArityHead f&#39;0) -&gt;
All2 <span class="kp">eval</span> a1 a&#39;0 -&gt;
All2 P a1 a&#39;0 -&gt;
P (tApp f0 a1) (mkApps f&#39;0 a&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk13"><hr></label><div class="goal-conclusion"><span class="highlight">P (tApp f a) (mkApps f&#39; a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk14"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f (tLambda na t b) -&gt;
P f (tLambda na t b) -&gt;
<span class="kp">eval</span> a a&#39; -&gt;
P a a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f (a :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res -&gt;
P (lift0 (S i0) body) res -&gt; P (tRel i0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a -&gt;
<span class="kp">eval</span> a res -&gt;
P a res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f -&gt;
~~ is_empty a -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
P f f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a a&#39; -&gt;
All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">option_map decl_body (nth_error Œì i) = Some None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (tRel i) (tRel i)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> Hrelvar, e.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk15"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f (tLambda na t b) -&gt;
P f (tLambda na t b) -&gt;
<span class="kp">eval</span> a a&#39; -&gt;
P a a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f (a :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i) body) res -&gt;
P (lift0 (S i) body) res -&gt; P (tRel i) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : nat,
option_map decl_body (nth_error Œì i) =
Some None -&gt; P (tRel i) (tRel i)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">decl0</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c0 decl0 -&gt;
<span class="kr">forall</span> (<span class="nv">u0</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl0 = Some body -&gt;
<span class="kp">eval</span> (subst_instance u0 body) res -&gt;
P (subst_instance u0 body) res -&gt;
P (tConst c0 u0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">decl0</span> : constant_body),
declared_constant Œ£ c0 decl0 -&gt;
<span class="kr">forall</span> <span class="nv">u0</span> : <span class="kn">Instance</span>.t,
cst_body decl0 = None -&gt;
P (tConst c0 u0) (tConst c0 u0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c0</span> : nat) 
  (<span class="nv">u0</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr
  (mkApps (tConstruct ind c0 u0) args) -&gt;
P discr (mkApps (tConstruct ind c0 u0) args) -&gt;
nth_error brs c0 = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c0) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u0</span> : Instance.t) (<span class="nv">a</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u0)
     args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u0)
     args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a -&gt;
<span class="kp">eval</span> a res -&gt;
P a res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv) -&gt;
P f (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f -&gt;
~~ is_empty a -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
P f f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a a&#39; -&gt;
All2 P a a&#39; -&gt; P (tApp f a) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> Hax; [<span class="nb">eapply</span> isdecl|<span class="nb">eapply</span> e].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk16"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a0</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res0</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a0 a&#39; -&gt;
P a0 a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res0 -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res0 -&gt;
P (tApp f0 (a0 :: l)) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res0 -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res0 -&gt;
P (tLetIn na b0 t b1) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res0</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res0 -&gt;
P (lift0 (S i0) body) res0 -&gt;
P (tRel i0) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res0</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res0 -&gt;
P (subst_instance u body) res0 -&gt;
P (tConst c u) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args0</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res0</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args0) -&gt;
P discr (mkApps (tConstruct ind c u) args0) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args0| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args0 bctx br) res0 -&gt;
P (iota_red npar args0 bctx br) res0 -&gt;
P (tCase ci p discr brs) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args0</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a0</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
nth_error args0
  (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = 
Some a0 -&gt;
<span class="kp">eval</span> a0 res0 -&gt;
P a0 res0 -&gt; P (tProj indnpararg discr) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix0</span> : mfixpoint term)
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
<span class="kp">eval</span> (mkApps fn0 (fixargsv0 ++ argsv0)) res0 -&gt;
P (mkApps fn0 (fixargsv0 ++ argsv0)) res0 -&gt;
P (mkApps f0 args0) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> : term),
<span class="kp">eval</span> f0
  (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
~~
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
P (mkApps f0 args0)
  (mkApps (tFix mfix0 idx0)
     (fixargsv0 ++ argsv0))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args0</span> : list term) (<span class="nv">narg0</span> : nat)
  (<span class="nv">fn0</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res0</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn0 args0) brs)
  res0 -&gt;
P (tCase ip p (mkApps fn0 args0) brs)
  res0 -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix0 idx0) args0)
     brs) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">args0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res0</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn0 args0)) res0 -&gt;
P (tProj p (mkApps fn0 args0)) res0 -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix0 idx0) args0))
  res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a0</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a0 -&gt;
<span class="kp">eval</span> f0 f&#39; -&gt;
P f0 f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a0 a&#39; -&gt;
All2 P a0 a&#39; -&gt;
P (tApp f0 a0) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (mkApps f args) res</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk17"><span class="highlight"><span class="nb">eapply</span> Hfix; <span class="nb">eauto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a0</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res0</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a0 a&#39; -&gt;
P a0 a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res0 -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res0 -&gt;
P (tApp f0 (a0 :: l)) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res0 -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res0 -&gt;
P (tLetIn na b0 t b1) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res0</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res0 -&gt;
P (lift0 (S i0) body) res0 -&gt;
P (tRel i0) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res0</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res0 -&gt;
P (subst_instance u body) res0 -&gt;
P (tConst c u) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args0</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res0</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args0) -&gt;
P discr (mkApps (tConstruct ind c u) args0) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args0| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args0 bctx br) res0 -&gt;
P (iota_red npar args0 bctx br) res0 -&gt;
P (tCase ci p discr brs) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args0</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a0</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
nth_error args0
  (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = 
Some a0 -&gt;
<span class="kp">eval</span> a0 res0 -&gt;
P a0 res0 -&gt; P (tProj indnpararg discr) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix0</span> : mfixpoint term)
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res0</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
<span class="kp">eval</span> (mkApps fn0 (fixargsv0 ++ argsv0)) res0 -&gt;
P (mkApps fn0 (fixargsv0 ++ argsv0)) res0 -&gt;
P (mkApps f0 args0) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> : term),
<span class="kp">eval</span> f0
  (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
~~
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
P (mkApps f0 args0)
  (mkApps (tFix mfix0 idx0)
     (fixargsv0 ++ argsv0))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args0</span> : list term) (<span class="nv">narg0</span> : nat)
  (<span class="nv">fn0</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res0</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn0 args0) brs)
  res0 -&gt;
P (tCase ip p (mkApps fn0 args0) brs)
  res0 -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix0 idx0) args0)
     brs) res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">args0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res0</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn0 args0)) res0 -&gt;
P (tProj p (mkApps fn0 args0)) res0 -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix0 idx0) args0))
  res0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a0</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a0 -&gt;
<span class="kp">eval</span> f0 f&#39; -&gt;
P f0 f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a0 a&#39; -&gt;
All2 P a0 a&#39; -&gt;
P (tApp f0 a0) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 P args argsv</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk18"><span class="highlight"><span class="nb">clear</span> -a eval_evals_ind.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 P args argsv</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk19"><span class="highlight"><span class="nb">revert</span> args argsv a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term,
All2 <span class="kp">eval</span> args argsv -&gt; All2 P args argsv</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kr">fix</span> aux <span class="mi">3</span>; <span class="nb">destruct</span> <span class="mi">1</span>; <span class="nb">constructor</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk1a"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a0</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a0 a&#39; -&gt;
P a0 a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f0 (a0 :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res -&gt;
P (lift0 (S i0) body) res -&gt; P (tRel i0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args0</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args0) -&gt;
P discr (mkApps (tConstruct ind c u) args0) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args0| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args0 bctx br) res -&gt;
P (iota_red npar args0 bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args0</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a0</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
nth_error args0
  (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = 
Some a0 -&gt;
<span class="kp">eval</span> a0 res -&gt;
P a0 res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix0</span> : mfixpoint term)
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
<span class="kp">eval</span> (mkApps fn0 (fixargsv0 ++ argsv0)) res -&gt;
P (mkApps fn0 (fixargsv0 ++ argsv0)) res -&gt;
P (mkApps f0 args0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> : term),
<span class="kp">eval</span> f0
  (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
~~
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
P (mkApps f0 args0)
  (mkApps (tFix mfix0 idx0)
     (fixargsv0 ++ argsv0))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args0</span> : list term) (<span class="nv">narg0</span> : nat)
  (<span class="nv">fn0</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn0 args0) brs)
  res -&gt;
P (tCase ip p (mkApps fn0 args0) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix0 idx0) args0)
     brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">args0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn0 args0)) res -&gt;
P (tProj p (mkApps fn0 args0)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix0 idx0) args0))
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a0</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a0 -&gt;
<span class="kp">eval</span> f0 f&#39; -&gt;
P f0 f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a0 a&#39; -&gt;
All2 P a0 a&#39; -&gt;
P (tApp f0 a0) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (mkApps f args)
  (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk1b"><span class="highlight"><span class="nb">eapply</span> Hstuckfix; <span class="nb">eauto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a0</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a0 a&#39; -&gt;
P a0 a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f0 (a0 :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res -&gt;
P (lift0 (S i0) body) res -&gt; P (tRel i0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args0</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args0) -&gt;
P discr (mkApps (tConstruct ind c u) args0) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args0| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args0 bctx br) res -&gt;
P (iota_red npar args0 bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args0</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a0</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u)
     args0) -&gt;
nth_error args0
  (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) = 
Some a0 -&gt;
<span class="kp">eval</span> a0 res -&gt;
P a0 res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix0</span> : mfixpoint term)
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
<span class="kp">eval</span> (mkApps fn0 (fixargsv0 ++ argsv0)) res -&gt;
P (mkApps fn0 (fixargsv0 ++ argsv0)) res -&gt;
P (mkApps f0 args0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat)
  (<span class="nv">fixargsv0</span> <span class="nv">args0</span> <span class="nv">argsv0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> : term),
<span class="kp">eval</span> f0
  (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
P f0 (mkApps (tFix mfix0 idx0) fixargsv0) -&gt;
All2 <span class="kp">eval</span> args0 argsv0 -&gt;
All2 P args0 argsv0 -&gt;
unfold_fix mfix0 idx0 = Some (narg0, fn0) -&gt;
~~
is_constructor narg0 (fixargsv0 ++ argsv0) -&gt;
P (mkApps f0 args0)
  (mkApps (tFix mfix0 idx0)
     (fixargsv0 ++ argsv0))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args0</span> : list term) (<span class="nv">narg0</span> : nat)
  (<span class="nv">fn0</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn0 args0) brs)
  res -&gt;
P (tCase ip p (mkApps fn0 args0) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix0 idx0) args0)
     brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix0</span> : mfixpoint term) 
  (<span class="nv">idx0</span> : nat) (<span class="nv">args0</span> : list term)
  (<span class="nv">narg0</span> : nat) (<span class="nv">fn0</span> <span class="nv">res</span> : term),
unfold_cofix mfix0 idx0 =
Some (narg0, fn0) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn0 args0)) res -&gt;
P (tProj p (mkApps fn0 args0)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix0 idx0) args0))
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;</span> : term) (<span class="nv">a0</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a0 -&gt;
<span class="kp">eval</span> f0 f&#39; -&gt;
P f0 f&#39; -&gt;
~~
(isLambda f&#39; || isFixApp f&#39;
 || isArityHead f&#39;) -&gt;
All2 <span class="kp">eval</span> a0 a&#39; -&gt;
All2 P a0 a&#39; -&gt;
P (tApp f0 a0) (mkApps f&#39; a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 P args argsv</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk1c"><span class="highlight"><span class="nb">clear</span> -a eval_evals_ind.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 P args argsv</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk1d"><span class="highlight"><span class="nb">revert</span> args argsv a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term,
All2 <span class="kp">eval</span> args argsv -&gt; All2 P args argsv</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kr">fix</span> aux <span class="mi">3</span>; <span class="nb">destruct</span> <span class="mi">1</span>; <span class="nb">constructor</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk1e"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a1</span> <span class="nv">a&#39;0</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a1 a&#39;0 -&gt;
P a1 a&#39;0 -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (tApp f0 (a1 :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i2</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i2) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i2) body) res -&gt;
P (lift0 (S i2) body) res -&gt; P (tRel i2) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i2</span> : nat,
option_map decl_body (nth_error Œì i2) =
Some None -&gt; P (tRel i2) (tRel i2)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a1 -&gt;
<span class="kp">eval</span> a1 res -&gt;
P a1 res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f0 args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f0 args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;0</span> : term) (<span class="nv">a1</span> <span class="nv">a&#39;0</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a1 -&gt;
<span class="kp">eval</span> f0 f&#39;0 -&gt;
P f0 f&#39;0 -&gt;
~~
(isLambda f&#39;0 || isFixApp f&#39;0
 || isArityHead f&#39;0) -&gt;
All2 <span class="kp">eval</span> a1 a&#39;0 -&gt;
All2 P a1 a&#39;0 -&gt;
P (tApp f0 a1) (mkApps f&#39;0 a&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (tApp f a) (mkApps f&#39; a&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk1f"><span class="highlight"><span class="nb">eapply</span> Happcong; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a1</span> <span class="nv">a&#39;0</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a1 a&#39;0 -&gt;
P a1 a&#39;0 -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (tApp f0 (a1 :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i2</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i2) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i2) body) res -&gt;
P (lift0 (S i2) body) res -&gt; P (tRel i2) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i2</span> : nat,
option_map decl_body (nth_error Œì i2) =
Some None -&gt; P (tRel i2) (tRel i2)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a1 -&gt;
<span class="kp">eval</span> a1 res -&gt;
P a1 res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f0 args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f0 args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;0</span> : term) (<span class="nv">a1</span> <span class="nv">a&#39;0</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a1 -&gt;
<span class="kp">eval</span> f0 f&#39;0 -&gt;
P f0 f&#39;0 -&gt;
~~
(isLambda f&#39;0 || isFixApp f&#39;0
 || isArityHead f&#39;0) -&gt;
All2 <span class="kp">eval</span> a1 a&#39;0 -&gt;
All2 P a1 a&#39;0 -&gt;
P (tApp f0 a1) (mkApps f&#39;0 a&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 P a a&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk20"><span class="highlight"><span class="nb">clear</span> i0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a1</span> <span class="nv">a&#39;0</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a1 a&#39;0 -&gt;
P a1 a&#39;0 -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;0}) l) res -&gt;
P (tApp f0 (a1 :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res -&gt;
P (lift0 (S i0) body) res -&gt; P (tRel i0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a1 -&gt;
<span class="kp">eval</span> a1 res -&gt;
P a1 res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f0 args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f0 args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;0</span> : term) (<span class="nv">a1</span> <span class="nv">a&#39;0</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a1 -&gt;
<span class="kp">eval</span> f0 f&#39;0 -&gt;
P f0 f&#39;0 -&gt;
~~
(isLambda f&#39;0 || isFixApp f&#39;0
 || isArityHead f&#39;0) -&gt;
All2 <span class="kp">eval</span> a1 a&#39;0 -&gt;
All2 P a1 a&#39;0 -&gt;
P (tApp f0 a1) (mkApps f&#39;0 a&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 P a a&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk21"><span class="highlight"><span class="nb">revert</span> a a&#39; a0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hbeta</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">na</span> : aname)
  (<span class="nv">t</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : term) (<span class="nv">l</span> : list term)
  (<span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (tLambda na t b) -&gt;
P f0 (tLambda na t b) -&gt;
<span class="kp">eval</span> a a&#39; -&gt;
P a a&#39; -&gt;
<span class="kp">eval</span> (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (mkApps (b {<span class="mi">0</span> := a&#39;}) l) res -&gt;
P (tApp f0 (a :: l)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hlet</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">na</span> : aname) (<span class="nv">b0</span> <span class="nv">b0&#39;</span> <span class="nv">t</span> <span class="nv">b1</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> b0 b0&#39; -&gt;
P b0 b0&#39; -&gt;
<span class="kp">eval</span> (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (b1 {<span class="mi">0</span> := b0&#39;}) res -&gt;
P (tLetIn na b0 t b1) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hreldef</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i0</span> : nat) (<span class="nv">body</span> <span class="nv">res</span> : term),
option_map decl_body (nth_error Œì i0) =
Some (Some body) -&gt;
<span class="kp">eval</span> (lift0 (S i0) body) res -&gt;
P (lift0 (S i0) body) res -&gt; P (tRel i0) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hrelvar</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i0</span> : nat,
option_map decl_body (nth_error Œì i0) =
Some None -&gt; P (tRel i0) (tRel i0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcst</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body)
  (<span class="nv">body</span> : term),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : Instance.t) (<span class="nv">res</span> : term),
cst_body decl = Some body -&gt;
<span class="kp">eval</span> (subst_instance u body) res -&gt;
P (subst_instance u body) res -&gt;
P (tConst c u) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hax</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c</span> : kername) (<span class="nv">decl</span> : constant_body),
declared_constant Œ£ c decl -&gt;
<span class="kr">forall</span> <span class="nv">u</span> : <span class="kn">Instance</span>.t,
cst_body decl = None -&gt;
P (tConst c u) (tConst c u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ci</span> : case_info)
  (<span class="nv">mdecl</span> : mutual_inductive_body)
  (<span class="nv">idecl</span> : one_inductive_body)
  (<span class="nv">cdecl</span> : constructor_body) 
  (<span class="nv">discr</span> : term) (<span class="nv">c</span> : nat) 
  (<span class="nv">u</span> : Instance.t) (<span class="nv">args</span> : list term)
  (<span class="nv">p</span> : predicate term)
  (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">br</span> : branch term) (<span class="nv">res</span> : term),
<span class="kr">let</span> <span class="nv">ind</span> := ci_ind ci <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">npar</span> := ci_npar ci <span class="kr">in</span>
<span class="kp">eval</span> discr (mkApps (tConstruct ind c u) args) -&gt;
P discr (mkApps (tConstruct ind c u) args) -&gt;
nth_error brs c = Some br -&gt;
declared_constructor Œ£ (ci_ind ci, c) mdecl
  idecl cdecl -&gt;
<span class="kr">let</span> <span class="nv">bctx</span> := case_branch_context p cdecl <span class="kr">in</span>
#|skipn (ci_npar ci) args| =
context_assumptions bctx -&gt;
<span class="kp">eval</span> (iota_red npar args bctx br) res -&gt;
P (iota_red npar args bctx br) res -&gt;
P (tCase ci p discr brs) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">indnpararg</span> : (inductive √ó nat) √ó nat)
  (<span class="nv">discr</span> : term) (<span class="nv">args</span> : list term)
  (<span class="nv">u</span> : Instance.t) (<span class="nv">a</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
P discr
  (mkApps (tConstruct indnpararg.<span class="mi">1</span>.<span class="mi">1</span> <span class="mi">0</span> u) args) -&gt;
nth_error args (indnpararg.<span class="mi">1</span>.<span class="mi">2</span> + indnpararg.<span class="mi">2</span>) =
Some a -&gt;
<span class="kp">eval</span> a res -&gt;
P a res -&gt; P (tProj indnpararg discr) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat) (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
is_constructor narg (fixargsv ++ argsv) -&gt;
<span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps fn (fixargsv ++ argsv)) res -&gt;
P (mkApps f0 args) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hstuckfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">mfix</span> : mfixpoint term)
  (<span class="nv">idx</span> : nat)
  (<span class="nv">fixargsv</span> <span class="nv">args</span> <span class="nv">argsv</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> : term),
<span class="kp">eval</span> f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
P f0 (mkApps (tFix mfix idx) fixargsv) -&gt;
All2 <span class="kp">eval</span> args argsv -&gt;
All2 P args argsv -&gt;
unfold_fix mfix idx = Some (narg, fn) -&gt;
~~ is_constructor narg (fixargsv ++ argsv) -&gt;
P (mkApps f0 args)
  (mkApps (tFix mfix idx)
     (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixcase</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">ip</span> : case_info)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">p</span> : predicate term)
  (<span class="nv">args</span> : list term) (<span class="nv">narg</span> : nat)
  (<span class="nv">fn</span> : term) (<span class="nv">brs</span> : list (branch term))
  (<span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tCase ip p (mkApps fn args) brs)
  res -&gt;
P (tCase ip p (mkApps fn args) brs) res -&gt;
P
  (tCase ip p
     (mkApps (tCoFix mfix idx) args) brs)
  res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hcofixproj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">p</span> : projection)
  (<span class="nv">mfix</span> : mfixpoint term) 
  (<span class="nv">idx</span> : nat) (<span class="nv">args</span> : list term)
  (<span class="nv">narg</span> : nat) (<span class="nv">fn</span> <span class="nv">res</span> : term),
unfold_cofix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> (tProj p (mkApps fn args)) res -&gt;
P (tProj p (mkApps fn args)) res -&gt;
P
  (tProj p
     (mkApps (tCoFix mfix idx) args)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Happcong</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> <span class="nv">f&#39;0</span> : term) (<span class="nv">a</span> <span class="nv">a&#39;</span> : list term),
~~ isApp f0 -&gt;
~~ is_empty a -&gt;
<span class="kp">eval</span> f0 f&#39;0 -&gt;
P f0 f&#39;0 -&gt;
~~
(isLambda f&#39;0 || isFixApp f&#39;0
 || isArityHead f&#39;0) -&gt;
All2 <span class="kp">eval</span> a a&#39; -&gt;
All2 P a a&#39; -&gt;
P (tApp f0 a) (mkApps f&#39;0 a&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hatom</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eval_evals_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> <span class="nv">t0</span> : term,
<span class="kp">eval</span> t t0 -&gt; P t t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">a&#39;</span> : list term, All2 <span class="kp">eval</span> a a&#39; -&gt; All2 P a a&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kr">fix</span> aux <span class="mi">3</span>; <span class="nb">destruct</span> <span class="mi">1</span>; <span class="nb">constructor</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span></span></pre><div class="doc">
Characterization of values for this reduction relation.
      Only constructors and cofixpoints can accumulate arguments.
      All other values are atoms and cannot have arguments:
<ul class="doclist">
<li> box

</li>
<li> abstractions

</li>
<li> constant constructors

</li>
<li> unapplied fixpoints and cofixpoints

</li>
</ul>
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">value_head</span> <span class="nv">x</span> :=
    isConstruct x || isCoFix x || isAssRel Œì x || isAxiom Œ£ x.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Lemma value_head_atom x : value_head x -&gt; atom x. *)</span>
  <span class="c">(* Proof. destruct x; auto. Qed. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Inductive</span> <span class="nf">value</span> : term -&gt; <span class="kt">Type</span> :=
  | value_atom t : atom t -&gt; value t
  | value_app t l : value_head t -&gt; All value l -&gt; value (mkApps t l)
  | value_stuck_fix f args : All value args -&gt; isStuckFix f args -&gt; value (mkApps f args).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk22"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">value_values_ind</span> : <span class="kr">forall</span> <span class="nv">P</span> : term -&gt; <span class="kt">Type</span>,
      (<span class="kr">forall</span> <span class="nv">t</span>, atom t -&gt; P t) -&gt;
      (<span class="kr">forall</span> <span class="nv">t</span> <span class="nv">l</span>, value_head t -&gt; All value l -&gt; All P l -&gt; P (mkApps t l)) -&gt;
      (<span class="kr">forall</span> <span class="nv">f</span> <span class="nv">args</span>,
          All value args -&gt;
          All P args -&gt;
          isStuckFix f args -&gt;
          P (mkApps f args)) -&gt;
      <span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : term -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t) -&gt;
(<span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
 value_head t -&gt;
 All value l -&gt; All P l -&gt; P (mkApps t l)) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
 All value args -&gt;
 All P args -&gt; isStuckFix f args -&gt; P (mkApps f args)) -&gt;
<span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk23"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">P</span> : term -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t) -&gt;
(<span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
 value_head t -&gt;
 All value l -&gt; All P l -&gt; P (mkApps t l)) -&gt;
(<span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
 All value args -&gt;
 All P args -&gt; isStuckFix f args -&gt; P (mkApps f args)) -&gt;
<span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk24"><span class="highlight"><span class="nb">intros</span> P ???.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk25"><span class="highlight"><span class="kr">fix</span> value_values_ind <span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk26"><span class="highlight"><span class="nb">destruct</span> <span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l</span> : list term),
value_head t0 -&gt;
All value l -&gt; All P l -&gt; P (mkApps t0 l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P t</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk27"><hr></label><div class="goal-conclusion"><span class="highlight">P (mkApps t l)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk28" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args0</span> : list term),
All value args0 -&gt;
All P args0 -&gt;
isStuckFix f0 args0 -&gt; P (mkApps f0 args0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk28"><hr></label><div class="goal-conclusion"><span class="highlight">P (mkApps f args)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk29"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l</span> : list term),
value_head t0 -&gt;
All value l -&gt; All P l -&gt; P (mkApps t0 l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> X; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk2a"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (mkApps t l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk2b"><span class="highlight"><span class="nb">eapply</span> X0; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk2c"><span class="highlight"><span class="nb">revert</span> l a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l</span> : list term),
value_head t0 -&gt;
All value l -&gt; All P l -&gt; P (mkApps t0 l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list term, All value l -&gt; All P l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk2d"><span class="highlight"><span class="kr">fix</span> aux <span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l</span> : list term),
value_head t0 -&gt;
All value l -&gt; All P l -&gt; P (mkApps t0 l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list term, All value l -&gt; All P l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list term, All value l -&gt; All P l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk2e"><span class="highlight"><span class="nb">destruct</span> <span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l</span> : list term),
value_head t0 -&gt;
All value l -&gt; All P l -&gt; P (mkApps t0 l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : list term, All value l -&gt; All P l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P []</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l0</span> : list term, All value l0 -&gt; All P l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk2f"><hr></label><div class="goal-conclusion"><span class="highlight">All P (x :: l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk30"><span class="highlight"><span class="nb">constructor</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l0</span> : list term, All value l0 -&gt; All P l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P (x :: l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk31"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l0</span> : list term, All value l0 -&gt; All P l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk32" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l0</span> : list term, All value l0 -&gt; All P l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk32"><hr></label><div class="goal-conclusion"><span class="highlight">All P l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk33"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> value_values_ind.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, atom t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t0</span> : term) (<span class="nv">l0</span> : list term),
value_head t0 -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t0 l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f args -&gt; P (mkApps f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term, value t0 -&gt; P t0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l0</span> : list term, All value l0 -&gt; All P l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> aux.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk34"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args0</span> : list term),
All value args0 -&gt;
All P args0 -&gt;
isStuckFix f0 args0 -&gt; P (mkApps f0 args0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P (mkApps f args)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk35"><span class="highlight"><span class="nb">eapply</span> X1; <span class="nb">eauto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args0</span> : list term),
All value args0 -&gt;
All P args0 -&gt;
isStuckFix f0 args0 -&gt; P (mkApps f0 args0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P args</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk36"><span class="highlight"><span class="nb">clear</span> i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args0</span> : list term),
All value args0 -&gt;
All P args0 -&gt;
isStuckFix f0 args0 -&gt; P (mkApps f0 args0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P args</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk37"><span class="highlight"><span class="nb">revert</span> args a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term, All value args -&gt; All P args</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk38"><span class="highlight"><span class="kr">fix</span> aux <span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term,
All value args -&gt; All P args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term, All value args -&gt; All P args</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk39"><span class="highlight"><span class="nb">destruct</span> <span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l</span> : list term),
value_head t -&gt;
All value l -&gt; All P l -&gt; P (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term,
All value args -&gt; All P args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P []</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l0</span> : list term),
value_head t -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term,
All value args -&gt; All P args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk3a"><hr></label><div class="goal-conclusion"><span class="highlight">All P (x :: l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk3b"><span class="highlight"><span class="nb">constructor</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l0</span> : list term),
value_head t -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term,
All value args -&gt; All P args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P (x :: l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk3c"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l0</span> : list term),
value_head t -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term,
All value args -&gt; All P args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">P x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk3d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l0</span> : list term),
value_head t -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term,
All value args -&gt; All P args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk3d"><hr></label><div class="goal-conclusion"><span class="highlight">All P l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk3e"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> value_values_ind.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, atom t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">t</span> : term) (<span class="nv">l0</span> : list term),
value_head t -&gt;
All value l0 -&gt; All P l0 -&gt; P (mkApps t l0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">f0</span> : term) (<span class="nv">args</span> : list term),
All value args -&gt;
All P args -&gt;
isStuckFix f0 args -&gt; P (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">value_values_ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term, value t -&gt; P t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aux</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">args</span> : list term,
All value args -&gt; All P args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All P l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> aux.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk3f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">value_head_nApp</span> {<span class="nv">t</span>} : value_head t -&gt; ~~ isApp t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value_head t -&gt; ~~ isApp t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk40"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value_head t -&gt; ~~ isApp t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> t; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Hint Resolve</span> value_head_nApp : core.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk41"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">isStuckfix_nApp</span> {<span class="nv">t</span> <span class="nv">args</span>} : isStuckFix t args -&gt; ~~ isApp t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">isStuckFix t args -&gt; ~~ isApp t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk42"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">isStuckFix t args -&gt; ~~ isApp t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> t; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Hint Resolve</span> isStuckfix_nApp : core.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk43"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">atom_nApp</span> {<span class="nv">t</span>} : atom t -&gt; ~~ isApp t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">atom t -&gt; ~~ isApp t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk44"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">atom t -&gt; ~~ isApp t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> t; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Hint Resolve</span> atom_nApp : core.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk45"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">value_mkApps_inv</span> <span class="nv">t</span> <span class="nv">l</span> :
    ~~ isApp t -&gt;
    value (mkApps t l) -&gt;
    ((l = []) * atom t) + (value_head t * All value l) + (isStuckFix t l * All value l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ isApp t -&gt;
value (mkApps t l) -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk46"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ isApp t -&gt;
value (mkApps t l) -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk47"><span class="highlight"><span class="nb">intros</span> H H&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps t l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t) + (value_head t √ó All value l) +
 (isStuckFix t l √ó All value l))%type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk48"><span class="highlight">generalize_eq x (mkApps t l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x = mkApps t l -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk49"><span class="highlight"><span class="nb">revert</span> t H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term,
~~ isApp t -&gt;
x = mkApps t l -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk4a"><span class="highlight"><span class="nb">induction</span> H&#39; <span class="nb">using</span> value_values_ind.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term,
~~ isApp t0 -&gt;
t = mkApps t0 l -&gt;
(l = [] √ó atom t0) + (value_head t0 √ó All value l) +
(isStuckFix t0 l √ó All value l)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk4b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t0</span> : term,
   ~~ isApp t0 -&gt;
   x = mkApps t0 l -&gt;
   (l = [] √ó atom t0) +
   (value_head t0 √ó All value l) +
   (isStuckFix t0 l √ó All value l)) l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk4b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term,
~~ isApp t0 -&gt;
mkApps t l0 = mkApps t0 l -&gt;
(l = [] √ó atom t0) + (value_head t0 √ó All value l) +
(isStuckFix t0 l √ó All value l)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk4c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t</span> : term,
   ~~ isApp t -&gt;
   x = mkApps t l -&gt;
   (l = [] √ó atom t) +
   (value_head t √ó All value l) +
   (isStuckFix t l √ó All value l)) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk4c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term,
~~ isApp t -&gt;
mkApps f args = mkApps t l -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk4d"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">t = mkApps t0 l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t0) + (value_head t0 √ó All value l) +
 (isStuckFix t0 l √ó All value l))%type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t0</span> : term,
   ~~ isApp t0 -&gt;
   x = mkApps t0 l -&gt;
   (l = [] √ó atom t0) +
   (value_head t0 √ó All value l) +
   (isStuckFix t0 l √ó All value l)) l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk4e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term,
~~ isApp t0 -&gt;
mkApps t l0 = mkApps t0 l -&gt;
(l = [] √ó atom t0) + (value_head t0 √ó All value l) +
(isStuckFix t0 l √ó All value l)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t</span> : term,
   ~~ isApp t -&gt;
   x = mkApps t l -&gt;
   (l = [] √ó atom t) +
   (value_head t √ó All value l) +
   (isStuckFix t l √ó All value l)) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk4f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term,
~~ isApp t -&gt;
mkApps f args = mkApps t l -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk50"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps t0 l))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t0)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t0) + (value_head t0 √ó All value l) +
 (isStuckFix t0 l √ó All value l))%type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t0</span> : term,
   ~~ isApp t0 -&gt;
   x = mkApps t0 l -&gt;
   (l = [] √ó atom t0) +
   (value_head t0 √ó All value l) +
   (isStuckFix t0 l √ó All value l)) l0</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk51"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term,
~~ isApp t0 -&gt;
mkApps t l0 = mkApps t0 l -&gt;
(l = [] √ó atom t0) + (value_head t0 √ó All value l) +
(isStuckFix t0 l √ó All value l)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk52" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t</span> : term,
   ~~ isApp t -&gt;
   x = mkApps t l -&gt;
   (l = [] √ó atom t) +
   (value_head t √ó All value l) +
   (isStuckFix t l √ó All value l)) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk52"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term,
~~ isApp t -&gt;
mkApps f args = mkApps t l -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk53"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps t0 l))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t0)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t0) + (value_head t0 √ó All value l) +
 (isStuckFix t0 l √ó All value l))%type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> atom_mkApps <span class="kr">in</span> H.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk54"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t0</span> : term,
   ~~ isApp t0 -&gt;
   x = mkApps t0 l -&gt;
   (l = [] √ó atom t0) +
   (value_head t0 √ó All value l) +
   (isStuckFix t0 l √ó All value l)) l0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t0</span> : term,
~~ isApp t0 -&gt;
mkApps t l0 = mkApps t0 l -&gt;
(l = [] √ó atom t0) + (value_head t0 √ó All value l) +
(isStuckFix t0 l √ó All value l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk55"><span class="highlight"><span class="nb">intros</span> * isapp appeq.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t1</span> : term,
   ~~ isApp t1 -&gt;
   x = mkApps t1 l -&gt;
   (l = [] √ó atom t1) +
   (value_head t1 √ó All value l) +
   (isStuckFix t1 l √ó All value l)) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isapp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appeq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps t l0 = mkApps t0 l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t0) + (value_head t0 √ó All value l) +
 (isStuckFix t0 l √ó All value l))%type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk56"><span class="highlight"><span class="nb">move</span>: (value_head_nApp H) =&gt; Ht.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t1</span> : term,
   ~~ isApp t1 -&gt;
   x = mkApps t1 l -&gt;
   (l = [] √ó atom t1) +
   (value_head t1 √ó All value l) +
   (isStuckFix t1 l √ó All value l)) l0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isapp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appeq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps t l0 = mkApps t0 l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t0) + (value_head t0 √ó All value l) +
 (isStuckFix t0 l √ó All value l))%type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> mkApps_eq_inj <span class="kr">in</span> appeq; <span class="nb">intuition</span> <span class="nb">subst</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk57"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t</span> : term,
   ~~ isApp t -&gt;
   x = mkApps t l -&gt;
   (l = [] √ó atom t) +
   (value_head t √ó All value l) +
   (isStuckFix t l √ó All value l)) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">t</span> : term,
~~ isApp t -&gt;
mkApps f args = mkApps t l -&gt;
(l = [] √ó atom t) + (value_head t √ó All value l) +
(isStuckFix t l √ó All value l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk58"><span class="highlight"><span class="nb">intros</span> * isapp appeq.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t0</span> : term,
   ~~ isApp t0 -&gt;
   x = mkApps t0 l -&gt;
   (l = [] √ó atom t0) +
   (value_head t0 √ó All value l) +
   (isStuckFix t0 l √ó All value l)) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isapp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appeq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps f args = mkApps t l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t) + (value_head t √ó All value l) +
 (isStuckFix t l √ó All value l))%type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk59"><span class="highlight"><span class="nb">move</span>: (isStuckfix_nApp H) =&gt; Hf.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All
  (<span class="kr">fun</span> <span class="nv">x</span> : term =&gt;
   <span class="kr">forall</span> <span class="nv">t0</span> : term,
   ~~ isApp t0 -&gt;
   x = mkApps t0 l -&gt;
   (l = [] √ó atom t0) +
   (value_head t0 √ó All value l) +
   (isStuckFix t0 l √ó All value l)) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isapp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appeq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps f args = mkApps t l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l = [] √ó atom t) + (value_head t √ó All value l) +
 (isStuckFix t l √ó All value l))%type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> mkApps_eq_inj <span class="kr">in</span> appeq; <span class="nb">intuition</span> <span class="nb">subst</span>; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk5a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">value_mkApps_values</span> <span class="nv">t</span> <span class="nv">l</span> :
    value (mkApps t l) -&gt;
    ~~ isApp t -&gt;
    All value l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps t l) -&gt; ~~ isApp t -&gt; All value l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk5b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps t l) -&gt; ~~ isApp t -&gt; All value l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk5c"><span class="highlight"><span class="nb">intros</span> val not_app.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">val</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">not_app</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">apply</span> value_mkApps_inv <span class="kr">in</span> val <span class="kr">as</span> [[(-&gt; &amp; ?)|]|].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre><div class="doc">
The codomain of evaluation is only values: 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight">  <span class="c">(*     It means no redex can remain at the head of an evaluated term. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk5d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">isFixApp_mkApps</span> <span class="nv">f</span> <span class="nv">args</span> : ~~ isApp f -&gt; isFixApp (mkApps f args) = isFixApp f.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ isApp f -&gt; isFixApp (mkApps f args) = isFixApp f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk5e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ isApp f -&gt; isFixApp (mkApps f args) = isFixApp f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk5f"><span class="highlight"><span class="nb">move</span>=&gt; Hf.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">isFixApp (mkApps f args) = isFixApp f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk60"><span class="highlight"><span class="nb">rewrite</span> /isFixApp !decompose_app_mkApps // /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> f <span class="kr">with</span>
| tFix _ _ =&gt; true
| _ =&gt; false
<span class="kr">end</span> =
<span class="kr">match</span> (decompose_app f).<span class="mi">1</span> <span class="kr">with</span>
| tFix _ _ =&gt; true
| _ =&gt; false
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk61"><span class="highlight"><span class="nb">change</span> f <span class="kr">with</span> (mkApps f []) <span class="nb">at</span> <span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> f <span class="kr">with</span>
| tFix _ _ =&gt; true
| _ =&gt; false
<span class="kr">end</span> =
<span class="kr">match</span> (decompose_app (mkApps f [])).<span class="mi">1</span> <span class="kr">with</span>
| tFix _ _ =&gt; true
| _ =&gt; false
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> !decompose_app_mkApps // /=.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk62"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eval_to_value</span> <span class="nv">e</span> <span class="nv">e&#39;</span> : <span class="kp">eval</span> e e&#39; -&gt; value e&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> e e&#39; -&gt; value e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk63"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> e e&#39; -&gt; value e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk64"><span class="highlight"><span class="nb">intros</span> eve.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e, e'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> e e&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value e&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk65"><span class="highlight"><span class="nb">induction</span> eve <span class="nb">using</span> eval_evals_ind; <span class="nb">simpl</span>; <span class="nb">intros</span>; <span class="nb">auto using</span> value.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">option_map decl_body (nth_error Œì i) = Some None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (tRel i)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk66" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk66"><hr></label><div class="goal-conclusion"><span class="highlight">value (tConst c u)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk67"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk68" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value f&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk68"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps f&#39; a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk69"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">option_map decl_body (nth_error Œì i) = Some None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (tRel i)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk6a"><span class="highlight"><span class="nb">eapply</span> (value_app (tRel i) []).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">option_map decl_body (nth_error Œì i) = Some None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (value_head (tRel i))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk6b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">option_map decl_body (nth_error Œì i) = Some None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk6b"><hr></label><div class="goal-conclusion"><span class="highlight">All value []</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk6c"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> /value_head /= H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">option_map decl_body (nth_error Œì i) = Some None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value []</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk6d"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk6e"><span class="highlight"><span class="nb">eapply</span> (value_app (tConst c u) []).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (value_head (tConst c u))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk6f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk6f"><hr></label><div class="goal-conclusion"><span class="highlight">All value []</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk70"><span class="highlight"><span class="nb">red</span> <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c = Some (ConstantDecl decl)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (value_head (tConst c u))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk71"><hr></label><div class="goal-conclusion"><span class="highlight">All value []</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk72"><span class="highlight"><span class="nb">rewrite</span> /value_head /= H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c = Some (ConstantDecl decl)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  <span class="kr">match</span> decl <span class="kr">with</span>
  | {| cst_body := Some _ |} =&gt; false
  | {| cst_body := None |} =&gt; true
  <span class="kr">end</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk73"><hr></label><div class="goal-conclusion"><span class="highlight">All value []</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk74"><span class="highlight"><span class="nb">destruct</span> decl <span class="kr">as</span> [? [b|] ?]; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body
  {|
  cst_type := cst_type0;
  cst_body := None;
  cst_universes := cst_universes0 |} = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true true</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk75" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk75"><hr></label><div class="goal-conclusion"><span class="highlight">All value []</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk76"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value []</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk77"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk78"><span class="highlight"><span class="nb">eapply</span> value_stuck_fix.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value (fixargsv ++ argsv)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk79"><hr></label><div class="goal-conclusion"><span class="highlight">is_true
  (isStuckFix (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk7a"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value (fixargsv ++ argsv)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk7b"><span class="highlight"><span class="nb">apply</span> All_app_inv.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value fixargsv</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk7c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk7c"><hr></label><div class="goal-conclusion"><span class="highlight">All value argsv</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk7d"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value fixargsv</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> value_mkApps_values.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk7e"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value argsv</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> All2_All_right.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk7f"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (isStuckFix (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk80"><span class="highlight"><span class="nb">unfold</span> isStuckFix.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  <span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
  | Some (narg0, _) =&gt;
      ~~ is_constructor narg0 (fixargsv ++ argsv)
  | None =&gt; false
  <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> H.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk81"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">e&#39;</span> : term =&gt; value e&#39;) a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value f&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps f&#39; a&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk82"><span class="highlight"><span class="nb">apply</span> All2_right <span class="kr">in</span> X0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value f&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps f&#39; a&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk83"><span class="highlight">depelim IHeve.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps t a&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk84" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk84"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps t l) a&#39;)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk85" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk85"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk86"><span class="highlight"><span class="nb">destruct</span> t; <span class="nb">simpl</span> <span class="kr">in</span> * |- *; <span class="kp">try</span> <span class="bp">congruence</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">inductive</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (tConstruct ind idx u)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps (tConstruct ind idx u) a&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk87" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (tCoFix mfix idx)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk87"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (tCoFix mfix idx) a&#39;)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk88" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk88"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps t l) a&#39;)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk89" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk89"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk8a"><span class="highlight"><span class="nb">eapply</span> value_app; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (tCoFix mfix idx)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps (tCoFix mfix idx) a&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk8b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk8b"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps t l) a&#39;)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk8c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk8c"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk8d"><span class="highlight"><span class="nb">eapply</span> value_app; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps t l) a&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk8e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk8e"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk8f"><span class="highlight"><span class="nb">rewrite</span> mkApps_nested.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps t (l ++ a&#39;))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk90" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk90"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk91"><span class="highlight"><span class="nb">eapply</span> value_app.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (value_head t)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk92" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk92"><hr></label><div class="goal-conclusion"><span class="highlight">All value (l ++ a&#39;)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk93" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk93"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk94"><span class="highlight"><span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps t l)
    || isFixApp (mkApps t l)
    || isArityHead (mkApps t l)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value (l ++ a&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk95" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk95"><hr></label><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk96"><span class="highlight"><span class="nb">eapply</span> All_app_inv; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps (mkApps f0 args) a&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk97"><span class="highlight"><span class="nb">rewrite</span> mkApps_nested.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value (mkApps f0 (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk98"><span class="highlight"><span class="nb">eapply</span> value_stuck_fix.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value (args ++ a&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk99" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk99"><hr></label><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix f0 (args ++ a&#39;))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk9a"><span class="highlight"><span class="nb">eapply</span> All_app_inv; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args)
    || isFixApp (mkApps f0 args)
    || isArityHead (mkApps f0 args)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix f0 (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk9b"><span class="highlight"><span class="nb">rewrite</span> isFixApp_mkApps <span class="kr">in</span> H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ isApp f0)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk9c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args) || isFixApp f0
    || isArityHead (mkApps f0 args)))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk9c"><hr></label><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix f0 (args ++ a&#39;))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk9d"><span class="highlight"><span class="nb">destruct</span> f0; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f0 args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps f0 args) || isFixApp f0
    || isArityHead (mkApps f0 args)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix f0 (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk9e"><span class="highlight"><span class="nb">destruct</span> f0; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix (tFix mfix idx) args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps (tFix mfix idx) args)
    || isFixApp (tFix mfix idx)
    || isArityHead (mkApps (tFix mfix idx) args)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix (tFix mfix idx) (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk9f"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
  | Some (narg, _) =&gt; ~~ is_constructor narg args
  | None =&gt; false
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps (tFix mfix idx) args)
    || isFixApp (tFix mfix idx)
    || isArityHead (mkApps (tFix mfix idx) args)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix (tFix mfix idx) (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka0"><span class="highlight"><span class="nb">rewrite</span> /isFixApp <span class="kr">in</span> H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
  | Some (narg, _) =&gt; ~~ is_constructor narg args
  | None =&gt; false
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps (tFix mfix idx) args)
    || <span class="kr">match</span>
         (decompose_app (tFix mfix idx)).<span class="mi">1</span>
       <span class="kr">with</span>
       | tFix _ _ =&gt; true
       | _ =&gt; false
       <span class="kr">end</span>
    || isArityHead (mkApps (tFix mfix idx) args)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix (tFix mfix idx) (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka1"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
  | Some (narg, _) =&gt; ~~ is_constructor narg args
  | None =&gt; false
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (mkApps (tFix mfix idx) args)
    || true
    || isArityHead (mkApps (tFix mfix idx) args)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix (tFix mfix idx) (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka2"><span class="highlight"><span class="nb">rewrite</span> orb_true_r orb_true_l <span class="kr">in</span> H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a, a'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_empty a)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eve</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) args)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> a a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value a&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
  | Some (narg, _) =&gt; ~~ is_constructor narg args
  | None =&gt; false
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ true)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (isStuckFix (tFix mfix idx) (args ++ a&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">easy</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">value_head_spec</span> <span class="nv">t</span> :
    implb (value_head t) (~~ (isLambda t || isFixApp t || isArityHead t)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (value_head t ==&gt;
   ~~ (isLambda t || isFixApp t || isArityHead t))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (value_head t ==&gt;
   ~~ (isLambda t || isFixApp t || isArityHead t))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> t; <span class="nb">simpl</span>; <span class="nb">intuition</span> <span class="nb">auto</span>; <span class="nb">eapply</span> implybT.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">value_head_final</span> <span class="nv">t</span> :
    value_head t -&gt;
    ~~ (isLambda t || isFixApp t || isArityHead t) -&gt;
    <span class="kp">eval</span> t t.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value_head t -&gt;
~~ (isLambda t || isFixApp t || isArityHead t) -&gt;
<span class="kp">eval</span> t t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value_head t -&gt;
~~ (isLambda t || isFixApp t || isArityHead t) -&gt;
<span class="kp">eval</span> t t</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chka7"><span class="highlight"><span class="nb">destruct</span> t; <span class="nb">intros</span> vt nt; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tRel n))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tRel n) || isFixApp (tRel n)
    || isArityHead (tRel n)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tRel n) (tRel n)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chka8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tConst c u))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chka8"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chka9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">inductive</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tConstruct ind idx u))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConstruct ind idx u)
    || isFixApp (tConstruct ind idx u)
    || isArityHead (tConstruct ind idx u)))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chka9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConstruct ind idx u) (tConstruct ind idx u)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkaa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tCoFix mfix idx))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tCoFix mfix idx)
    || isFixApp (tCoFix mfix idx)
    || isArityHead (tCoFix mfix idx)))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkaa"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tCoFix mfix idx) (tCoFix mfix idx)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkab"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tRel n))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tRel n) || isFixApp (tRel n)
    || isArityHead (tRel n)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tRel n) (tRel n)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkac"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tRel n))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tRel n) || isFixApp (tRel n)
    || isArityHead (tRel n)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">option_map decl_body (nth_error Œì n) = Some None</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkad"><span class="highlight"><span class="nb">unfold</span> value_head <span class="kr">in</span> vt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (isConstruct (tRel n) || isCoFix (tRel n)
   || isAssRel Œì (tRel n) || isAxiom Œ£ (tRel n))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tRel n) || isFixApp (tRel n)
    || isArityHead (tRel n)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">option_map decl_body (nth_error Œì n) = Some None</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkae"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> vt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (<span class="kr">match</span>
     option_map decl_body (nth_error Œì n)
   <span class="kr">with</span>
   | Some None =&gt; true
   | _ =&gt; false
   <span class="kr">end</span> || false)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tRel n) || isFixApp (tRel n)
    || isArityHead (tRel n)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">option_map decl_body (nth_error Œì n) = Some None</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">destruct</span> option_map <span class="kr">as</span> [[o|]|] =&gt; //.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkaf"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tConst c u))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb0"><span class="highlight"><span class="nb">unfold</span> value_head <span class="kr">in</span> vt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (isConstruct (tConst c u)
   || isCoFix (tConst c u)
   || isAssRel Œì (tConst c u)
   || isAxiom Œ£ (tConst c u))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb1"><span class="highlight"><span class="nb">simpl</span> <span class="kr">in</span> vt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> lookup_env Œ£ c <span class="kr">with</span>
  | Some (ConstantDecl {| cst_body := None |}) =&gt;
      true
  | _ =&gt; false
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb2"><span class="highlight"><span class="nb">destruct</span> lookup_env <span class="nb">eqn</span>:Heq =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c = Some g</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> g <span class="kr">with</span>
  | ConstantDecl {| cst_body := None |} =&gt; true
  | _ =&gt; false
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb3"><span class="highlight"><span class="nb">destruct</span> g <span class="nb">eqn</span>:Heq&#39; =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">g = ConstantDecl c0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c = Some (ConstantDecl c0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> c0 <span class="kr">with</span>
  | {| cst_body := Some _ |} =&gt; false
  | {| cst_body := None |} =&gt; true
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb4"><span class="highlight"><span class="nb">destruct</span> c0 <span class="kr">as</span> [? [b|] ?] <span class="nb">eqn</span>:Heq&#39;&#39; =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c0 =
{|
cst_type := cst_type0;
cst_body := None;
cst_universes := cst_universes0 |}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">g =
ConstantDecl
  {|
  cst_type := cst_type0;
  cst_body := None;
  cst_universes := cst_universes0 |}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb5"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb6"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) (tConst c u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb7"><span class="highlight"><span class="nb">eapply</span> eval_axiom.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">declared_constant Œ£ c <span class="nl">?decl</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkb8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkb8"><hr></label><div class="goal-conclusion"><span class="highlight">cst_body <span class="nl">?decl</span> = None</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkb9"><span class="highlight"><span class="nb">red</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lookup_env Œ£ c = Some (ConstantDecl <span class="nl">?decl</span>)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkba"><hr></label><div class="goal-conclusion"><span class="highlight">cst_body <span class="nl">?decl</span> = None</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkbb"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> Heq.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_type0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cst_universes0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">universes_decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Heq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lookup_env Œ£ c =
Some
  (ConstantDecl
     {|
     cst_type := cst_type0;
     cst_body := None;
     cst_universes := cst_universes0 |})</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true true</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConst c u)
    || isFixApp (tConst c u)
    || isArityHead (tConst c u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cst_body
  {|
  cst_type := cst_type0;
  cst_body := None;
  cst_universes := cst_universes0 |} = None</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">easy</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkbc"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ind</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">inductive</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tConstruct ind idx u))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tConstruct ind idx u)
    || isFixApp (tConstruct ind idx u)
    || isArityHead (tConstruct ind idx u)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConstruct ind idx u) (tConstruct ind idx u)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> eval_atom.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkbd"><span class="highlight">*</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head (tCoFix mfix idx))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nt</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   (isLambda (tCoFix mfix idx)
    || isFixApp (tCoFix mfix idx)
    || isArityHead (tCoFix mfix idx)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tCoFix mfix idx) (tCoFix mfix idx)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> eval_atom.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkbe"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">value_final</span> <span class="nv">e</span> : value e -&gt; <span class="kp">eval</span> e e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value e -&gt; <span class="kp">eval</span> e e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkbf"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">value e -&gt; <span class="kp">eval</span> e e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc0"><span class="highlight"><span class="nb">induction</span> <span class="mi">1</span> <span class="nb">using</span> value_values_ind; <span class="nb">simpl</span>; <span class="nb">auto using</span> value.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> t t</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkc1"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkc2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkc2"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f args) (mkApps f args)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc3"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> t t</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">constructor</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc4"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc5"><span class="highlight"><span class="nb">assert</span> (All2 <span class="kp">eval</span> l l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> l l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkc6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkc6"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc7"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> l l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc8"><span class="highlight"><span class="nb">induction</span> X0; <span class="nb">constructor</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value (x :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHX0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt; All2 <span class="kp">eval</span> l l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> l l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkc9"><span class="highlight"><span class="nb">eapply</span> IHX0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value (x :: l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHX0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt; All2 <span class="kp">eval</span> l l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All value l</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">inversion</span> X.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkca"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkcb"><span class="highlight"><span class="nb">move</span>/implyP: (value_head_spec t).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(value_head t -&gt;
 ~~ (isLambda t || isFixApp t || isArityHead t)) -&gt;
<span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkcc"><span class="highlight"><span class="nb">move</span>/(_ H) =&gt; Ht.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkcd"><span class="highlight"><span class="nb">induction</span> l <span class="nb">using</span> rev_ind.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t []) (mkApps t [])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkce" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkce"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkcf"><span class="highlight"><span class="nb">simpl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> t t</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkd0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkd0"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd1"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> value_head_final.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd2"><span class="highlight"><span class="nb">eapply</span> All_app <span class="kr">in</span> X <span class="kr">as</span> [Hl Hx].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd3"><span class="highlight">inv Hx.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd4"><span class="highlight"><span class="nb">eapply</span> All_app <span class="kr">in</span> X0 <span class="kr">as</span> [Hl&#39; Hx&#39;].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd5"><span class="highlight">inv Hx&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd6"><span class="highlight"><span class="nb">eapply</span> All2_app_r <span class="kr">in</span> X1 <span class="kr">as</span> [Hl&#39;&#39; Hx&#39;&#39;].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd7"><span class="highlight"><span class="nb">pose proof</span> (value_head_nApp H).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkd8"><span class="highlight"><span class="nb">rewrite</span> -{<span class="mi">1</span>}mkApps_tApp =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_empty (l ++ [x]))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkd9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkd9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tApp t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkda"><span class="highlight"><span class="nb">rewrite</span> is_empty_app /= // andb_false_r //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tApp t (l ++ [x])) (mkApps t (l ++ [x]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkdb"><span class="highlight"><span class="nb">eapply</span> eval_app_cong; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_empty (l ++ [x]))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkdc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkdc"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> t t</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkdd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkdd"><hr></label><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkde"><span class="highlight"><span class="nb">rewrite</span> is_empty_app /= andb_false_r //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> t t</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkdf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkdf"><hr></label><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke0"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> value_head_final.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ht</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ (isLambda t || isFixApp t || isArityHead t))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l -&gt;
All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l -&gt;
All2 <span class="kp">eval</span> l l -&gt; <span class="kp">eval</span> (mkApps t l) (mkApps t l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) [x]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) []</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hx''</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp t)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (l ++ [x])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> All2_app; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke1"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix f args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f args) (mkApps f args)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke2"><span class="highlight"><span class="nb">destruct</span> f; <span class="kp">try</span> <span class="bp">discriminate</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (isStuckFix (tFix mfix idx) args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) args)
  (mkApps (tFix mfix idx) args)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke3"><span class="highlight"><span class="nb">unfold</span> isStuckFix <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
  | Some (narg, _) =&gt; ~~ is_constructor narg args
  | None =&gt; false
  <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) args)
  (mkApps (tFix mfix idx) args)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke4"><span class="highlight"><span class="nb">destruct</span> (unfold_fix _ _) <span class="kr">as</span> [(? &amp; ?)|] <span class="nb">eqn</span>:uf; [|<span class="bp">easy</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) args)
  (mkApps (tFix mfix idx) args)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke5"><span class="highlight"><span class="nb">eapply</span> (eval_fix_value _ _ _ []).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tFix mfix idx) (mkApps (tFix mfix idx) [])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chke6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chke6"><hr></label><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> args args</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chke7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chke7"><hr></label><div class="goal-conclusion"><span class="highlight">unfold_fix mfix idx = Some (<span class="nl">?narg</span>, <span class="nl">?fn</span>)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chke8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chke8"><hr></label><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor <span class="nl">?narg</span> ([] ++ args))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chke9"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tFix mfix idx) (mkApps (tFix mfix idx) [])</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> eval_atom.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkea"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> args args</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">eapply</span> All_All2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkeb"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unfold_fix mfix idx = Some (<span class="nl">?narg</span>, <span class="nl">?fn</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">easy</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkec"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All value args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All (<span class="kr">fun</span> <span class="nv">e</span> : term =&gt; <span class="kp">eval</span> e e) args</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (n, t)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor n args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor n ([] ++ args))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">easy</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* (** Evaluation preserves closedness: *) *)</span>
  <span class="c">(* Lemma eval_closed : forall n t u, closedn n t = true -&gt; eval t u -&gt; closedn n u = true. *)</span>
  <span class="c">(* Proof. *)</span>
  <span class="c">(*   induction 2 using eval_ind; simpl in *; auto. eapply IHeval3. *)</span>
  <span class="c">(*   admit. *)</span>
  <span class="c">(* Admitted. (* closedness of evaluates for Eterms, not needed for verification *) *)</span>

  <span class="c">(* Lemma eval_tApp_tFix_inv mfix idx a v : *)</span>
  <span class="c">(*   eval (tApp (tFix mfix idx) a) v -&gt; *)</span>
  <span class="c">(*   (exists fn arg, *)</span>
  <span class="c">(*       (unfold_fix mfix idx = Some (arg, fn)) * *)</span>
  <span class="c">(*       (eval (tApp fn a) v)). *)</span>
  <span class="c">(* Proof. *)</span>
  <span class="c">(*   intros H; depind H; try solve_discr. *)</span>
  <span class="c">(*   - depelim H. *)</span>
  <span class="c">(*   - depelim H. *)</span>
  <span class="c">(*   - eexists _, _; firstorder eauto. *)</span>
  <span class="c">(*   - now depelim H. *)</span>
  <span class="c">(*   - discriminate. *)</span>
  <span class="c">(* Qed. *)</span>

  <span class="c">(* Lemma eval_tRel n t : *)</span>
  <span class="c">(*   eval (tRel n) t -&gt; *)</span>
  <span class="c">(*   (match option_map decl_body (nth_error Œì n) with *)</span>
  <span class="c">(*    | Some (Some b) =&gt; eval (lift0 (S n) b) t *)</span>
  <span class="c">(*    | _ =&gt; t = (tRel n) *)</span>
  <span class="c">(*    end). *)</span>
  <span class="c">(* Proof. *)</span>
  <span class="c">(*   intros H; depind H; try rewrite e; try solve_discr&#39;; try now easy. *)</span>
  <span class="c">(*   destruct (mkApps_elim f args). *)</span>
  <span class="c">(*   change (tRel n) with (mkApps (tRel n) []) in x. *)</span>
  <span class="c">(*   eapply mkApps_eq_inj in x =&gt; //. intuition subst. constructor. simpl in x. rewrite firstn_nil in H, IHeval1. *)</span>
  <span class="c">(*   specialize (IHeval1 _ eq_refl). rewrite skipn_nil in e0. discriminate. *)</span>
  <span class="c">(*   change (tRel n) with (mkApps (tRel n) []) in x. *)</span>
  <span class="c">(*   eapply mkApps_eq_inj in x =&gt; //. intuition subst. specialize (IHeval _ eq_refl). *)</span>
  <span class="c">(*   destruct option_map as [[o|]|] =&gt; //. depelim a. simpl in i. simpl. auto. *)</span>
  <span class="c">(*   eapply mkApps_nisApp in x =&gt; //. intuition subst =&gt; //. *)</span>
  <span class="c">(* Qed. *)</span>

  <span class="c">(* Lemma eval_tVar i t : eval (tVar i) t -&gt; False. *)</span>
  <span class="c">(* Proof. *)</span>
  <span class="c">(*   intros H; depind H; try solve_discr; try now easy. *)</span>
  <span class="c">(*   eapply mkApps_nisApp in x =&gt; //; intuition subst; auto. discriminate. *)</span>
  <span class="c">(*   eapply mkApps_nisApp in x =&gt; //; intuition subst; auto. depelim a. eauto. *)</span>
  <span class="c">(* Qed. *)</span>

  <span class="c">(* Lemma eval_tEvar n l t : eval (tEvar n l) t -&gt; False. *)</span>
  <span class="c">(*                         (* exists l&#39;, All2 eval l l&#39; /\ (t = tEvar n l&#39;). *) *)</span>
  <span class="c">(* Proof. *)</span>
  <span class="c">(*   intros H; depind H; try solve_discr; try now easy. *)</span>
  <span class="c">(*   eapply mkApps_nisApp in x =&gt; //; intuition subst; auto. discriminate. *)</span>
  <span class="c">(*   eapply mkApps_nisApp in x =&gt; //; intuition subst; auto. eauto. *)</span>
  <span class="c">(* Qed. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">Signature</span> <span class="kr">for</span> All2.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chked"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eval_atom_inj</span> <span class="nv">t</span> <span class="nv">t&#39;</span> : atom t -&gt; <span class="kp">eval</span> t t&#39; -&gt; t = t&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">atom t -&gt; <span class="kp">eval</span> t t&#39; -&gt; t = t&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkee"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t, t'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">atom t -&gt; <span class="kp">eval</span> t t&#39; -&gt; t = t&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkef"><span class="highlight"><span class="nb">intros</span> Ha H; depind H; <span class="kp">try</span> solve_discr&#39;; <span class="kp">try</span> <span class="bp">now</span> <span class="bp">easy</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps f args))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom f -&gt;
f = mkApps (tFix mfix idx) fixargsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom (mkApps fn (fixargsv ++ argsv)) -&gt;
mkApps fn (fixargsv ++ argsv) = res</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps f args = res</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chkf0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps f args))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom f -&gt; f = mkApps (tFix mfix idx) fixargsv</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chkf0"><hr></label><div class="goal-conclusion"><span class="highlight">mkApps f args =
mkApps (tFix mfix idx) (fixargsv ++ argsv)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf1"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps f args))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom f -&gt;
f = mkApps (tFix mfix idx) fixargsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom (mkApps fn (fixargsv ++ argsv)) -&gt;
mkApps fn (fixargsv ++ argsv) = res</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps f args = res</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf2"><span class="highlight"><span class="nb">eapply</span> atom_mkApps <span class="kr">in</span> Ha; <span class="nb">intuition</span> <span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) fixargsv)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom (mkApps fn (fixargsv ++ argsv)) -&gt;
mkApps fn (fixargsv ++ argsv) = res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps (tFix mfix idx) fixargsv))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) fixargsv) [] = res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf3"><span class="highlight">depelim a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) fixargsv)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom (mkApps fn (fixargsv ++ [])) -&gt;
mkApps fn (fixargsv ++ []) = res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps (tFix mfix idx) fixargsv))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) fixargsv) [] = res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf4"><span class="highlight"><span class="nb">apply</span> atom_mkApps <span class="kr">in</span> H2 <span class="kr">as</span> (-&gt; &amp; ?).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) [])
  (mkApps (tFix mfix idx) [])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom (mkApps fn ([] ++ [])) -&gt;
mkApps fn ([] ++ []) = res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn ([] ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg ([] ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (tFix mfix idx))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) []) [] = res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf5"><span class="highlight"><span class="nb">unfold</span> is_constructor <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) [])
  (mkApps (tFix mfix idx) [])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom (mkApps fn ([] ++ [])) -&gt;
mkApps fn ([] ++ []) = res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn ([] ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  <span class="kr">match</span> nth_error ([] ++ []) narg <span class="kr">with</span>
  | Some a =&gt; isConstruct_app a
  | None =&gt; false
  <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (tFix mfix idx))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) []) [] = res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> nth_error_nil <span class="kr">in</span> i.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf6"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ha</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps f args))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">atom f -&gt; f = mkApps (tFix mfix idx) fixargsv</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps f args =
mkApps (tFix mfix idx) (fixargsv ++ argsv)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf7"><span class="highlight"><span class="nb">eapply</span> atom_mkApps <span class="kr">in</span> Ha; <span class="nb">intuition</span> <span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) fixargsv)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps (tFix mfix idx) fixargsv))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) fixargsv) [] =
mkApps (tFix mfix idx) (fixargsv ++ argsv)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf8"><span class="highlight">depelim a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) fixargsv)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (mkApps (tFix mfix idx) fixargsv))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) fixargsv) [] =
mkApps (tFix mfix idx) (fixargsv ++ [])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkf9"><span class="highlight"><span class="nb">apply</span> atom_mkApps <span class="kr">in</span> H1 <span class="kr">as</span> (-&gt; &amp; ?).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) [])
  (mkApps (tFix mfix idx) [])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor narg ([] ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (tFix mfix idx))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) []) [] =
mkApps (tFix mfix idx) ([] ++ [])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkfa"><span class="highlight"><span class="nb">unfold</span> is_constructor <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps (tFix mfix idx) [])
  (mkApps (tFix mfix idx) [])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~
   <span class="kr">match</span> nth_error ([] ++ []) narg <span class="kr">with</span>
   | Some a =&gt; isConstruct_app a
   | None =&gt; false
   <span class="kr">end</span>)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (tFix mfix idx))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">mkApps (mkApps (tFix mfix idx) []) [] =
mkApps (tFix mfix idx) ([] ++ [])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> nth_error_nil <span class="kr">in</span> i.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Derive</span> <span class="nf">Signature</span> <span class="kr">for</span> <span class="kp">eval</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkfb"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eval_to_stuck_fix_inv</span> <span class="nv">mfix</span> <span class="nv">idx</span> <span class="nv">narg</span> <span class="nv">fn</span> <span class="nv">t</span> <span class="nv">args</span> :
    unfold_fix mfix idx = Some (narg, fn) -&gt;
    <span class="kp">eval</span> t (mkApps (tFix mfix idx) args) -&gt;
    ~~is_constructor narg args.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unfold_fix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> t (mkApps (tFix mfix idx) args) -&gt;
~~ is_constructor narg args</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkfc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">unfold_fix mfix idx = Some (narg, fn) -&gt;
<span class="kp">eval</span> t (mkApps (tFix mfix idx) args) -&gt;
~~ is_constructor narg args</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkfd"><span class="highlight"><span class="nb">intros</span> uf ev.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ev</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> t (mkApps (tFix mfix idx) args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor narg args)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkfe"><span class="highlight"><span class="nb">apply</span> eval_to_value <span class="kr">in</span> ev.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ev</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">value (mkApps (tFix mfix idx) args)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor narg args)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chkff"><span class="highlight"><span class="nb">apply</span> value_mkApps_inv <span class="kr">in</span> ev <span class="kr">as</span> [[(-&gt; &amp; ?)|]|]; <span class="kp">try</span> <span class="bp">easy</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (tFix mfix idx))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor narg [])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk100" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">isStuckFix (tFix mfix idx) args * All value args</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk100"><hr></label><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor narg args)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk101"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (tFix mfix idx))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor narg [])</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk102"><span class="highlight"><span class="nb">unfold</span> is_constructor <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (atom (tFix mfix idx))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (~~
   <span class="kr">match</span> nth_error [] narg <span class="kr">with</span>
   | Some a =&gt; isConstruct_app a
   | None =&gt; false
   <span class="kr">end</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> nth_error_nil.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk103"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">isStuckFix (tFix mfix idx) args * All value args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor narg args)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk104"><span class="highlight"><span class="nb">unfold</span> isStuckFix <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx, narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">args</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">uf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">match</span> unfold_fix mfix idx <span class="kr">with</span>
| Some (narg0, _) =&gt; ~~ is_constructor narg0 args
| None =&gt; false
<span class="kr">end</span> * All value args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_constructor narg args)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> uf <span class="kr">in</span> p.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk105"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eval_LetIn</span> {<span class="nv">n</span> <span class="nv">b</span> <span class="nv">ty</span> <span class="nv">t</span> <span class="nv">v</span>} :
    <span class="kp">eval</span> (tLetIn n b ty t) v -&gt;
    ‚àë b&#39;,
      <span class="kp">eval</span> b b&#39; * <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) v.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tLetIn n b ty t) v -&gt;
‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk106"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t, v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tLetIn n b ty t) v -&gt;
‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) v</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk107"><span class="highlight"><span class="nb">intros</span> H; depind H; <span class="kp">try</span> solve_discr&#39;; <span class="kp">try</span> <span class="bp">now</span> <span class="bp">easy</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tLetIn n b ty t = mkApps f args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) res</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk108" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tLetIn n b ty t = mkApps f args</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk108"><hr></label><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term,
  <span class="kp">eval</span> b b&#39;
  √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;})
      (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk109"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tLetIn n b ty t = mkApps f args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) res</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk10a"><span class="highlight"><span class="nb">symmetry in</span> H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps f args = tLetIn n b ty t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) res</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk10b"><span class="highlight"><span class="nb">apply</span> mkApps_nisApp <span class="kr">in</span> H1 =&gt; //; <span class="nb">intuition</span> <span class="nb">subst</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tLetIn n b ty t)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := tLetIn n b ty t;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk10c"><span class="highlight">depelim a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tLetIn n b ty t)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := tLetIn n b ty t;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ []);
pr2 := res |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk10d"><span class="highlight"><span class="nb">eapply</span> eval_to_stuck_fix_inv <span class="kr">in</span> H; [|<span class="bp">easy</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := tLetIn n b ty t;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ []);
pr2 := res |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor narg fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk10e"><span class="highlight"><span class="nb">apply</span> negb_true_iff <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := tLetIn n b ty t;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ []);
pr2 := res |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_constructor narg fixargsv = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term, <span class="kp">eval</span> b b&#39; √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;}) res</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> app_nil_r <span class="kr">in</span> i.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk10f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tLetIn n b ty t = mkApps f args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term,
  <span class="kp">eval</span> b b&#39;
  √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;})
      (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk110"><span class="highlight"><span class="nb">symmetry in</span> H0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps f args = tLetIn n b ty t</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term,
  <span class="kp">eval</span> b b&#39;
  √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;})
      (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk111"><span class="highlight"><span class="nb">eapply</span> mkApps_nisApp <span class="kr">in</span> H0 =&gt; //; <span class="nb">intuition</span> <span class="nb">subst</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tLetIn n b ty t)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := tLetIn n b ty t;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term,
  <span class="kp">eval</span> b b&#39;
  √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;})
      (mkApps (tFix mfix idx) (fixargsv ++ argsv))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk112"><span class="highlight">depelim a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">aname</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b, ty, t</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tLetIn n b ty t)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">n0</span> : aname) (<span class="nv">b0</span> <span class="nv">ty0</span> <span class="nv">t0</span> <span class="nv">v</span> : term),
{| pr1 := tLetIn n0 b0 ty0 t0; pr2 := v |} =
{|
pr1 := tLetIn n b ty t;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë b&#39; : term,
  <span class="kp">eval</span> b0 b&#39; √ó <span class="kp">eval</span> (t0 {<span class="mi">0</span> := b&#39;}) v</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë b&#39; : term,
  <span class="kp">eval</span> b b&#39;
  √ó <span class="kp">eval</span> (t {<span class="mi">0</span> := b&#39;})
      (mkApps (tFix mfix idx) (fixargsv ++ []))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> app_nil_r.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk113"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eval_Const</span> {<span class="nv">c</span> <span class="nv">u</span> <span class="nv">v</span>} :
    <span class="kp">eval</span> (tConst c u) v -&gt;
    ‚àë decl, declared_constant Œ£ c decl *
                 <span class="kr">match</span> cst_body decl <span class="kr">with</span>
                 | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) v
                 | None =&gt; v = tConst c u
                 <span class="kr">end</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) v -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) v
    | None =&gt; v = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk114"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">v</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tConst c u) v -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) v
    | None =&gt; v = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk115"><span class="highlight"><span class="nb">intros</span> H; depind H; <span class="kp">try</span> solve_discr&#39;; <span class="kp">try</span> <span class="bp">now</span> <span class="bp">easy</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">body</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = Some body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (subst_instance u body) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := subst_instance u body;
pr2 := res |} -&gt;
‚àë decl0 : constant_body,
  declared_constant Œ£ c0 decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body0 =&gt;
        <span class="kp">eval</span> (subst_instance u0 body0) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl0 : constant_body,
  declared_constant Œ£ c decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body0 =&gt; <span class="kp">eval</span> (subst_instance u body0) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk116" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk116"><hr></label><div class="goal-conclusion"><span class="highlight">‚àë decl0 : constant_body,
  declared_constant Œ£ c decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u body) (tConst c u)
    | None =&gt; tConst c u = tConst c u
    <span class="kr">end</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk117" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tConst c u = mkApps f args</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk117"><hr></label><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk118" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tConst c u = mkApps f args</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk118"><hr></label><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u body)
          (mkApps (tFix mfix idx) (fixargsv ++ argsv))
    | None =&gt;
        mkApps (tFix mfix idx) (fixargsv ++ argsv) =
        tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk119"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">body</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = Some body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (subst_instance u body) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := subst_instance u body;
pr2 := res |} -&gt;
‚àë decl0 : constant_body,
  declared_constant Œ£ c0 decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body0 =&gt;
        <span class="kp">eval</span> (subst_instance u0 body0) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl0 : constant_body,
  declared_constant Œ£ c decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body0 =&gt; <span class="kp">eval</span> (subst_instance u body0) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk11a"><span class="highlight"><span class="kr">exists</span> <span class="nv">decl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">body</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = Some body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (subst_instance u body) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := subst_instance u body;
pr2 := res |} -&gt;
‚àë decl0 : constant_body,
  declared_constant Œ£ c0 decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body0 =&gt;
        <span class="kp">eval</span> (subst_instance u0 body0) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">declared_constant Œ£ c decl *
<span class="kr">match</span> cst_body decl <span class="kr">with</span>
| Some body0 =&gt; <span class="kp">eval</span> (subst_instance u body0) res
| None =&gt; res = tConst c u
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk11b"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">body</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = Some body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (subst_instance u body) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := subst_instance u body;
pr2 := res |} -&gt;
‚àë decl0 : constant_body,
  declared_constant Œ£ c0 decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body0 =&gt;
        <span class="kp">eval</span> (subst_instance u0 body0) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> cst_body decl <span class="kr">with</span>
| Some body0 =&gt; <span class="kp">eval</span> (subst_instance u body0) res
| None =&gt; res = tConst c u
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> e.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk11c"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl0 : constant_body,
  declared_constant Œ£ c decl0
  √ó <span class="kr">match</span> cst_body decl0 <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u body) (tConst c u)
    | None =&gt; tConst c u = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk11d"><span class="highlight"><span class="kr">exists</span> <span class="nv">decl</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">declared_constant Œ£ c decl *
<span class="kr">match</span> cst_body decl <span class="kr">with</span>
| Some body =&gt;
    <span class="kp">eval</span> (subst_instance u body) (tConst c u)
| None =&gt; tConst c u = tConst c u
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk11e"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">decl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">constant_body</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">isdecl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">declared_constant Œ£ c decl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">cst_body decl = None</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">match</span> cst_body decl <span class="kr">with</span>
| Some body =&gt;
    <span class="kp">eval</span> (subst_instance u body) (tConst c u)
| None =&gt; tConst c u = tConst c u
<span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> e.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk11f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tConst c u = mkApps f args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk120"><span class="highlight"><span class="nb">symmetry in</span> H1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps f args = tConst c u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk121"><span class="highlight"><span class="nb">eapply</span> mkApps_nisApp <span class="kr">in</span> H1 =&gt; //; <span class="nb">intuition</span> <span class="nb">subst</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tConst c u)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ argsv)) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ argsv);
pr2 := res |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk122"><span class="highlight">depelim a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tConst c u)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ []);
pr2 := res |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk123"><span class="highlight"><span class="nb">eapply</span> eval_to_stuck_fix_inv <span class="kr">in</span> H; [|<span class="bp">easy</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ []);
pr2 := res |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor narg fixargsv)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk124"><span class="highlight"><span class="nb">apply</span> negb_true_iff <span class="kr">in</span> H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn, res</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (mkApps fn (fixargsv ++ [])) res</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := mkApps fn (fixargsv ++ []);
pr2 := res |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_constructor narg fixargsv = false</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt; <span class="kp">eval</span> (subst_instance u body) res
    | None =&gt; res = tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> app_nil_r <span class="kr">in</span> i.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk125"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">tConst c u = mkApps f args</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u body)
          (mkApps (tFix mfix idx) (fixargsv ++ argsv))
    | None =&gt;
        mkApps (tFix mfix idx) (fixargsv ++ argsv) =
        tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk126"><span class="highlight"><span class="nb">symmetry in</span> H0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, args, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> args argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := f;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mkApps f args = tConst c u</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u body)
          (mkApps (tFix mfix idx) (fixargsv ++ argsv))
    | None =&gt;
        mkApps (tFix mfix idx) (fixargsv ++ argsv) =
        tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk127"><span class="highlight"><span class="nb">eapply</span> mkApps_nisApp <span class="kr">in</span> H0 =&gt; //; <span class="nb">intuition</span> <span class="nb">subst</span>; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv, argsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tConst c u)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] argsv</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true
  (~~ is_constructor narg (fixargsv ++ argsv))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u body)
          (mkApps (tFix mfix idx) (fixargsv ++ argsv))
    | None =&gt;
        mkApps (tFix mfix idx) (fixargsv ++ argsv) =
        tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk128"><span class="highlight">depelim a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tConst c u)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë decl : constant_body,
  declared_constant Œ£ c decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u body)
          (mkApps (tFix mfix idx) (fixargsv ++ []))
    | None =&gt;
        mkApps (tFix mfix idx) (fixargsv ++ []) =
        tConst c u
    <span class="kr">end</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk129"><span class="highlight"><span class="nb">apply</span> IHeval.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mfix</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">mfixpoint term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fixargsv</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">narg</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">fn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">kername</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kn">Instance</span>.t</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> (tConst c u)
  (mkApps (tFix mfix idx) fixargsv)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">unfold_fix mfix idx = Some (narg, fn)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ is_constructor narg (fixargsv ++ []))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHeval</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">c0</span> : kername) (<span class="nv">u0</span> : Instance.t)
  (<span class="nv">v</span> : term),
{| pr1 := tConst c0 u0; pr2 := v |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |} -&gt;
‚àë decl : constant_body,
  declared_constant Œ£ c0 decl
  √ó <span class="kr">match</span> cst_body decl <span class="kr">with</span>
    | Some body =&gt;
        <span class="kp">eval</span> (subst_instance u0 body) v
    | None =&gt; v = tConst c0 u0
    <span class="kr">end</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) (fixargsv ++ []) |} =
{|
pr1 := tConst c u;
pr2 := mkApps (tFix mfix idx) fixargsv |}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">now</span> <span class="nb">rewrite</span> app_nil_r.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="c">(* Lemma eval_mkApps_tCoFix mfix idx l v : *)</span>
  <span class="c">(*   eval (mkApps (tCoFix mfix idx) l) v -&gt; *)</span>
  <span class="c">(*   ‚àë l&#39;, All2 eval l l&#39; * (v = mkApps (tCoFix mfix idx) l&#39;). *)</span>
  <span class="c">(* Proof. *)</span>
  <span class="c">(*   intros H. *)</span>
  <span class="c">(*   depind H; try solve_discr&#39;. *)</span>
  <span class="c">(*   - destruct (mkApps_elim f (a :: l0)). admit. *)</span>
  <span class="c">(*     rewrite [tApp _ _](mkApps_nested f (firstn n l1) (skipn n l1)) in x. *)</span>
  <span class="c">(*     solve_discr&#39;. *)</span>
  <span class="c">(*     specialize (IHeval1 _ _ _ eq_refl). *)</span>
  <span class="c">(*     firstorder eauto. *)</span>
  <span class="c">(*     solve_discr&#39;. *)</span>
  <span class="c">(*   - destruct (mkApps_elim f args). solve_discr&#39;. *)</span>
  <span class="c">(*     specialize (IHeval1 _ _ _ eq_refl). *)</span>
  <span class="c">(*     firstorder eauto. solve_discr. *)</span>
  <span class="c">(*   - destruct (mkApps_elim f args). solve_discr&#39;. *)</span>
  <span class="c">(*     specialize (IHeval _ _ _ eq_refl). *)</span>
  <span class="c">(*     firstorder eauto. solve_discr. *)</span>
  <span class="c">(*   - destruct (mkApps_elim f [a]). *)</span>
  <span class="c">(*     replace (tApp (mkApps f (firstn n l0)) a) with (mkApps f (firstn n l0 ++ [a])) in x. *)</span>
  <span class="c">(*     2:now rewrite -mkApps_nested. *)</span>
  <span class="c">(*     solve_discr&#39;. *)</span>
  <span class="c">(*     specialize (IHeval1 _ _ _ eq_refl). *)</span>
  <span class="c">(*     firstorder eauto. subst. *)</span>
  <span class="c">(*     exists (x ++ [a&#39;]). *)</span>
  <span class="c">(*     split. eapply All2_app; auto. *)</span>
  <span class="c">(*     now rewrite -mkApps_nested. *)</span>
  <span class="c">(*   - eapply atom_mkApps in i; intuition try easy. *)</span>
  <span class="c">(*     subst. *)</span>
  <span class="c">(*     exists []. intuition auto. *)</span>
  <span class="c">(* Qed. *)</span>

  <span class="c">(* Should follow from PCUIC&#39;s eval deterministic? *)</span>
  <span class="c">(* Lemma eval_deterministic {t v v&#39;} : eval t v -&gt; eval t v&#39; -&gt; v = v&#39;. *)</span>
  <span class="c">(* Proof. *)</span>
  <span class="c">(*   intros tv. revert v&#39;. *)</span>
  <span class="c">(*   revert t v tv. *)</span>
  <span class="c">(*   induction 1 using eval_evals_ind; intros v&#39; tv&#39;. *)</span>
  <span class="c">(*   - depelim tv&#39;; auto. *)</span>
  <span class="c">(*     * specialize (IHtv1 _ tv&#39;1); try congruence. inv IHtv1. *)</span>
  <span class="c">(*       specialize (IHtv2 _ tv&#39;2). subst. *)</span>
  <span class="c">(*       specialize (IHtv3 _ tv&#39;3). now subst. *)</span>
  <span class="c">(*     * rewrite [args](app_removelast_last a) in x. *)</span>
  <span class="c">(*       destruct args; discriminate. *)</span>
  <span class="c">(*       rewrite -mkApps_nested in x. simpl in x. injection x. intros. clear x. *)</span>
  <span class="c">(*       subst. *)</span>
  <span class="c">(*       admit. *)</span>
  <span class="c">(* Admitted. *)</span>
  <span class="c">(*   - depelim tv&#39;; auto; try specialize (IHtv1 _ tv&#39;1) || solve [depelim tv1]; try congruence. *)</span>
  <span class="c">(*     inv IHtv1. specialize (IHtv2 _ tv&#39;2). subst. *)</span>
  <span class="c">(*     now specialize (IHtv3 _ tv&#39;3). *)</span>
  <span class="c">(*     now subst f&#39;. easy. *)</span>
  <span class="c">(*   - eapply eval_LetIn in tv&#39; as [b&#39; [evb evt]]. *)</span>
  <span class="c">(*     rewrite -(IHtv1 _ evb) in evt. *)</span>
  <span class="c">(*     eapply (IHtv2 _ evt). *)</span>
  <span class="c">(*   - depelim tv&#39;; try solve_discr. *)</span>
  <span class="c">(*     * specialize (IHtv1 _ tv&#39;1). *)</span>
  <span class="c">(*       solve_discr. inv H. *)</span>
  <span class="c">(*       now specialize (IHtv2 _ tv&#39;2). *)</span>
  <span class="c">(*     * specialize (IHtv1 _ tv&#39;1); solve_discr. *)</span>
  <span class="c">(*     * eapply eval_mkApps_tCoFix in tv1 as [l&#39; [ev&#39; eq]]. solve_discr. *)</span>
  <span class="c">(*     * easy. *)</span>
  <span class="c">(*   - subst. *)</span>
  <span class="c">(*     depelim tv&#39;. *)</span>
  <span class="c">(*     * specialize (IHtv1 _ tv&#39;1). *)</span>
  <span class="c">(*       solve_discr. *)</span>
  <span class="c">(*     * specialize (IHtv1 _ tv&#39;1). *)</span>
  <span class="c">(*       now specialize (IHtv2 _ tv&#39;2). *)</span>
  <span class="c">(*     * pose proof tv1. eapply eval_mkApps_tCoFix in H0. *)</span>
  <span class="c">(*       destruct H0 as [l&#39; [evargs eq]]. solve_discr. *)</span>
  <span class="c">(*     * easy. *)</span>
  <span class="c">(*   - depelim tv&#39; =&gt; //. *)</span>
  <span class="c">(*     * depelim tv&#39;1. *)</span>
  <span class="c">(*     * depelim tv&#39;1. *)</span>
  <span class="c">(*     * rewrite H in H0. inv H0. *)</span>
  <span class="c">(*       now specialize (IHtv _ tv&#39;). *)</span>
  <span class="c">(*     * now depelim tv&#39;1. *)</span>

  <span class="c">(*   - depelim tv&#39;; try easy. *)</span>
  <span class="c">(*     * eapply eval_mkApps_tCoFix in tv&#39;1 as [l&#39; [evargs eq]]. *)</span>
  <span class="c">(*       solve_discr. *)</span>
  <span class="c">(*     * eapply eval_mkApps_tCoFix in tv&#39;1 as [l&#39; [evargs eq]]. *)</span>
  <span class="c">(*       solve_discr. *)</span>
  <span class="c">(*     * solve_discr. inv H1. rewrite H in H0. inv H0. *)</span>
  <span class="c">(*       now specialize (IHtv _ tv&#39;). *)</span>

  <span class="c">(*   - depelim tv&#39;; try easy. *)</span>
  <span class="c">(*     * solve_discr. inv H1. rewrite H in H0. inv H0. *)</span>
  <span class="c">(*       now specialize (IHtv _ tv&#39;). *)</span>
  <span class="c">(*     * eapply eval_mkApps_tCoFix in tv&#39;1 as [l&#39; [evargs eq]]. *)</span>
  <span class="c">(*       solve_discr. *)</span>
  <span class="c">(*     * eapply eval_mkApps_tCoFix in tv&#39; as [l&#39; [evargs eq]]. *)</span>
  <span class="c">(*       solve_discr. *)</span>

  <span class="c">(*   - eapply eval_Const in tv&#39; as [decl&#39; [body&#39; [? ?]]]. *)</span>
  <span class="c">(*     intuition eauto. eapply IHtv. *)</span>
  <span class="c">(*     red in isdecl, H0. rewrite H0 in isdecl. inv isdecl. *)</span>
  <span class="c">(*     now rewrite H in H2; inv H2. *)</span>

  <span class="c">(*   - depelim tv&#39;. *)</span>
  <span class="c">(*     * eapply eval_mkApps_tCoFix in tv1 as [l&#39; [evargs eq]]. *)</span>
  <span class="c">(*       solve_discr. *)</span>
  <span class="c">(*     * specialize (IHtv1 _ tv&#39;1). *)</span>
  <span class="c">(*       solve_discr. inv H. *)</span>
  <span class="c">(*       now specialize (IHtv2 _ tv&#39;2). *)</span>
  <span class="c">(*     * specialize (IHtv1 _ tv&#39;). solve_discr. *)</span>
  <span class="c">(*     * easy. *)</span>

  <span class="c">(*   - depelim tv&#39;; try easy. *)</span>
  <span class="c">(*     * eapply eval_mkApps_tCoFix in tv as [l&#39; [evargs eq]]. *)</span>
  <span class="c">(*       solve_discr. *)</span>
  <span class="c">(*     * specialize (IHtv _ tv&#39;1). solve_discr. *)</span>

  <span class="c">(*   - depelim tv&#39;; try specialize (IHtv1 _ tv&#39;1); subst; try easy. *)</span>
  <span class="c">(*     depelim tv1. easy. *)</span>
  <span class="c">(*     specialize (IHtv2 _ tv&#39;2). congruence. *)</span>

  <span class="c">(*   - depelim tv&#39;; try easy. *)</span>
  <span class="c">(* Qed. *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk12a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">All2_app_inv_l</span> :
  <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> <span class="nv">R</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">r</span>,
    @All2 A B R (l1 ++ l2) r -&gt;
    ‚àë r1 r2,
      (r = r1 ++ r2) √ó
      All2 R l1 r1 √ó
      All2 R l2 r2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>) (<span class="nv">R</span> : A -&gt; B -&gt; <span class="kt">Type</span>)
  (<span class="nv">l1</span> <span class="nv">l2</span> : list A) (<span class="nv">r</span> : list B),
All2 R (l1 ++ l2) r -&gt;
‚àë r1 r2 : list B,
  r = r1 ++ r2 √ó All2 R l1 r1 √ó All2 R l2 r2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk12b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>) (<span class="nv">R</span> : A -&gt; B -&gt; <span class="kt">Type</span>)
  (<span class="nv">l1</span> <span class="nv">l2</span> : list A) (<span class="nv">r</span> : list B),
All2 R (l1 ++ l2) r -&gt;
‚àë r1 r2 : list B,
  r = r1 ++ r2 √ó All2 R l1 r1 √ó All2 R l2 r2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk12c"><span class="highlight"><span class="nb">intros</span> A B R l1 l2 r h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àë r1 r2 : list B,
  r = r1 ++ r2 √ó All2 R l1 r1 √ó All2 R l2 r2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk12d"><span class="highlight"><span class="kr">exists</span> (<span class="nv">firstn</span> #|l1| r), (skipn #|l1| r).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(r = firstn #|l1| r ++ skipn #|l1| r) *
(All2 R l1 (firstn #|l1| r)
 √ó All2 R l2 (skipn #|l1| r))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk12e"><span class="highlight"><span class="nb">split</span> ; [| <span class="nb">split</span>].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">r = firstn #|l1| r ++ skipn #|l1| r</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk12f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk12f"><hr></label><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk130" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk130"><hr></label><div class="goal-conclusion"><span class="highlight">All2 R l2 (skipn #|l1| r)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk131"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">r = firstn #|l1| r ++ skipn #|l1| r</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk132"><span class="highlight"><span class="nb">rewrite</span> firstn_skipn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">r = r</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk133"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk134"><span class="highlight"><span class="nb">apply</span> All2_firstn <span class="kr">with</span> (n := #|l1|) <span class="kr">in</span> h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (firstn #|l1| (l1 ++ l2)) (firstn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk135"><span class="highlight"><span class="nb">rewrite</span> firstn_app <span class="kr">in</span> h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R
  (firstn #|l1| l1 ++ firstn (#|l1| - #|l1|) l2)
  (firstn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk136"><span class="highlight"><span class="nb">rewrite</span> firstn_all <span class="kr">in</span> h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ firstn (#|l1| - #|l1|) l2)
  (firstn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk137"><span class="highlight"><span class="nb">replace</span> (#|l1| - #|l1|) <span class="kr">with</span> <span class="mi">0</span> <span class="kr">in</span> h <span class="bp">by</span> <span class="bp">lia</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ firstn <span class="mi">0</span> l2) (firstn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk138"><span class="highlight"><span class="nb">cbn</span> <span class="kr">in</span> h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ []) (firstn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk139"><span class="highlight"><span class="nb">rewrite</span> app_nil_r <span class="kr">in</span> h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l1 (firstn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk13a"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (l1 ++ l2) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l2 (skipn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk13b"><span class="highlight"><span class="nb">apply</span> All2_skipn <span class="kr">with</span> (n := #|l1|) <span class="kr">in</span> h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R (skipn #|l1| (l1 ++ l2)) (skipn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l2 (skipn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk13c"><span class="highlight"><span class="nb">rewrite</span> skipn_all_app <span class="kr">in</span> h.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A, B</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">A -&gt; B -&gt; <span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1, l2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list B</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">h</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 R l2 (skipn #|l1| r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 R l2 (skipn #|l1| r)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">assumption</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk13d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eval_mkApps_cong</span> <span class="nv">f</span> <span class="nv">f&#39;</span> <span class="nv">l</span> <span class="nv">l&#39;</span> :
    ~~ isApp f -&gt;
    <span class="kp">eval</span> f f&#39; -&gt;
    value_head f&#39; -&gt;
    All2 <span class="kp">eval</span> l l&#39; -&gt;
    <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk13e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l, l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk13f"><span class="highlight"><span class="nb">revert</span> l&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk140"><span class="highlight"><span class="nb">induction</span> l <span class="nb">using</span> rev_ind; <span class="nb">intros</span> l&#39; appf evf vf&#39; evl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] l&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f []) (mkApps f&#39; l&#39;)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk141" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;0</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39;0 -&gt;
<span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) l&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk141"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk142"><span class="highlight">depelim evl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f []) (mkApps f&#39; [])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk143" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;0</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39;0 -&gt;
<span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) l&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk143"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk144"><span class="highlight"><span class="nb">intros</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f []) (mkApps f&#39; [])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk145" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;0</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39;0 -&gt;
<span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) l&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk145"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk146"><span class="highlight"><span class="nb">eapply</span> evf.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;0</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39;0 -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) l&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk147"><span class="highlight"><span class="nb">eapply</span> All2_app_inv_l <span class="kr">in</span> evl <span class="kr">as</span> [? [? [? ?]]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;0</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39;0 -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l&#39; = x0 ++ x1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0 * All2 <span class="kp">eval</span> [x] x1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk148"><span class="highlight"><span class="nb">intuition</span> <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;0</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39;0 -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l&#39; = x0 ++ x1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [x] x1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; l&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk149"><span class="highlight"><span class="nb">subst</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0, x1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [x] x1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; (x0 ++ x1))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk14a"><span class="highlight">depelim b.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;0</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39;0 -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;0)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> [] l&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; (x0 ++ y :: l&#39;))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk14b"><span class="highlight">depelim b.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (mkApps f (l ++ [x])) (mkApps f&#39; (x0 ++ [y]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk14c"><span class="highlight"><span class="nb">rewrite</span> -mkApps_tApp =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_empty (l ++ [x]))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk14d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39; -&gt;
<span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk14d"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tApp f (l ++ [x])) (mkApps f&#39; (x0 ++ [y]))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk14e"><span class="highlight"><span class="nb">rewrite</span> is_empty_app /= andb_false_r //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kp">eval</span> (tApp f (l ++ [x])) (mkApps f&#39; (x0 ++ [y]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk14f"><span class="highlight"><span class="nb">eapply</span> eval_app_cong; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true (~~ is_empty (l ++ [x]))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk150" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39; -&gt;
<span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk150"><hr></label><div class="goal-conclusion"><span class="highlight">is_true
  (~~ (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk151" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39; -&gt;
<span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk151"><hr></label><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (x0 ++ [y])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk152"><span class="highlight"><span class="nb">rewrite</span> is_empty_app /= andb_false_r //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">is_true
  (~~ (isLambda f&#39; || isFixApp f&#39; || isArityHead f&#39;))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="WcbvEval-v-chk153" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt;
All2 <span class="kp">eval</span> l l&#39; -&gt;
<span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="WcbvEval-v-chk153"><hr></label><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (x0 ++ [y])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="WcbvEval-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="WcbvEval-v-chk154"><span class="highlight"><span class="nb">destruct</span> f&#39;; <span class="nb">auto</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">Œ£</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">global_env</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Œì</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">context</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f, f', x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l&#39;</span> : list term,
~~ isApp f -&gt;
<span class="kp">eval</span> f f&#39; -&gt;
value_head f&#39; -&gt; All2 <span class="kp">eval</span> l l&#39; -&gt; <span class="kp">eval</span> (mkApps f l) (mkApps f&#39; l&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">appf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (~~ isApp f)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">evf</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> f f&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">vf'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">is_true (value_head f&#39;)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">list term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">term</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">All2 <span class="kp">eval</span> l x0</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kp">eval</span> x y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">All2 <span class="kp">eval</span> (l ++ [x]) (x0 ++ [y])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">eapply</span> All2_app; <span class="nb">auto</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Wcbv</span>.</span></span></span></pre><div class="doc">
Well-typed closed programs can't go wrong: they always evaluate to a value. 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Conjecture</span> <span class="nv">closed_typed_wcbeval</span> : <span class="kr">forall</span> {<span class="nv">cf</span> : checker_flags} (<span class="nv">Œ£</span> : global_env_ext) <span class="nv">t</span> <span class="nv">T</span>,
    Œ£ ;;; [] |- t : T -&gt; ‚àë u, <span class="kp">eval</span> (fst Œ£) [] t u.</span></span></span></pre><div class="doc">
Evaluation is a subrelation of reduction: 
</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Tactic Notation</span> <span class="s2">&quot;redt&quot;</span> <span class="kp">uconstr</span>(y) := <span class="nb">eapply</span> (<span class="nb">transitivity</span> (R:=<span class="nb">red</span> _ _) (y:=y)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* Lemma wcbeval_red : forall (Œ£ : global_env_ext) Œì t u, *)</span>
<span class="c">(*     eval Œ£ Œì t u -&gt; red Œ£ Œì t u. *)</span>
<span class="c">(* Proof. *)</span>
<span class="c">(*   intros Œ£. *)</span>
<span class="c">(*   induction 1 using eval_evals_ind; try solve[ constructor; eauto]. *)</span>

<span class="c">(*   - redt (tApp (tLambda na t b) (a :: l)); eauto. *)</span>
<span class="c">(*     eapply red_app; eauto. *)</span>
<span class="c">(*     redt (tApp (tLambda na t b) a&#39;). eapply red_app; eauto. *)</span>
<span class="c">(*     redt (b {0 := a&#39;}). do 2 econstructor. apply IHX3. *)</span>

<span class="c">(*   - redt (tLetIn na b0&#39; t b1); eauto. *)</span>
<span class="c">(*     eapply red_letin; auto. *)</span>
<span class="c">(*     redt (b1 {0 := b0&#39;}); auto. *)</span>
<span class="c">(*     do 2 econstructor. *)</span>

<span class="c">(*   - redt (lift0 (S i) body); auto. *)</span>
<span class="c">(*     eapply red1_red. econstructor. *)</span>
<span class="c">(*     auto. *)</span>

<span class="c">(*   - redt (subst_instance u body); auto. *)</span>
<span class="c">(*     eapply red1_red. econstructor; eauto. *)</span>

<span class="c">(*   - redt (tCase (ind, pars) p _ brs). *)</span>
<span class="c">(*     eapply red_case; eauto. *)</span>
<span class="c">(*     eapply All2_same. intros. split; auto. *)</span>
<span class="c">(*     redt (iota_red _ _ _ _); eauto. *)</span>
<span class="c">(*     eapply red1_red. econstructor. *)</span>

<span class="c">(*   - redt _. 2:eauto. *)</span>
<span class="c">(*     redt (tProj _ (mkApps _ _)). eapply red_proj_c. eauto. *)</span>
<span class="c">(*     apply red1_red. econstructor; eauto. *)</span>

<span class="c">(*   - redt (mkApps (tFix mfix idx) args&#39;); eauto. *)</span>
<span class="c">(*     eapply red_mkApps; eauto. *)</span>
<span class="c">(*     redt (mkApps fn args&#39;); eauto. *)</span>
<span class="c">(*     eapply red1_red. eapply red_fix; eauto. *)</span>

<span class="c">(*   - eapply red_mkApps; auto. *)</span>

<span class="c">(*   - redt _. eapply red1_red. eapply PCUICTyping.red_cofix_case; eauto. eauto. *)</span>

<span class="c">(*   - redt _. 2:eauto. *)</span>
<span class="c">(*     redt (tProj _ (mkApps _ _)). eapply red_proj_c. eauto. *)</span>
<span class="c">(*     apply red1_red. econstructor; eauto. *)</span>

<span class="c">(*   - eapply (red_mkApps _ _ [a] [a&#39;]); auto. *)</span>
<span class="c">(* Qed. *)</span></span></span></pre></article></body></html>